"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4236],{3640:(t,n,e)=>{e.d(n,{KW:()=>f,P$:()=>v,Ry:()=>h,Y_:()=>l,b6:()=>m,ck:()=>s,cr:()=>p,g8:()=>g,m9:()=>d,mP:()=>y,ro:()=>c});var r=e(44110),i=e(12345),o=e(53372),u="environmentVariables",a=(0,i.q)(u),c=(0,i.B)(u,a,{key:"key"});function s(t,n){return t.environmentVariables.getIn(["pages",n,"ids"],(0,r.List)()).map(function(n){return t.environmentVariables.getIn(["entities",n]).toJS()}).toJS()}function l(t,n){return t.environmentVariables.getIn(["pages",n,"isFetching"])}function f(t,n){return t.environmentVariables.getIn(["pages",n,"error"])}function d(t){var n=t.accountId,e=t.siteId,r=t.scope,i=t.context,u=t.merge;return(0,o.Nt)(function(t,o,c){return t(a.environmentVariablesRequest(e||n)),c.getEnvVars({accountId:n,siteId:e,scope:r,context:i,merge:u}).then(function(r){return t(a.environmentVariablesSuccess(e||n,r.data,r.pagination))}).catch(function(r){Promise.reject(r),t(a.environmentVariablesFailure(e||n,r))})})}function g(t){var n=t.accountId,e=t.siteId,r=t.envVars;return(0,o.Nt)(function(t,i,o){return o.createEnvVars({accountId:n,siteId:e,envVars:r}).then(function(r){return t(d({accountId:n,siteId:e}))}).catch(function(t){return Promise.reject(t)})})}function p(t){var n=t.accountId,e=t.siteId,r=t.oldKey,i=t.newKey,u=t.is_secret,a=t.scopes,c=t.values;return(0,o.Nt)(function(t,o,s){return s.updateEnvVar({accountId:n,siteId:e,oldKey:r,newKey:i,is_secret:u,scopes:a,values:c}).then(function(r){return t(d({accountId:n,siteId:e}))}).catch(function(t){return Promise.reject(t)})})}function v(t){var n=t.accountId,e=t.siteId,r=t.envVars;return(0,o.Nt)(function(t,i,o){return Promise.all(r.map(function(t){return o.updateEnvVar({accountId:n,siteId:e,oldKey:t.key,newKey:t.key,is_secret:t.is_secret,scopes:t.scopes,values:t.values})})).then(function(r){return t(d({accountId:n,siteId:e}))}).catch(function(t){return Promise.reject(t)})})}function h(t){var n=t.accountId,e=t.siteId,r=t.envVars;return(0,o.Nt)(function(t,i,o){return Promise.all(r.flatMap(function(t){return t.values.map(function(r){var i=r.context,u=r.context_parameter,a=r.value;return o.setEnvVarValue({accountId:n,siteId:e,key:t.key,context:i,context_parameter:u,value:a})})})).then(function(r){return t(d({accountId:n,siteId:e}))}).catch(function(t){return Promise.reject(t)})})}function m(t){var n=t.accountId,e=t.siteId,r=t.envVars;return(0,o.Nt)(function(t,i,o){return Promise.all(r.map(function(t){var r=t.key,i=t.id;return o.deleteEnvVar({accountId:n,siteId:e,key:r,id:i})})).then(function(r){return t(d({accountId:n,siteId:e}))}).catch(function(t){return Promise.reject(t)})})}function y(t){var n=t.accountId,e=t.siteId,r=t.key,i=t.id;return(0,o.Nt)(function(t,o,u){return u.deleteEnvVar({accountId:n,siteId:e,key:r,id:i}).then(function(r){return t(d({accountId:n,siteId:e}))}).catch(function(t){return Promise.reject(t)})})}},5576:(t,n,e)=>{e.d(n,{R9:()=>m,jd:()=>S,rs:()=>y,v:()=>_});var r,i=e(44110),o=e(66602),u=e(14989),a=e(58963),c="USER_ANALYTICS_METRIC_SUCCESS",s="USER_ANALYTICS_METRIC_FETCHING_DONE",l="USER_ANALYTICS_METRIC_FETCHING_STARTED",f={resolution:"hour",days:7},d=7,g=(0,o.A)(c,function(t,n,e,r){var i=r.data;return{metric:t,siteId:n.get("id"),period:e,data:i}}),p=(0,o.A)(s,function(t,n){return{metric:t,siteId:n.get("id")}}),v=(0,o.A)(l,function(t,n){return{metric:t,siteId:n.get("id")}});function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,e=new Date;return{from:(0,u.ol)((0,u.gg)(e,n)).getTime(),to:e.getTime(),resolution:t}}function m(t,n){var e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,o=i.resolution,u=i.days,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return{period:h(t,n),periodByRange:h("range",n)}}(o,u).period;return d=u,e=function(e,r,i){return Promise.all([e(v(n,t)),i.realUserMetric(t.get("id"),n,c,s).then(function(r){return e(g(n,t,s,r))})]).then(function(){return e(p(n,t))})},function(t,n){var i=n().config;return e(t,n,r=r||new a.Ay(i))}}function y(t,n,e){return t.realUserMetrics.get("".concat(n.get("id"),"-").concat(e))&&t.realUserMetrics.get("".concat(n.get("id"),"-").concat(e)).toJS()}function S(){return d}var _=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case l:return t.setIn(["".concat(n.payload.siteId,"-").concat(n.payload.metric),"isFetching"],!0);case c:return t.set("".concat(n.payload.siteId,"-").concat(n.payload.metric),(0,i.fromJS)({data:n.payload.data,timePeriod:{from:n.payload.period.from,to:n.payload.period.to},status:"current"}));case s:return t.setIn(["".concat(n.payload.siteId,"-").concat(n.payload.metric),"isFetching"],!1);default:return t}}},5698:(t,n,e)=>{e.d(n,{I3:()=>s,N6:()=>u,PD:()=>a,X1:()=>c});var r=e(12345),i=e(78028),o=(0,r.q)("gitOrganizations");function u(){return(0,i.zc)(function(t,n,e){t(o.gitOrganizationsRequest(e.provider));var r=n().git.getIn(["user","login"]);e.organizations({userLogin:r}).then(function(n){return t(o.gitOrganizationsSuccess(e.provider,n.data,n.pagination))},function(n){return t(o.gitOrganizationsFailure(e.provider,n))})})}var a=(0,r.B)("gitOrganizations",o,{key:"full_name"});function c(t){var n=(0,i.oL)(t),e=t.gitOrganizations.getIn(["pages",n,"ids"]);return e&&e.map(function(n){return s(t,n)})}function s(t,n){return t.gitOrganizations.getIn(["entities",n])}},7719:(t,n,e)=>{e.d(n,{$K:()=>h,WF:()=>m,Ws:()=>y,ZK:()=>p,tU:()=>v,ty:()=>S});var r=e(29383),i=e(11080),o=e(17250),u=e(58406),a=e(53372),c=e(88704),s=e(26460);function l(t,n,e,r,i,o,u){try{var a=t[o](u),c=a.value}catch(t){e(t);return}a.done?n(c):Promise.resolve(c).then(r,i)}function f(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function u(t){l(o,r,i,u,a,"next",t)}function a(t){l(o,r,i,u,a,"throw",t)}u(void 0)})}}function d(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}function g(t,n){var e,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var s=[a,c];if(e)throw TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(o=0)),o;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var p="next";function v(t){var n=t.account,e=t.url,r=t.data,i=n.get("slug");return(0,a.Nt)(function(t,a,c){return c.updateSamlConfig(i,e,r).then(function(){t((0,o.yG)(i)),t((0,u.nj)(n))})})}function h(t){var n=t.get("slug");return(0,a.Nt)(function(t,e,r){return r.deleteSamlConfig(n).then(function(){return t((0,o.yG)(n))})})}function m(t,n){return(0,a.Nt)(function(e,r,i){return i.getSamlStartUrl(t).then(function(t){var e=new URL(t.data.sp_start_url);e.searchParams.append("redirect",window.location.origin),e.searchParams.append("tracking_session_id",n),document.location=e.href})})}function y(t){var n=t.token,e=t.slug;return function(t,o){return f(function(){var o,u;return g(this,function(l){switch(l.label){case 0:return window.location.hash="",o={access_token:n},[4,(0,i.M_)({access_token:o.access_token})];case 1:var f,g,v,h,m,y;return(l.sent(),u=(0,r.Hd)(p),(0,r.X)(p),u&&(0,c.xu)(u))?t((g=(f={user:o,slug:e,redirect:u}).user,f.slug,v=f.redirect,(0,a.Nt)(function(t,n,e){return e.user().then(function(n){g=d({},n.data,g),t({type:c.b6}),t((0,c.Lx)(g)),t((0,s.d9)(v))})}))):t((m=(h={user:o,slug:e}).user,y=h.slug,(0,a.Nt)(function(t,n,e){return e.user().then(function(n){m=d({},n.data,m),t({type:c.b6}),t((0,c.Lx)(m)),t((0,s.d9)(y?"/teams/".concat(y):"/"))})}))),[2]}})})()}}function S(t,n){return function(e,r){return f(function(){var r;return g(this,function(o){switch(o.label){case 0:return window.location.hash="",r={access_token:t},[4,(0,i.M_)({access_token:r.access_token})];case 1:var u,l,f;return o.sent(),e((0,c.Lx)(r)),e((l=(u={user:r,saml_slug:n}).user,f=u.saml_slug,(0,a.Nt)(function(t,n,e){return e.user().then(function(n){l=d({},n.data,l),t({type:c.b6}),t((0,c.Lx)(l)),t((0,s.d9)(f?"/teams/".concat(f):"/"))})}))),[2]}})})()}}},12345:(t,n,e)=>{e.d(n,{B:()=>c,q:()=>a});var r=e(44110),i=e(6985),o=e(66602);function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function a(t){var n,e=(0,i.ES)(t),r=e.toUpperCase(),a=t.toUpperCase(),c={REQUEST:"".concat(r,"_REQUEST"),SUCCESS:"".concat(r,"_SUCCESS"),FAILURE:"".concat(r,"_FAILURE")},s={REQUEST:"".concat(a,"_REQUEST"),SUCCESS:"".concat(a,"_SUCCESS"),FAILURE:"".concat(a,"_FAILURE")},l=(0,o.A)(c.REQUEST,function(t){return t}),f=(0,o.A)(c.SUCCESS,function(t){return t}),d=(0,o.A)(c.FAILURE,function(t,n){return{id:t,error:n}}),g=(0,o.A)(s.REQUEST,function(t){return t}),p=(0,o.A)(s.SUCCESS,function(t,n,e){return{list:t,entities:n,pages:e}}),v=(0,o.A)(s.FAILURE,function(t,n){return{list:t,error:n}}),h="".concat(e,"Request"),m="".concat(e,"Success"),y="".concat(e,"Failure"),S="".concat(t,"Request"),_="".concat(t,"Success"),b="".concat(t,"Failure");return u(n={},r,c),u(n,a,s),u(n,h,l),u(n,m,f),u(n,y,d),u(n,S,g),u(n,_,p),u(n,b,v),n}function c(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(0,i.ES)(t),a=t.toUpperCase(),c=o.toUpperCase();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)({entities:(0,r.Map)(),pages:(0,r.Map)()}),i=arguments.length>1?arguments[1]:void 0,o=e.handler&&e.handler(t,i);if(o)return o;var s=e.key||"id",l=e.getKey||function(t){return t[s]};switch(i.type){case n[c].REQUEST:return t.setIn(["entities",i.payload,"isFetching"],!0);case n[c].SUCCESS:var f=l(i.payload);if(!f)return t;var d=f.toString(),g=t.getIn(["entities",d])||(0,r.Map)();return t.setIn(["entities",d],g.merge(i.payload,{isFetching:!1}));case n[c].FAILURE:return t.withMutations(function(t){t.setIn(["entities",i.payload.id,"error"],(0,r.fromJS)(i.payload.error)).setIn(["entities",i.payload.id,"isFetching"],!1)});case n[a].REQUEST:return t.setIn(["pages",i.payload,"isFetching"],!0);case n[a].SUCCESS:var p=i.payload,v=p.list,h=p.entities,m=p.pages;return t.withMutations(function(t){var n,e;h.forEach(function(n,e){return t.setIn(["entities",l(n,e).toString()],(0,r.fromJS)(n).set("isFetching",!1))}),t.setIn(["pages",v],(0,r.Map)((n=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){u(t,n,e[n])})}return t}({},m),e=e={ids:(0,r.List)(h.map(function(t,n){return l(t,n).toString()}))},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):(function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e.push.apply(e,r)}return e})(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n)))});case n[a].FAILURE:return t.setIn(["pages",i.payload.list,"error"],(0,r.fromJS)(i.payload.error));default:return t}}}},13554:(t,n,e)=>{e.d(n,{Vi:()=>b,aW:()=>h,bf:()=>v,cR:()=>y,fs:()=>S,iR:()=>w,is:()=>N,m0:()=>E,ol:()=>I,qX:()=>A,w0:()=>_});var r=e(99895),i=e.n(r),o=e(44110),u=e(66602),a=e(12345),c=e(62981),s=e(75060),l=e(17250),f=e(53372),d="PAYMENT_METHOD_DELETION",g=(0,u.A)(d,function(t){return t}),p=(0,a.q)("paymentMethods"),v=(0,a.B)("paymentMethods",p,{handler:function(t,n){if(n.type===d){var e=n.payload;return t.set("entities",t.get("entities").filter(function(t){return t.get("account_id")!==e}))}}});function h(t){return(0,f.Nt)(function(n,e,r){return t?r.paymentMethod(t).then(function(t){return n(p.paymentMethodSuccess(t.data))}):Promise.resolve()})}function m(t){return(0,f.Nt)(function(n,e,r){return t?r.paymentMethodOrb(t).then(function(t){return n(p.paymentMethodSuccess(t.data))}):Promise.resolve()})}function y(t){return(0,s.Y7)(t)?"orb"===(0,c.uV)(t)?m(t.get("id")):h(null==t?void 0:t.get("payment_method_id")):(0,f.Nt)(function(){return Promise.resolve()})}function S(t,n){return(0,f.Nt)(function(e,r,u){return u.savePaymentMethod(t).then(function(t){return e(p.paymentMethodSuccess(t.data)),n&&(e(y(n)),e((0,l.yG)(n.get("slug")))),(0,o.fromJS)(t.data)},function(t){return i().notify(t,function(t){t.context="paymentMethods ﹥ savePaymentMethod"}),Promise.reject(t)})})}function _(t,n){return(0,f.Nt)(function(e,r,o){return o.createStripePaymentCustomer(t.get("id"),n).then(function(){e(m(t.get("id"))),e((0,l.yG)(t.get("slug")))},function(t){return i().notify(t,function(t){t.context="paymentMethods ﹥ createStripePaymentCustomer"}),Promise.reject(t)})})}function b(t){return(0,f.Nt)(function(n,e,r){return r.updateStripePaymentCustomer(t.get("id")).then(function(){n(m(t.get("id"))),n((0,l.yG)(t.get("slug")))},function(t){return i().notify(t,function(t){t.context="paymentMethods ﹥ updateStripePaymentCustomer"}),Promise.reject(t)})})}function I(t,n,e){return(0,f.Nt)(function(r,u,a){return a.saveStripePaymentMethod(n.get("id"),t,e).then(function(t){return r(p.paymentMethodSuccess(t.data)),n&&(r(y(n)),r((0,l.yG)(n.get("slug")))),(0,o.fromJS)(t.data)},function(t){return i().notify(t,function(t){t.context="paymentMethods ﹥ saveStripePaymentMethod"}),Promise.reject(t)})})}function A(t){return(0,f.Nt)(function(n){return Promise.resolve().then(function(){n(p.paymentMethodSuccess({accound_id:"",data:{name:t.billing_details.name,card_type:t.card.display_brand,last4:t.card.last4,country:t.card.country},id:t.id,isFetching:!1,organization_id:null,type:"card"}))})})}function w(t){return(0,f.Nt)(function(n,e,r){return r.deleteStripePaymentMethod(t.get("id")).then(function(){n(g(t.get("id")))},function(t){return i().notify(t,function(t){t.context="paymentMethods ﹥ deleteStripePaymentMethod"}),Promise.reject(t)})})}function E(t,n){return(0,f.Nt)(function(e,r,i){return i.removePaymentMethod(t).then(function(){e(g(n.get("id"))),e((0,l.yG)(n.get("slug")))})})}function N(t,n){return n?t.paymentMethods.get("entities").find(function(t){return t.get("account_id")===n.get("id")}):t.paymentMethods.get("entities").filter(function(t){return!t.get("account_id")}).last()}},15556:(t,n,e)=>{e.d(n,{$W:()=>a,_R:()=>u,kM:()=>c,rl:()=>s,sJ:()=>l});var r=e(44110),i=e.n(r),o="UPDATE_CONFIG";function u(t){return{type:o,payload:t}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().Map(),n=arguments.length>1?arguments[1]:void 0;return n.type===o?t.merge(n.payload):t}function c(t){var n=t.config.get("apiBase");return n&&n.replace(/\/api\/v\d\/?$/,"")}function s(t){return t.config.get("siteId")}function l(t){return t.config.get("githubAppId")}},17250:(t,n,e)=>{e.d(n,{$0:()=>B,$k:()=>tp,Aw:()=>tu,BU:()=>x,Df:()=>tv,F1:()=>H,I5:()=>$,Id:()=>tt,M9:()=>K,Mz:()=>tl,N8:()=>td,PG:()=>Y,PR:()=>tm,QS:()=>ty,Rc:()=>to,S:()=>Z,U5:()=>th,V3:()=>ta,_m:()=>W,gz:()=>tf,ib:()=>t_,jH:()=>tg,lw:()=>tr,o1:()=>D,qm:()=>X,vd:()=>ts,vz:()=>ti,w8:()=>te,xk:()=>G,yA:()=>tn,yG:()=>q,yO:()=>V,z0:()=>Q});var r=e(51101),i=e(43536),o=e(44110),u=e(66602),a=e(56315),c=e(12345),s=e(76690),l=e(94985),f=e(85342),d=e(41443),g=e(63521),p=e(29383),v=e(45235),h=e(82364),m=e(75060),y=e(53372),S=e(88704),_=e(99581),b=e(65900),I=e(65915),A=e(26460),w="ACCOUNT_DELETE_SUCCESS",E="ACCOUNT_COMPLIANCE_SUCCESS",N="SET_SELECTED_ACCOUNT",C="SET_REQUESTED_ACCOUNT_TYPE",O="ACCOUNT_BUILD_USAGE_SUCCESS",T="ACCOUNT_EDGE_FUNCTION_BANDWIDTH_USAGE_SUCCESS",R="ACCOUNT_SITES_SUMMARY_SUCCESS",P="ACCOUNT_DEV_SERVERS_SUMMARY_SUCCESS",U="ACCOUNT_LOGO_UPDATE_SUCCESS",D=(0,c.q)("accounts"),k=(0,u.A)(E,function(t,n){return{id:t,compliance:n}}),j=(0,u.A)(T,function(t,n){return{id:t.get("id"),edgeFunctions:n}}),L=(0,u.A)(O,function(t,n){return{id:t.get("id"),status:n}}),M=(0,u.A)(R,function(t,n){return{id:t,data:n}}),F=(0,u.A)(P,function(t,n){return{id:t,data:n}}),J=(0,u.A)(w,function(t){return{id:t.get("id"),slug:t.get("slug")}}),z=(0,u.A)(U,function(t,n){return{slug:t.get("slug"),logo_url:n}});function B(t){return function(n,e){n((0,_.KN)({accountId:t.get("id"),from:new Date(t.get("current_usage_period_start")).getTime(),to:new Date(t.get("next_usage_period_start")).getTime()})),n((0,y.Nt)(function(n,e,r){return r.accountBuildStatus(t.get("slug")).then(function(e){n(L(t,e.data))})})),n((0,y.Nt)(function(n,e,r){return r.accountEdgeFunctionsUsage(t.get("slug")).then(function(e){n(j(t,e.data))})})),(0,l.Bs)(t)&&n((0,_.$h)({accountId:t.get("id"),from:new Date(t.get("current_usage_period_start")).getTime(),to:new Date(t.get("next_usage_period_start")).getTime()}))}}function G(){return(0,y.Nt)(function(t,n,e){return t(D.accountsRequest("accounts")),e.accountsLightweight().then(function(n){var e;t(D.accountsSuccess("accounts",n.data,n.pagination)),null==(e=window.CommandBar)||e.addRecords("accounts",n.data.map(function(t){return(0,d.kH)(t)}))})})}function q(t){return(0,y.Nt)(function(n,e,r){return r.account(t).then(function(t){return n(D.accountSuccess(t.data))}).then(function(e){var r,i,o,u;return n((o=(i={accountId:null==e||null==(r=e.payload)?void 0:r.id,slug:t}).accountId,u=i.slug,(0,y.Nt)(function(t,n,e){return e.accountCompliance(u).then(function(n){return t(k(o,n.data))})}))),e}).catch(function(e){return n(D.accountFailure(t,e))})})}function x(t){return function(n,e){n(q(t.get("slug"))).then(function(){n(B(t))})}}function V(t){var n=t.accountId;return(0,y.Nt)(function(t,e,r){return r.accountSitesSummary(n).then(function(e){return t(M(n,e))}).catch(function(t){return new f.A(t)})})}var K=function(t,n){return t.accounts.get(tc({id:n},"sites_summary"))};function Y(t){var n=t.accountId;return(0,y.Nt)(function(t,e,r){return r.accountDevServersSummary(n).then(function(e){return t(F(n,e))}).catch(function(t){return new f.A(t)})})}var H=function(t,n){return t.accounts.get(tc({id:n},"dev_servers_summary"))};function W(t){return(0,y.Nt)(function(n,e,r){return r.createAccount(t).then(function(t){var e=t.data;n(D.accountSuccess(e)),n(G()),n((0,a.VC)("/teams/".concat(e.slug))),n((0,I.sx)({event:"subscription_created",category:"subscription",label:"Team plan ".concat(e.type_name)}))})})}function Q(t,n){return(0,y.Nt)(function(e,i,o){return o.updateAccount(t.get("id"),n).then(function(u){var a=u.data,c=(0,S.QR)(i());if(e((0,b.kX)()),e(D.accountSuccess(a)),n.logo&&o.updateAccountLogo(t.get("id"),n.logo).then(function(n){e(z(t,n.data.url))}).catch(function(t){return new f.A(t)}),(0,r.Ow)(t.get("type_slug"))&&(0,r.p6)(a.type_slug)&&a.type_id===n.type_id){var l=(0,g.Qn)()?"www":"app",d=(0,p.Hd)("gaID")||"";s.m39.appFlowUpgradePro({category:"flow",label:"Team upgraded to Pro",accountId:t.get("id"),gaID:d,source:l,trialRequested:!1,email:null==c?void 0:c.get("email")}),(0,g.ly)()}(0,r.xv)(t.get("type_slug"))&&((0,r.Ow)(a.type_slug)||(0,r.p6)(a.type_slug))&&a.type_id===n.type_id&&s.m39.appEnterpriseTrialDowngrade({newPlanTypeSlug:a.type_slug,daysLeftOnTrial:(0,g.fJ)(t)});var v=t.get("slug"),h=a.slug;v!==h&&e((0,A.d9)(document.location.pathname.replace("/teams/".concat(v,"/"),"/teams/".concat(h,"/"))))})})}function Z(t,n){return(0,y.Nt)(function(e,r,i){return i.updateAccountType(t.get("id"),n).then(function(){return e(q(t.get("slug")))})})}function $(t,n){var e=t.get("slug");return(0,y.Nt)(function(t,r,i){return i.updateAccountSecurityContacts(e,n).then(function(){return t(q(e))})})}function X(t){var n=t.account,e=t.data,r=n.get("slug");return(0,y.Nt)(function(t,n,i){return i.updateAccount(r,e).then(function(){return t(q(r))})})}function tt(t){return(0,y.Nt)(function(n,e,r){return r.cancelAccountScheduledDowngrade(t.get("id")).then(function(){return n(q(t.get("slug")))})})}function tn(t,n){return(0,y.Nt)(function(e,r,i){return i.updateAccount(t.get("id"),n).then(function(){var r=n.logo;if(void 0!==r)return i.updateAccountLogo(t.get("id"),r).then(function(){e(q(t.get("slug")))}).catch(function(t){return new f.A(t)})})})}function te(t){return(0,y.Nt)(function(n,e,r){return r.deleteAccountLogo(t.get("id")).then(function(){n(q(t.get("slug")))}).catch(function(t){return new f.A(t)})})}function tr(t){return s.m39.appAccountDelete({accountId:null==t?void 0:t.get("id"),accountSlug:null==t?void 0:t.get("slug")}),(0,y.Nt)(function(n,e,r){return r.deleteAccount(t.get("id")).then(function(){return n(G())})})}function ti(t){return function(n,e){n((0,b.kX)()),n(J(t)),n((0,A.d9)("/"))}}function to(t){return t?(0,p.AP)("nf-team",t):(0,p.sc)("nf-team"),{type:N,slug:t}}function tu(t){return{type:C,payload:{accountTypeRequested:t}}}function ta(){return tu(null)}var tc=function(t,n){return[t.get?t.get("id"):t.id,n].join("-")},ts=(0,c.B)("accounts",D,{key:"slug",handler:function(t,n){switch(n.type){case U:return t.setIn(["entities",n.payload.slug,"team_logo_url"],n.payload.logo_url);case N:return t.set("selected",n.slug);case C:return t.set("accountTypeRequested",n.payload.accountTypeRequested);case E:return t.set(tc(n.payload,"compliance"),(0,o.fromJS)(tS(n.payload.compliance)));case"ACCOUNT_CREATOR_SUCCESS":return t.set(tc(n.payload,"creator"),(0,o.fromJS)(n.payload));case O:return t.set(tc(n.payload,"build_minutes"),(0,o.fromJS)({used:n.payload.status.minutes?n.payload.status.minutes.current:n.payload.status.minutes_used}));case T:return t.set(tc(n.payload,"edge_functions"),(0,o.fromJS)(n.payload.edgeFunctions));case R:return t.set(tc(n.payload,"sites_summary"),(0,o.fromJS)(n.payload.data));case P:return t.set(tc(n.payload,"dev_servers_summary"),(0,o.fromJS)(n.payload.data));case w:return t.deleteIn(["entities",n.payload.slug]).setIn(["pages","accounts","ids"],t.getIn(["pages","accounts","ids"]).filter(function(t){return t!==n.payload.slug})).update("selected",function(t){return t===n.payload.slug?null:t});default:return null}}});function tl(t,n){var e,r,i,u=t.accounts.getIn(["entities",n]);return u?((0,h.fS)(u)&&(u=u.merge({user_capabilities:{billing:(0,m.U_)(u)}})),u=(u=u.mergeIn(["capabilities"],function(t,n){var e=t.bandwidth.get(tc(n,"bandwidthUsageDomains")),r=t.accounts.get(tc(n,"build_minutes")),i=t.accounts.get(tc(n,"edge_functions"));if(!(null==e?void 0:e.has("groups"))){var u,a=t.bandwidth.get(tc(n,"bandwidthUsageConnect")),c=(null==e?void 0:e.get("used"))||0,s=(null==a?void 0:a.get("used"))||0,l=c+s;e=null==e||null==(u=e.set("used",l))?void 0:u.set("groups",(0,o.Map)({domains:c,data_layers:s}))}return e&&r&&(0,o.Map)({period_start_date:e.get("period_start_date"),period_end_date:e.get("period_end_date"),last_updated_at:e.get("last_updated_at"),bandwidth:e,build_minutes:r.set("included",n.getIn(["capabilities","build_minutes","included"])),edge_functions:i})}(t,u))).mergeIn(["compliance"],(e=t,r=u.get("id"),null==(i=e.accounts)?void 0:i.get(tc({id:r},"compliance"))))):null}function tf(t,n){var e,r=null==(e=t.accounts.get("entities"))?void 0:e.toJS(),i=Object.values(null!=r?r:{}).find(function(t){return(null==t?void 0:t.id)===n}),o=null==i?void 0:i.slug;return o&&tl(t,o)}function td(t){var n=t.accounts.getIn(["pages","accounts","ids"]),e=n&&n.map(function(n){return tl(t,n)});return e?(0,o.List)(e.sort(function(t,n){return t.get("name").localeCompare(n.get("name"))})):(0,o.List)()}function tg(t){var n=t.accounts.getIn(["pages","accounts","last"]);return void 0!==n&&0===n}function tp(t,n){return t.accounts.getIn(["entities",n,"error"])}function tv(t){var n=t.user,e=td(t),r=null==n?void 0:n.get("preferred_account_id"),i=null==e?void 0:e.find(function(t){return(null==t?void 0:t.get("id"))===r});return i||n&&e&&(e.find(function(t){return!!t&&t.get("default")})||e.first())}function th(t){return t.accounts.get("accountTypeRequested")}function tm(t){var n=t.accounts.get("selected")||(0,p._S)("nf-team");return tl(t,n)||tv(t)}function ty(t){var n,e=t.state,o=t.account,u=t.noAccounts,a=t.pathname,c=t.search;if("/"!==a)return null;if(u)return"/teams/new";(null==(n=e.accounts.get("entities").toList())?void 0:n.some(function(t){return(0,v.XR)(null==t?void 0:t.get("role"))}))&&(!(null==n||n.every(function(t){return!!t&&(!!(0,v.XR)(t.get("role"))||!!t.get("default")&&!!(0,r.Ow)(t.get("type_slug"))&&1===t.get("members_count")&&!!(0,h.$m)(t))})),0);if(!o)return null;var s=(0,i.$A)(o.toJS());return s?c?"".concat(s).concat(c):s:null}var tS=function(t){return t&&!1===t.private_corp_repos.in_compliance||(t.private_corp_repos.in_compliance=!0),t};function t_(t){return function(n,e){var r=t.getIn(["capabilities","dev_servers","included"],0),i=t.getIn(["capabilities","dev_servers","max"],1/0),o=H(e(),t.get("id")),u=(null==o?void 0:o.getIn(["data","active_dev_server_count"],0))+1;if(!(u<=r)&&u<=i)return n(Q(t,{total_dev_servers:u}))}}},17871:(t,n,e)=>{e.d(n,{Dz:()=>h,cO:()=>y,cV:()=>w,jR:()=>I,kh:()=>b,qD:()=>A,r:()=>m}),e(51101);var r=e(44110),i=e(66602),o=e(17250),u=e(53372),a="PAYMENT_PROVIDER_TOKEN",c="PAYMENT_PROVIDER_TOKEN_SECURE_DECISION",s="BILLING_SUMMARY_SUCCESS",l="ACCOUNT_SUBSCRIPTIONS_SUCCESS",f="ACCOUNT_INVOICES_SUCCESS",d=((0,i.A)("BILLING_SUCCESS",function(t){return t}),(0,i.A)(a,function(t){return t}),(0,i.A)(c,function(t){return t})),g=(0,i.A)(s,function(t){return t}),p=(0,i.A)(l,function(t,n){return{id:t,subscriptions:n}}),v=(0,i.A)(f,function(t,n){return{id:t.get("id"),invoices:n}});function h(t){return function(n){n(d(t))}}function m(t){return function(n,e){var r,i;n((0,o.BU)(t)),n((r=t,(0,u.Nt)(function(t,n,e){return e.accountBillingSummary(r.get("slug")).then(function(n){return t(g(n.data))})}))),n((i=t,(0,u.Nt)(function(t,n,e){return e.accountInvoices(i.get("slug"),{pending:!0}).then(function(n){return t(v(i,n.data))})})))}}function y(t,n){return(0,u.Nt)(function(e,r,i){return i.accountSubscriptions(n).then(function(n){return e(p(t,n.data))})})}function S(t,n){return -1*t.base.toString().localeCompare((!!n.base).toString())||(t.site_domain||t.site_name||"").localeCompare(n.site_domain||n.site_name||"")||(t.site_id||"").localeCompare(n.site_id||"")||(t.title||"").localeCompare(n.title||"")}function _(t){return!!t.base||!!t.amount||!("bandwidth"===t.product_name.toLowerCase()||/usage/i.test(t.title)||0===t.quantity&&t.charges.every(function(t){return 0===t.quantity}))}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s:return t.set(n.payload.id,(0,r.fromJS)(n.payload));case l:return t.set("".concat(n.payload.id,"-subscriptions"),(0,r.fromJS)(n.payload.subscriptions.filter(_).sort(S)));case f:return t.set("".concat(n.payload.id,"-invoices"),(0,r.fromJS)(n.payload.invoices));case a:return t.set("paymentProviderToken",n.payload);case c:return t.set("paymentProviderTokenSecure",n.payload);default:return t}}function I(t,n){return t.billing.get(n.get("id"))}function A(t,n){if(!n)return(0,r.List)();var e=n.get("id");return t.billing.get("".concat(e,"-subscriptions"))}function w(t,n){if(!n)return(0,r.List)();var e=n.get("id");return t.billing.get("".concat(e,"-invoices"))}},18074:(t,n,e)=>{e.d(n,{$p:()=>f,HU:()=>S,Zo:()=>d,bU:()=>h,hs:()=>m,r9:()=>y,rZ:()=>v,sR:()=>p});var r=e(12345),i=e(11080),o=e(53372),u=e(88704),a=e(15556),c=e(70120),s=e(65900),l=(0,r.q)("services"),f=(0,r.B)("services",l);function d(t,n){var e=t.services.getIn(["pages",n.get("id"),"ids"]);return e&&e.map(function(n){return t.services.getIn(["entities",n])})}function g(t){return t.get("service_path").replace("/.netlify/","")}function p(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,o.Nt)(function(r,i,o){return o.createService(t.get("id"),n,e).then(function(t){return l.serviceSuccess(t.data)}).then(function(){return r(v(t))})})}function v(t){var n=t.get("id");return(0,o.Nt)(function(t,e,r){return r.services(n).then(function(e){return t(l.servicesSuccess(n,e.data))})})}function h(t,n,e){return(0,o.Nt)(function(r,i,o){return o.updateService(t.get("id"),g(n),n.get("id"),{config:e}).then(function(){return r(v(t))})})}function m(t,n){return(0,o.Nt)(function(e,r,i){return i.deleteService(t.get("id"),g(n),n.get("id")).then(function(){return e(v(t))})})}function y(t,n){return(0,o.h_)(function(e,r,i,o){switch(n){case"cms":var a,l,f;return Promise.all([e((0,c.DA)(t,{disable_signup:!0})),e(p(t,"git",(a={},l=o.provider,f={access_token:o.token,repo:t.getIn(["build_settings","repo_url"]).replace(/^https:\/\/[^/]+\//,"")},l in a?Object.defineProperty(a,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[l]=f,a)))]).then(function(n){var r;return e((r=t,function(t,n){var e=n(),i=(0,u.QR)(e),o={email:i.get("email"),data:{full_name:i.get("full_name")}};return r=(0,s.Gd)(e,r.get("name")),t((0,c.jn)(r,[o]))}))});case"fauna":return e(p(t,"fauna",{}));case"nimbella":return e(p(t,"nimbella",{}));default:return Promise.resolve()}})}function S(t,n){return(0,o.Nt)(function(e,r,o){var u=r(),c=(0,a.rl)(u),s=(0,a.kM)(u),l=new i.Ay({site_id:c,base_url:s});return new Promise(function(e,r){return l.authenticate({provider:t,scope:n},function(t,n){t?r(t):e(n.token)})})})}},18415:(t,n,e)=>{e.d(n,{$W:()=>f,Er:()=>p,GQ:()=>a,Q9:()=>l,Uc:()=>d,_q:()=>c,eu:()=>g,or:()=>s});var r=e(12345),i=e(53372),o=e(65900),u=(0,r.q)("accountSiteLabels"),a=(0,r.B)("accountSiteLabels",u);function c(t,n){var e=t.accountSiteLabels.getIn(["pages",n,"ids"]);return null==e?void 0:e.map(function(n){return t.accountSiteLabels.getIn(["entities",n])})}function s(t,n){return t.accountSiteLabels.getIn(["pages",n])}function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1};return(0,i.Nt)(function(e,r,i){return i.accountSiteLabels(null==t?void 0:t.get("id"),n).then(function(n){e(u.accountSiteLabelsSuccess(t.get("slug"),n.data,n.pagination))})})}function f(t,n){return(0,i.Nt)(function(e,r,i){return i.createAccountSiteLabel(null==t?void 0:t.get("id"),n).then(function(n){return e(l(t)),n})})}function d(t,n,e){return(0,i.Nt)(function(r,i,o){return o.updateAccountSiteLabel(null==t?void 0:t.get("id"),n,e).then(function(){r(l(t))})})}function g(t,n){return(0,i.Nt)(function(e,r,i){return i.deleteAccountSiteLabel(null==t?void 0:t.get("id"),n).then(function(){e(l(t))})})}function p(t,n,e){return(0,i.Nt)(function(r,i,u){u.updateSiteLabels(t.get("id"),n,e.get("id")).then(function(){r((0,o.UK)(e.get("name")))})})}},19594:(t,n,e)=>{e.d(n,{Kw:()=>a,h_:()=>u,oj:()=>c});var r=e(12345),i=e(53372),o=(0,r.q)("accountReceipts"),u=(0,r.B)("accountReceipts",o);function a(t,n){var e=n&&t.accountReceipts.getIn(["pages",n.get("slug"),"ids"]);return e&&e.map(function(n){return t.accountReceipts.getIn(["entities",n])}).filter(function(t){return t.get("html_stored")})}function c(t){return(0,i.Nt)(function(n,e,r){return r.accountReceipts(t.get("slug")).then(function(e){return n(o.accountReceiptsSuccess(t.get("slug"),e.data,e.pagination))})})}},22352:(t,n,e)=>{e.d(n,{DW:()=>l,FJ:()=>s,ln:()=>f});var r=e(44110),i=e(66602),o=e(53372);function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}var a="DEPLOY_ACTIVITY_SUCCESS",c=(0,i.A)(a,function(t){return t});function s(t,n){var e;return null==(e=t.deployActivity.getIn(["data"]))?void 0:e.toJS()}function l(t){return(0,o.Nt)(function(n,e,r){return Promise.all([r.deployActivity(t),r.fetchPullRequest(t)]).then(function(t){var e,r,i,o,a;return n(c((r=(e=function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e,r,i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o=[],u=!0,a=!1;try{for(i=i.call(t);!(u=(e=i.next()).done)&&(o.push(e.value),o.length!==n);u=!0);}catch(t){a=!0,r=t}finally{try{u||null==i.return||i.return()}finally{if(a)throw r}}return o}}(t,2)||function(t,n){if(t){if("string"==typeof t)return u(t,2);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(t,n)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],i=e[1],o=r.data.filter(function(t){return"comment"===t.type}).map(function(t){return t.service_comment_id}),a=i.data.comments.filter(function(t){var n=t.body,e=t.id;return!!n&&!o.includes(String(e))}),r.data.concat(a.map(function(t){return{type:"comment",comment:t}})))))}).catch(function(t){return new o.LG(t)})})}var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;return n.type===a?t.set("data",(0,r.fromJS)(n.payload)):t}},24204:(t,n,e)=>{e.d(n,{AI:()=>V,C5:()=>j,D7:()=>tn,DU:()=>z,Jz:()=>k,My:()=>K,N9:()=>C,QN:()=>tt,Rm:()=>W,S6:()=>F,TO:()=>H,XJ:()=>O,XV:()=>x,Z6:()=>M,aN:()=>G,fF:()=>Y,fW:()=>te,fo:()=>X,hn:()=>E,i0:()=>L,j$:()=>B,jm:()=>Q,o1:()=>w,ol:()=>q,tu:()=>T,uJ:()=>D,uT:()=>Z,yP:()=>tr,ye:()=>U});var r=e(43536),i=e(44110),o=e(66602),u=e(56315),a=e(12345),c=e(42301),s=e(94958),l=e(53372),f=e(65900);function d(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}var g="SET_BUILD_TIME",p="DELETE_DEPLOY_SUCCESS",v="WS_DEPLOY_CREATED",h="WS_DEPLOY_MODIFIED",m="WS_DEPLOY_DELETED";function y(t){return new Date(t).setMilliseconds(0)}var S=(0,o.A)(g,function(t,n,e){return{id:t.get("id"),start:y(n),end:y(e)}}),_=(0,o.A)(p,function(t){return{deployId:t}}),b=(0,o.A)(v,function(t){return t}),I=(0,o.A)(h,function(t){return t}),A=(0,o.A)(m,function(t){return t}),w=(0,a.q)("deploys"),E=(0,a.B)("deploys",w,{handler:function(t,n){var e=n.type,r=n.payload;switch(e){case g:return t.set(r.id,(0,i.fromJS)({build_time:{start:r.start,end:r.end,seconds:(r.end-r.start)/1e3}}));case p:var o=r.deployId;return t.withMutations(function(t){t.delete("pages"),t.deleteIn(["entities",o]),t.delete(o)});case v:return(0,c.Lt)(t,r);case h:return(0,c.wJ)(t,r);case m:return(0,c.wK)(t,r);default:return null}}}),N="SET_DEPLOY_FILES",C=(0,o.A)(N,function(t,n){return{deployId:t,files:n}}),O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.Map)(),n=arguments.length>1?arguments[1]:void 0;return n.type===N?t.setIn(["entities",n.payload.deployId],n.payload.files):t};function T(t,n){return t.deployFiles.getIn(["entities",n])}var R={state:"pending_review"};function P(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[t.get("id"),n.filter||"",n.state||"",n.page||1].join("-")}function U(t,n,e){return S(t,n,e)}function D(t){return(0,l.Nt)(function(n,e,r){return r.deploy(t).then(function(r){return n(w.deploySuccess(r.data)),Z(e(),t)})})}function k(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.Nt)(function(e,r,i){return e(w.deploysRequest(P(t,n))),i.deploys(t.get("id"),n).then(function(r){return e(w.deploysSuccess(P(t,n),r.data,r.pagination))})})}function j(t){var n,e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(n=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}({},r),e=e={perPage:100,minimal:!0},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):(function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e.push.apply(e,r)}return e})(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n),o=[];return(0,l.Nt)(function(n,e,r){var u=function(t,e){return r.deploys(t.get("id"),e).then(function(r){var i,a;return(o.push.apply(o,function(t){if(Array.isArray(t))return d(t)}(a=r.data)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(a)||function(t,n){if(t){if("string"==typeof t)return d(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return d(t,n)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),null==(i=r.pagination)?void 0:i.next)?(e.page=r.pagination.next,u(t,e)):(delete e.page,n(w.deploysSuccess(P(t,e),o,[])))})};return u(t,i)})}function L(t){return k(t,R)}function M(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,l.Nt)(function(e,r,i){return Promise.all([e(k(t,n)),e(L(t))])})}function F(t,n){var e=t.get("id");return(0,l.Nt)(function(i,o,a){return a.triggerDeploy(e,n).then(function(n){i((0,u.VC)((0,r.JA)(t.toJS(),{id:n.data.deploy_id})))})})}function J(t,n,e){var r=n.get("id"),i=t.get("name");return(0,l.Nt)(function(t,n,o){return e(o,r).then(function(n){return t(w.deploySuccess(n.data))}).then(function(){return t((0,f.UK)(i))})})}function z(t,n){return J(t,n,function(t,n){return t.publishDeploy(n)})}function B(t,n){return J(t,n,function(t,n){return t.lockDeploy(n)})}function G(t,n){return J(t,n,function(t,n){return t.unlockDeploy(n)})}function q(t,n){return J(t,n,function(t,n){return t.cancelDeploy(n)})}function x(t,n){var e=null==n?void 0:n.get("id");return(0,l.Nt)(function(t,n,r){return r.deleteDeploy(e).then(function(){return t(_(e))})})}function V(t,n,e){var i=n.get("id");return(0,l.Nt)(function(n,o,u){return u.retryDeploy(i,e).then(function(){return s.N.push((0,r.Ud)(t.toJS()))})})}function K(t){return(0,l.Nt)(function(n,e,r){return r.acceptDeploy(t).then(function(t){return n(w.deploySuccess(t.data))})})}function Y(t){return(0,l.Nt)(function(n,e,r){return r.rejectDeploy(t).then(function(t){return n(w.deploySuccess(t.data))})})}function H(t,n,e){var r=e.perPage,i=t.deploys.getIn(["pages",P(n,e),"ids"]),o=i&&i.map(function(n){return Z(t,n)});return o&&r?o.take(r):o}function W(t,n,e){var r;return null==(r=t.deploys)?void 0:r.getIn(["pages",P(n,e),"isFetching"])}function Q(t,n,e){return t.deploys.getIn(["pages",P(n,e)])}function Z(t,n){var e=t.deploys.getIn(["entities",n]);return e&&e.merge(t.deploys.get(n))}function $(t,n){return H(t,n,{filter:n.getIn(["build_settings","repo_branch"])})}function X(t,n){var e;return null==(e=$(t,n))?void 0:e.filter(function(t){return(null==t?void 0:t.get("state"))==="ready"||(null==t?void 0:t.get("state"))==="error"})}function tt(t,n){return H(t,n,R)}function tn(t,n){return($(t,n)||(0,i.List)()).first()}var te=function(t,n){return function(e){if(1===(n.page||1)){var r=P((0,i.fromJS)({id:t.get("site_id")}),n);e(b(t.set("listKey",r)))}}},tr=function(t,n){return function(e){var r=P((0,i.fromJS)({id:t.get("site_id")}),n);e("deleted"===t.get("state")?A(t.set("listKey",r)):I(t))}}},24750:(t,n,e)=>{e.d(n,{K8:()=>d,ZK:()=>s,_w:()=>f});var r=e(44110),i=e(66602),o=e(56020),u=e(53372),a=function(t,n){return[t.get?t.get("id"):t.id,n].join("-")},c="IMAGE_CDN_ACCOUNT_TIMESERIES_SUCCESS";function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;return n.type===c?t.set(a(n.payload,"imageCdnAccountTimeseries"),(0,r.fromJS)(n.payload)):t}var l=(0,i.A)(c,function(t,n){return{id:t,data:n.map(function(t){return[new Date(t.start).setUTCHours(0,0,0,0),t.values.transformations]})}});function f(t){var n=t.accountId,e=t.from,r=t.to;return(0,o.Jh)(function(t,i,o){return o.accountImageCdnUsageTimeseries({id:n,from:e,to:r}).then(function(e){t(l(n,e.data))}).catch(function(t){return new u.LG(t)})})}function d(t,n){var e;return null==(e=t.imageCdn)?void 0:e.get(a({id:n},"imageCdnAccountTimeseries"))}},24856:(t,n,e)=>{e.d(n,{ZT:()=>f}),e(24571);var r=e(44110),i=e(66602);e(56020),e(53372);var o="BLOB_FETCHING_SET",u="BLOBS_FETCHING",a="BLOBS_SUCCESS",c="BLOB_STORES_SUCCESS",s="BLOBS_TIMESERIES_ACCOUNT_SUCCESS",l=((0,i.A)(o,function(t,n){return{siteId:t.siteId,store:t.store,prefix:t.prefix,blobKey:t.blobKey,isFetching:n}}),(0,i.A)(u,function(t,n,e){return{siteId:t,store:n,prefix:e}}),(0,i.A)(a,function(t,n,e,r){return{siteId:t,store:n,data:e,prefix:r}}),(0,i.A)(c,function(t,n){return{siteId:t,data:n}}),(0,i.A)(s,function(t,n){return{id:t,data:n}}),".ROOT.");function f(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case c:var i=e.payload,f=i.siteId,d=i.data;return n.setIn(["entities",f,".STORES."],d);case o:var g=e.payload,p=g.siteId,v=g.store,h=g.prefix,m=g.blobKey,y=g.isFetching,S=h||l,_=n.getIn(["entities",p,v,S,"data"]),b=(0,r.fromJS)(_.blobs).update(_.blobs.findIndex(function(t){return t.key===m}),function(t){return t.set("isFetching",y)});return n.setIn(["entities",p,v,S,"data"],{directories:_.directories,blobs:b.toJS()});case u:var I=e.payload,A=I.siteId,w=I.store,E=I.prefix;if(!E)return n.setIn(["entities",A,w,l,"isFetching"],!0);return n.setIn(["entities",A,w,E,"isFetching"],!0);case a:var N=e.payload,C=N.siteId,O=N.store,T=N.data,R=N.prefix;if(!R)return n.setIn(["entities",C,O,l,"isFetching"],!1).setIn(["entities",C,O,l,"data"],T);return n.setIn(["entities",C,O,R,"isFetching"],!1).setIn(["entities",C,O,R,"data"],T);case s:return n.set([(t=e.payload).get?t.get("id"):t.id,"blobsAccountTimeseries"].join("-"),(0,r.fromJS)(e.payload));default:return n}}},25633:(t,n,e)=>{e.d(n,{$H:()=>g,Xx:()=>s,ZM:()=>d,_B:()=>c,h:()=>l,nH:()=>f});var r=e(12345),i=e(45235),o=e(17250),u=e(53372),a=(0,r.q)("accountReviewerMembers"),c=(0,r.B)("accountReviewerMembers",a);function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{per_page:50},e=t.get("slug");return(0,u.Nt)(function(t,r,i){return i.accountReviewerMembers(e,n).then(function(n){return t(a.accountReviewerMembersSuccess(e,n.data,n.pagination))})})}function l(t,n){var e=null==t?void 0:t.accountReviewerMembers.getIn(["pages",n,"ids"]);return null==e?void 0:e.map(function(n){return t.accountReviewerMembers.getIn(["entities",n])})}function f(t,n){return t.accountReviewerMembers.getIn(["pages",n])}function d(t,n,e){var r=e.state,c=n.get("id");return(0,u.Nt)(function(n,e,u){return u.updateAccountMember(t.get("slug"),c,{role:i.Yq,self_invite_state:r}).then(function(){n((0,o.yG)(t.get("slug"))),n(s(t))}).catch(function(t){return n(a.reviewerMembersFailure({memberId:c,error:t}))})})}function g(t){return t.accountReviewerMembers.getIn(["error"])}},25669:(t,n,e)=>{e.d(n,{KB:()=>h,cW:()=>g,iw:()=>v,ix:()=>p,sU:()=>f});var r=e(44110),i=e(12345),o=e(56020),u=e(53372);function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return a(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,n)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s="functionLogs",l=(0,i.q)(s),f=(0,i.B)(s,l,{getKey:function(t,n){return"".concat(t.ts,"-").concat(t.requestId,"-").concat(n)}});function d(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return[t,n,e.deployId||"",e.branch||"",e.cursor||"",e.q||"",e.from||"",e.to||""].filter(Boolean).join("-")}function g(t,n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.functionLogs.getIn(["pages",d(n,e,r),"ids"]);return i&&i.map(function(n){var e;return(e=t.functionLogs.getIn(["entities",n]))&&e.merge(t.functionLogs.get(n))})}function p(t,n,e,r){return!!t.functionLogs.getIn(["pages",d(n,e,r),"isFetching"])}function v(t,n,e,r){return t.functionLogs.getIn(["pages",d(n,e,r),"next"])}function h(t,n,e){var i={branch:e.branch,cursor:e.cursor,q:e.q,from:e.from,to:e.to,deployId:e.deployId};return(0,o.Jh)(function(o,a,s){var f=d(t,n,i);return o(l.functionLogsRequest(f)),s.historicalFunctionLogs({site_id:t,name:n,branch:e.branch,from:e.from,to:e.to,next_cursor:e.next_cursor,search:e.q,deploy_id:e.deployId}).then(function(i){var u=g(a(),t,n,e)||(0,r.List)(),s=u?c(u.toJS()).concat(c(i.data.logs)):i.data.logs;return o(l.functionLogsSuccess(f,s,i.pagination))}).catch(function(t){return new u.LG(t)})})}},26460:(t,n,e)=>{e.d(n,{Ai:()=>I,Am:()=>y,ES:()=>A,GI:()=>N,KX:()=>S,U:()=>h,_d:()=>m,d1:()=>w,d9:()=>v,lh:()=>b,r1:()=>_,ui:()=>p});var r=e(44110),i=e(56315),o=e(53372),u=e(65900),a=e(65915),c="SET_A11Y_MESSAGE",s="SET_LOADING",l="SET_ROUTE_PATH",f="SET_DISPLAY_GUIDED_ONBOARDING",d="SHOW_FIRST_DEPLOY_MODAL",g="SITES_NAV_LIST_SUCCESS",p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case c:return t.setIn(["ui","a11yMessage"],n.message);case s:return t.setIn(["ui","loading"],n.loading);case l:return t.setIn(["ui","routePath"],n.routePath);case f:return t.setIn(["ui","displayGuidedOnboarding"],n.displayGuidedOnboarding);case d:var e=n.show,i=n.data||t.getIn(["ui","firstDeployModal","data"]);return t.setIn(["ui","firstDeployModal"],{show:e,data:i});case g:return t.setIn(["ui","sitesNavList",n.accountSlug],n.data);default:return t}},v=function(t){return function(n){n((0,i.HC)(t)),n((0,a.Dm)())}},h=function(t){return t.ui.getIn(["ui","a11yMessage"])},m=function(t){return t.ui.getIn(["ui","displayGuidedOnboarding"])};function y(t,n){return t.ui.getIn(["ui","sitesNavList",n])||(0,r.fromJS)([])}var S=function(t){return{type:c,message:t}},_=function(t){return{type:s,loading:t}},b=function(t){return{type:l,routePath:t}},I=function(t){return{type:f,displayGuidedOnboarding:t}},A=function(t){return{type:d,show:!0,data:t}},w=function(){return{type:d,show:!1}},E=function(t){return{type:g,data:t.data,accountSlug:t.accountSlug}};function N(t){var n=t.accountSlug,e=t.siteName;return(0,o.Nt)(function(t,i,o){var a=i(),c=y(a,n),s=(0,u.Gd)(a,e,!1);if(!c||c.isEmpty()||s&&!c.find(function(t){return(null==t?void 0:t.get("name"))===(null==s?void 0:s.get("name"))}))return o.sites({accountSlug:n}).then(function(e){return t(E({data:(0,r.fromJS)(e.data),accountSlug:n}))}).catch(function(){return t(E((0,r.fromJS)([])))})})}},27104:(t,n,e)=>{e.d(n,{P:()=>f,ZR:()=>g,d3:()=>l,rQ:()=>p,xD:()=>d});var r=e(44110),i=e(66602),o=e(53372),u=function(t){return t.DEPLOY_PLUGIN_RUNS_REQUEST="DEPLOY_PLUGIN_RUNS_REQUEST",t.DEPLOY_PLUGIN_RUNS_SUCCESS="DEPLOY_PLUGIN_RUNS_SUCCESS",t.DEPLOY_PLUGIN_RUNS_FAILURE="DEPLOY_PLUGIN_RUNS_FAILURE",t}(u||{}),a=(0,i.A)("DEPLOY_PLUGIN_RUNS_REQUEST",function(t){return t}),c=(0,i.A)("DEPLOY_PLUGIN_RUNS_SUCCESS",function(t,n){return{deployId:t,deployPluginRuns:n}}),s=(0,i.A)("DEPLOY_PLUGIN_RUNS_FAILURE",function(t,n){return{deployId:t,error:n}});function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DEPLOY_PLUGIN_RUNS_REQUEST":return t.setIn([n.payload,"isFetching"],!0);case"DEPLOY_PLUGIN_RUNS_SUCCESS":var e=n.payload,i=e.deployId,o=e.deployPluginRuns;return t.withMutations(function(t){o.forEach(function(n){t.setIn([i,"data",n.package],(0,r.fromJS)(n))}),t.setIn([i,"listByState"],o.reduce(function(t,n){return(!t.get(n.state)?t.set(n.state,(0,r.List)([n.package])):t.set(n.state,t.get(n.state).push(n.package))).set("all",t.get("all").push(n.package))},(0,r.Map)({all:(0,r.List)()}))).setIn([i,"isFetching"],!1)});case"DEPLOY_PLUGIN_RUNS_FAILURE":var u=n.payload,a=u.deployId,c=u.error;return t.setIn([a,"error"],(0,r.fromJS)(c)).setIn([a,"isFetching"],!1);default:return t}}function f(t){return(0,o.Nt)(function(n,e,r){return n(a(t)),r.deployPluginRuns(t).then(function(e){return n(c(t,e.data))}).catch(function(e){return n(s(t,e))})})}function d(t,n){var e;return n?null==(e=t.deployPluginRuns.get(n))?void 0:e.get("error"):void 0}function g(t,n){var e;return n?null==(e=t.deployPluginRuns.get(n))?void 0:e.get("data"):void 0}function p(t,n){var e;return n?null==(e=t.deployPluginRuns.get(n))?void 0:e.get("listByState"):void 0}},27789:(t,n,e)=>{e.d(n,{$7:()=>v,$Z:()=>d,K3:()=>f,Nb:()=>s,Sy:()=>g,YO:()=>c,cU:()=>u,iL:()=>p,tM:()=>l,v2:()=>S,vA:()=>m,vM:()=>y,vn:()=>a});var r=e(12345),i=e(53372),o=(0,r.q)("applications"),u=(0,r.B)("applications",o,{key:"client_id"});function a(t){return(0,i.Nt)(function(n,e,r){return r.application(t).then(function(t){return n(o.applicationSuccess(t.data))})})}function c(){return(0,i.Nt)(function(t,n,e){return e.applications().then(function(n){return t(o.applicationsSuccess("oauth",n.data,n.pagination))})})}function s(t){return(0,i.Nt)(function(n,e,r){return r.authorizedApplications(t).then(function(t){return n(o.applicationsSuccess("authorized",t.data,t.pagination))})})}function l(t){return(0,i.Nt)(function(n,e,r){return r.createApplication(t).then(function(t){return n(c())})})}function f(t,n){return(0,i.Nt)(function(e,r,i){return i.updateApplication(t,n).then(function(t){return e(o.applicationSuccess(t.data))})})}function d(t){return(0,i.Nt)(function(n,e,r){return r.removeApplication(t).then(function(t){return n(c())})})}function g(t,n){return(0,i.Nt)(function(e,r,i){return i.revokeAuthorizedApplication(t,n).then(function(t){return e(s(n))})})}function p(t){return(0,i.Nt)(function(n,e,r){return r.createPersonalToken(t)})}function v(t,n){return t.applications.getIn(["entities",n])}function h(t){var n=t.applications.getIn(["pages","oauth","ids"]);return n&&n.map(function(n){return v(t,n)})}function m(t){var n=t.applications.getIn(["pages","authorized","ids"]);return n&&n.map(function(n){return v(t,n)})}function y(t){var n=h(t);return n&&n.filter(function(t){return!t.get("personal")})}function S(t){var n=h(t);return n&&n.filter(function(t){return t.get("personal")})}},32544:(t,n,e)=>{e.d(n,{DW:()=>b,E9:()=>T,F$:()=>P,RL:()=>A,RW:()=>E,a4:()=>O,b4:()=>_,bB:()=>N,bJ:()=>w,dk:()=>R,l3:()=>U,p5:()=>C,uZ:()=>I,wL:()=>S});var r=e(44110),i=e(66602),o=e(85342),u=e(53372);function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function c(t,n,e,r,i,o,u){try{var a=t[o](u),c=a.value}catch(t){e(t);return}a.done?n(c):Promise.resolve(c).then(r,i)}var s="SLACK_WORKSPACE_LOADING",l="SLACK_WORKSPACE_SUCCESS",f="SLACK_SUBSCRIPTIONS_LOADING",d="SLACK_SUBSCRIPTIONS_SUCCESS",g="SLACK_CHANNELS_SUCCESS",p=(0,i.A)(s,function(t){return{loading:t}}),v=(0,i.A)(l,function(t,n){return{accountId:t,data:n}}),h=(0,i.A)(f,function(t){return{loading:t}}),m=(0,i.A)(d,function(t,n){return{accountId:t,data:n}}),y=(0,i.A)(g,function(t,n){return{accountId:t,data:n}});function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s:var e=n.payload.loading;return t.setIn(["entities","loading"],e);case l:var i=n.payload,o=i.accountId,u=i.data;return t.setIn(["entities",o],(0,r.fromJS)(u.workspace));default:return t}}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:var e=n.payload.loading;return t.setIn(["entities","loading"],e);case d:var i=n.payload,o=i.accountId,u=i.data;return t.setIn(["entities",o],(0,r.fromJS)(u));default:return t}}function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;if(n.type!==g)return t;var e=n.payload,i=e.accountId,o=e.data;return t.setIn(["entities",i],(0,r.fromJS)(o))}function I(t){return(0,u.Nt)(function(n,e,r){return n(p(!0)),r.slackWorkspace(t).then(function(e){n(v(t,e.data))}).catch(function(e){return n(v(t,{workspace:void 0})),new o.A(e)}).finally(function(){return n(p(!1))})})}function A(t){return(0,u.Nt)(function(n,e,r){return r.deleteSlackWorkspace(t).then(function(){return n(I(t))})})}function w(t,n){return(0,u.Nt)(function(e,r,i){var o=[],u=function(r,s){var l;return(l=function(){var c,l,f;return function(t,n){var e,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var s=[a,c];if(e)throw TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(o=0)),o;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:return[4,i.slackChannels(t,{cursor:r,limit:s})];case 1:var g;if(l=d.sent(),(c=o).push.apply(c,function(t){if(Array.isArray(t))return a(t)}(g=l.data.channels)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(g)||function(t,n){if(t){if("string"==typeof t)return a(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,n)}}(g)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),!(f=l.data.response_metadata.next_cursor))return[3,3];return[4,u(f,(null==n?void 0:n.limit)||1e3)];case 2:return d.sent(),[3,4];case 3:e(y(t,o)),d.label=4;case 4:return[2]}})},function(){var t=this,n=arguments;return new Promise(function(e,r){var i=l.apply(t,n);function o(t){c(i,e,r,o,u,"next",t)}function u(t){c(i,e,r,o,u,"throw",t)}o(void 0)})})()};u("",(null==n?void 0:n.limit)||1e3)})}function E(t){return(0,u.Nt)(function(n,e,r){return n(h(!0)),r.slackSubscriptions(t).then(function(e){n(m(t,e.data))}).finally(function(){return n(h(!1))})})}function N(t,n){return(0,u.Nt)(function(e,r,i){return i[n.id?"editSlackSubscription":"createSlackSubscription"](t,n).then(function(){return e(E(t))})})}function C(t,n){return(0,u.Nt)(function(e,r,i){return i.deleteSlackSubscription(t,n).then(function(){return e(E(t))})})}var O=function(t){return t.slackWorkspace.getIn(["entities","loading"])},T=function(t,n){return n&&t.slackWorkspace.getIn(["entities",n])},R=function(t){return t.slackSubscriptions.getIn(["entities","loading"])},P=function(t,n){return n&&t.slackSubscriptions.getIn(["entities",n])},U=function(t,n){return n&&t.slackChannels.getIn(["entities",n])}},34205:(t,n,e)=>{e.d(n,{UK:()=>p,_K:()=>g,cu:()=>f,eN:()=>l,g0:()=>d});var r=e(44110),i=e(66602),o=e(53372),u=function(t){return t.DEPLOY_SUMMARY_REQUEST="DEPLOY_SUMMARY_REQUEST",t.DEPLOY_SUMMARY_SUCCESS="DEPLOY_SUMMARY_SUCCESS",t.DEPLOY_SUMMARY_FAILURE="DEPLOY_SUMMARY_FAILURE",t}(u||{}),a=(0,i.A)("DEPLOY_SUMMARY_REQUEST",function(t){return t}),c=(0,i.A)("DEPLOY_SUMMARY_SUCCESS",function(t,n){return{deployId:t,deploySummary:n}}),s=(0,i.A)("DEPLOY_SUMMARY_FAILURE",function(t,n){return{deployId:t,error:n}});function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DEPLOY_SUMMARY_REQUEST":return t.setIn([n.payload,"isFetching"],!0);case"DEPLOY_SUMMARY_SUCCESS":var e=n.payload,i=e.deployId,o=e.deploySummary;return t.setIn([i,"data"],(0,r.fromJS)(o)).setIn([i,"isFetching"],!1);case"DEPLOY_SUMMARY_FAILURE":var u=n.payload,a=u.deployId,c=u.error;return t.setIn([a,"error"],(0,r.fromJS)(c)).setIn([a,"isFetching"],!1);default:return t}}function f(t){return(0,o.Nt)(function(n,e,r){return n(a(t)),r.deploySummary(t).then(function(e){return n(c(t,e.data))}).catch(function(e){return n(s(t,e))})})}function d(t,n){var e,r;return null!=(r=null==(e=t.deploySummary.get(n))?void 0:e.get("isFetching"))&&r}function g(t,n){var e;return null==(e=t.deploySummary.get(n))?void 0:e.get("error")}function p(t,n){var e;return null==(e=t.deploySummary.get(n))?void 0:e.get("data")}},36175:(t,n,e)=>{e.d(n,{B7:()=>I,Hw:()=>S,K0:()=>h,Se:()=>b,Wk:()=>A,Xu:()=>_,dU:()=>p,sE:()=>g,v7:()=>v});var r=e(43536),i=e(66602),o=e(56315),u=e(17250),a=e(29383),c=e(75060),s=e(53372),l=e(88704),f=e(65900),d=e(26460),g="START_DRAG",p="END_DRAG",v=(0,i.A)(g),h=(0,i.A)(p),m=function(){return(0,a._S)("drop-token")},y=function(t){return!!(0,l.QR)(t())},S=function(){(0,a.sc)("dropDeployId"),(0,a.sc)("dropUploadInterrupted")},_=function(){(0,a.sc)("dropSiteName"),(0,a.sc)("drop-token"),S()},b=function(t){return function(n,e){return n(y(e)?function(n,e){var r=(0,u.PR)(e()),i=(0,c.Jx)(r)&&(null==r?void 0:r.get("slug"));return n((0,f.kT)(i)).then(function(e){var r="true"===(0,a._S)("nf-drop-force-anon");return n((0,f.LN)(e,t,r))})}:(0,s.Nt)(function(n,e,r){return r.dropToken().then(function(t){return t.data.token}).then(function(n){return r.dropFiles((0,f.Pc)(t),n).then(function(t){return{token:n,deploy:t.data}})}).then(function(n){var e=n.token,i=n.deploy;return(0,f.wA)(r,i,t,e).then(function(){return r.waitForSiteDeploy(i.subdomain)}).then(function(t){return{token:e,site:t.data}})}).then(function(t){var e,r,i=t.site;e=t.token,(0,a.AP)("drop-token",e),r=i.name,(0,a.AP)("dropSiteName",r),n(f.o1.siteSuccess(i)),n((0,f.Tp)(i.name)),n((0,o.VC)("/drop/".concat(i.name))),S()})}))}},I=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m();return(0,s.Nt)(function(e,i,u){if(!y(i)){var a="/signup?next=".concat(window.location.pathname,"&utm_campaign=drop");return e((0,d.d9)(a))}var c=t.toJS(),s=c.name,l=c.id,g=c.claimed,p=(0,r.l2)(t.toJS());return g?e((0,o.VC)(p)):u.dropClaim(l,n).then(function(){return e((0,f.UK)(s))}).then(function(){_(),e((0,o.VC)(p))}).catch(function(){})})},A=function(){var t=m(),n=(0,a._S)("dropSiteName");if(t&&n)return(0,s.Nt)(function(e,r,i){e((0,f.UK)(n)).then(function(){var o=(0,f.Gd)(r(),n,!1).toJS(),u=o.id;return o.claimed?void _():i.dropClaim(u,t).then(function(){return e((0,f.UK)(n))}).then(function(){_()})})})}},41580:(t,n,e)=>{e.d(n,{$s:()=>U,Gb:()=>K,LS:()=>Y,LY:()=>q,Op:()=>H,Qs:()=>V,Tw:()=>z,VN:()=>x,Y8:()=>P,cc:()=>G,eR:()=>L,f9:()=>k,gW:()=>R,h$:()=>B,hV:()=>F,lM:()=>j,nm:()=>O,tF:()=>D,yb:()=>M,z:()=>J});var r=e(44110),i=e(66602),o=e(12345),u=e(85342),a=e(22657),c=e(73359),s=e(53372),l=e(88704),f=e(62261),d=e(65900);function g(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function p(t,n,e,r,i,o,u){try{var a=t[o](u),c=a.value}catch(t){e(t);return}a.done?n(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function u(t){p(o,r,i,u,a,"next",t)}function a(t){p(o,r,i,u,a,"throw",t)}u(void 0)})}}function h(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return g(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return g(t,n)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,n){var e,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var s=[a,c];if(e)throw TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(o=0)),o;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}function y(t){return t&&t.get("slug")||null}var S="DNS_VERIFIED",_="DNSZONE_DELETED",b="DNSZONES_CLEAR_PAGES",I="DOMAIN_TOGGLE_AUTO_RENEW",A=(0,o.q)("dnsZones"),w=(0,i.A)(S,function(t,n){return{domain:t,results:n}}),E=(0,i.A)(_,function(t){return{domain:t}}),N=(0,i.A)(b),C=(0,i.A)(I);function O(t,n){var e=y(t);return(0,s.Nt)(function(t,r,i){return i.dnsZones(e,n).then(function(n){return t(A.dnsZonesSuccess(e,n.data,n.pagination))})})}var T=function(t){var n=t.customApexDomain,e=t.customSubdomain,r=t.allDnsZones,i=(null==e?void 0:e.split("."))||[],o=[];return i.forEach(function(t,e){if(e===i.length-1)o.push("".concat(t,".").concat(n));else{var r=i.slice(e+1);o.push("".concat(t,".").concat(r.join("."),".").concat(n))}}),o.push(n),function t(n,e){if(0!==n.length&&0!==e.length){var r=e.find(function(t){return t.name===n[0]});return r||(n.shift(),t(n,e))}}(o,r)};function R(t,n){var e,r=t.get("custom_domain"),i=(null==(e=t.get("domain_aliases"))?void 0:e.toJS())||[],o=[r,t.get("deploy_preview_custom_domain"),t.get("branch_deploy_custom_domain")].concat(h(i)).filter(function(t){return!!t}),u=y(n),a=[],l=function(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return v(function(){return m(this,function(i){return[2,n.dnsZones(u,r).then(function(r){var i,u=null==r||null==(i=r.pagination)?void 0:i.next;if(r.data&&a.push.apply(a,h(r.data)),u)return l(n,e,u);var s={};return o.forEach(function(n){return v(function(){return m(this,function(r){switch(r.label){case 0:return[4,(0,c.gR)(n).then(function(t){var r=T({customApexDomain:"".concat(null==t?void 0:t.domain,".").concat(null==t?void 0:t.tld),customSubdomain:null==t?void 0:t.subdomain,allDnsZones:a});r?(s[n]=r,e((0,f.o4)(r.name))):s[n]={error:"DNS zone not found",name:n}})];case 1:return r.sent(),e((0,d.PV)(t.get("name"),s)),[2]}})})()}),a})]})})()};return(0,s.Nt)(function(t,n,e){return l(e,t).then(function(n){return t(A.dnsZonesSuccess(u,n))})})}function P(t){return(0,s.Nt)(function(n,e,r){return r.dnsZone(t).then(function(e){var r=e.data;n(A.dnsZoneSuccess(r)),n((0,f.o4)(t))}).catch(function(e){return 404===e.code||401===e.code?n(A.dnsZoneSuccess({name:t,error:e})):Promise.reject(e)}).then(function(n){return V(e(),t)})})}function U(t,n){var e=n.account,r=n.site,i=n.recordTxtValue,o=n.generatedTokenVerificationEnabled;return(0,s.Nt)(function(n,a,c){return n((0,f.xK)()),c.dnsZone(t).then(function(t){var r=t.data;return r.account_id!==(e&&e.get("id"))?Promise.reject(new u.A("must be unique")):(n(A.dnsZoneSuccess(r)),n((0,f.o4)(r.name)),V(a(),r.name))}).catch(function(a){switch(a.code){case 404:var c,l,d,g,p,v;return n((c=t,d=(l={account:e,site:r,recordTxtValue:i,generatedTokenVerificationEnabled:o}).account,g=l.site,p=l.recordTxtValue,v=l.generatedTokenVerificationEnabled,(0,s.Nt)(function(t,n,e){return e.createDnsZone(c,d.get("slug"),{site_id:g&&g.get("id"),record_txt_value:p,generated_token_verification_enabled:v}).then(function(e){var r=e.data;return t(A.dnsZoneSuccess(r)),t((0,f.o4)(r.name)),t(N()),V(n(),r.name)})})));case 401:return Promise.reject(new u.A("must be unique"));default:return Promise.reject(a)}})})}function D(t,n){var e=n.account,r=n.site,i=r&&r.get("id");return(0,s.Nt)(function(n,o,u){return u.buyDomain(t,e.get("id"),i).then(function(t){var e=t.data;return n(P(e.domain)),i&&n((0,d.UK)(r.get("name"))),{data:e}})})}function k(t,n){var e=n.account,r=n.site,i=r&&r.get("id");return(0,s.Nt)(function(n,r,o){return o.buyDomain(t,e.get("id"),i).then(function(t){var e;return n((e=t.data.domain,(0,s.Nt)(function(t,n,r){return v(function(){var i,o,u;return m(this,function(c){switch(c.label){case 0:o=function(){return r.dnsZone(e).then(function(n){var e=n.data;t(A.dnsZoneSuccess(e))})},u=0,c.label=1;case 1:if(!(!(null==(i=V(n(),e))?void 0:i.getIn(["domain"],"registered_at"))&&u<=10))return[3,4];return[4,o()];case 2:return c.sent(),u++,[4,(0,a.c)(1e3)];case 3:return c.sent(),[3,1];case 4:return[2,t((0,f.o4)(e))]}})})()})))})})}function j(t,n){var e=n.account;return(0,s.Nt)(function(n,r,i){return i.searchDomain(t,e.get("id")).then(function(t){return t.data})})}function L(t,n){var e=n.account,r=n.timeout,i=void 0===r?5e3:r;return(0,s.Nt)(function(n,r,o){return o.searchDomains(t,i,e.get("id")).then(function(t){return t.data.results})})}function M(t,n){return(0,s.Nt)(function(n,e,r){return r.destroyDnsZone(t.get("id")).then(function(e){var r=t.get("name");n(E(r)),n((0,f.Hg)(r))})})}function F(t,n){return(0,s.Nt)(function(e,r,i){var o=t.get("name");return i.transferDnsZone(o,{account_id:t.get("account_id"),transfer_account_id:n.get("id"),transfer_user_id:(0,l.QR)(r()).get("id")}).then(function(t){return e(P(o))})})}function J(t,n){return function(e,r){return e((0,d.hj)(t,n))}}function z(t,n){var e=t.get("name"),r=t.get("account_id");return(0,s.Nt)(function(t,i,o){return o.toggleDomainAutoRenew(e,r,n).then(function(){return t(C({domain:e,autorenew:n}))})})}function B(t,n){return function(e,r){var i=!n&&Y(r(),t);return i&&i.getIn(["results",0,"result"])?Promise.resolve(i):fetch("/.netlify/functions/verify?domain=".concat(t)).then(function(t){return t.json().then(function(n){return t.ok?n:Promise.reject(new u.A(n||{}))})}).then(function(n){return e(w(t,n))}).catch(function(n){return(0,c.gR)(t).then(function(n){var e=n||{},r=e.subdomain,i=e.domain,o=e.tld,u=n?"".concat(i,".").concat(o):t,a=[t];return n&&!r?a.push("www.".concat(u)):"www"===r&&a.push(u),{root:u,subdomain:r,results:a.map(function(t){return{domain:t,result:!1,error:"We couldn’t resolve the domain. Request timed out"}})}}).then(function(n){return e(w(t,n))})}).then(function(){return Y(r(),t)})}}function G(t){return function(n,e){var r=t.get("custom_domain");return r?n(B(r)):Promise.resolve()}}var q=(0,o.B)("dnsZones",A,{key:"name",handler:function(t,n){switch(n.type){case S:return t.set(n.payload.domain,(0,r.fromJS)(n.payload.results));case _:return t.deleteIn(["entities",n.payload.domain]).delete("pages");case b:return t.delete("pages");case I:return t.setIn(["entities",n.payload.domain,"domain","auto_renew"],n.payload.autorenew);default:return null}}});function x(t,n){var e=t.dnsZones.getIn(["pages",y(n),"ids"]);return e&&e.map(function(n){return V(t,n)})}function V(t,n){var e=t.dnsZones.getIn(["entities",n]);return e&&e.get("id")?e.set("records",(0,f.ix)(t,n)):e}function K(t,n){return t.dnsZones.getIn(["pages",y(n)])}function Y(t,n){return t.dnsZones.get(n)}function H(t){return(0,s.Nt)(function(n,e,r){return r.enableDnsZoneIPv6(t.get("id")).then(function(e){var r=e.data;n(A.dnsZoneSuccess(r)),n((0,f.o4)(t.get("name")))})})}},43963:(t,n,e)=>{e.d(n,{Ko:()=>I,LC:()=>y,OM:()=>h,Sp:()=>p,Un:()=>S,Xx:()=>v,YS:()=>c,Yd:()=>f,i6:()=>g,mb:()=>b,nv:()=>d,qt:()=>m,uO:()=>u,yK:()=>_,ye:()=>s});var r=e(12345),i=e(53372),o=(0,r.q)("forms"),u=(0,r.B)("forms",o),a=(0,r.q)("submissions"),c=(0,r.B)("submissions",a);function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1,perPage:20},e=t.get("id");return(0,i.Nt)(function(t,r,i){return t(o.formsRequest(e)),i.siteForms(e,n).then(function(n){return t(o.formsSuccess(e,n.data,n.pagination))})})}function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.formId?n.formId:"site-".concat(t.get("id"))}function f(t,n){var e=t.get("id");return(0,i.Nt)(function(r,u,c){if(n.formId){var f;r((f=n.formId,(0,i.Nt)(function(n,e,r){return r.siteForm(t.get("id"),f).then(function(t){return n(o.formSuccess(t.data))})})))}else r(s(t));return c.formSubmissions(e,n).then(function(e){var i=e.data,o=e.pagination;return r(a.submissionsSuccess(l(t,n),i,o))}).catch(function(e){return r(a.submissionsFailure(l(t,n),e.error))})})}function d(t,n,e){return(0,i.Nt)(function(r,i,o){return Promise.all(n.map(function(t){return o.deleteFormSubmission(t)})).then(function(n){return r(f(t,e))})})}function g(t,n){var e=t.get("id");return(0,i.Nt)(function(t,r,i){return i.deleteForm(e,n)})}function p(t,n,e){var r=t.get("id");return(0,i.Nt)(function(i,o,u){return Promise.all(n.map(function(t){return u.markSubmissionAsHam(r,t)})).then(function(n){i(f(t,e))})})}function v(t,n,e){var r=t.get("id");return(0,i.Nt)(function(i,o,u){return Promise.all(n.map(function(t){return u.markSubmissionAsSpam(r,t)})).then(function(n){i(f(t,e))})})}function h(t,n){var e=t.forms.getIn(["pages",n.get("id"),"ids"]);return e&&e.map(function(n){return t.forms.getIn(["entities",n])})}function m(t,n){var e;return null==(e=t.forms)?void 0:e.getIn(["pages",n.get("id"),"isFetching"])}function y(t,n){return t.forms.getIn(["entities",n])}function S(t,n){return t.forms.getIn(["pages",n.get("id")])}function _(t,n,e){var r=t.submissions.getIn(["pages",l(n,e),"ids"]);return r&&r.map(function(n){return t.submissions.getIn(["entities",n])})}function b(t,n,e){return t.submissions.getIn(["pages",l(n,e),"error"])}function I(t,n,e){return t.submissions.getIn(["pages",l(n,e)])}},45397:(t,n,e)=>{e.d(n,{GT:()=>s,WP:()=>a,_x:()=>c,sK:()=>l});var r=e(12345),i=e(53372),o=(0,r.q)("identityAudits"),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.siteId,e=t.searchTerm;return"".concat(n).concat(e?"-".concat(e):"")},a=(0,r.B)("identityAudits",o);function c(t,n){var e=t.identityAudit.getIn(["pages",u(n),"ids"]);return e&&e.map(function(n){return t.identityAudit.getIn(["entities",n])})}function s(t,n){return t.identityAudit.getIn(["pages",u(n)])}function l(t){return(0,i.Nt)(function(n,e,r){return t.identityId&&t.isValidKey?r.identityAudit(t).then(function(e){return n(o.identityAuditsSuccess(u(t),e.data,e.pagination))}).catch(function(e){return 404===e.code?n(o.identityAuditsSuccess(u(t),[],{})):Promise.reject(e)}):Promise.resolve()})}},45780:(t,n,e)=>{e.d(n,{Ek:()=>H,HX:()=>tc,Iy:()=>B,Jg:()=>tu,KQ:()=>ti,LL:()=>K,RT:()=>tn,SZ:()=>ts,XH:()=>ta,dt:()=>P,ho:()=>V,it:()=>U,jF:()=>x,qN:()=>Y,s4:()=>k,s8:()=>D,u7:()=>to,vr:()=>Q,wM:()=>$,w_:()=>Z,xs:()=>X,xx:()=>tt,yN:()=>z});var r=e(44110),i=e(66602),o=e(12345),u=e(70059),a=e(85342),c=e(5775),s=e(24760),l=e(53372),f=e(65900);function d(t,n,e,r,i,o,u){try{var a=t[o](u),c=a.value}catch(t){e(t);return}a.done?n(c):Promise.resolve(c).then(r,i)}function g(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function u(t){d(o,r,i,u,a,"next",t)}function a(t){d(o,r,i,u,a,"throw",t)}u(void 0)})}}function p(t,n){var e,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var s=[a,c];if(e)throw TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(o=0)),o;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var v=new Map,h=new Map,m="projects",y="projectSchemas",S="projectSitemaps",_="projectBranchs",b={type:"create-api"},I="PROJECT_DELETED",A="PROJECT_REQUEST_CANCELLED",w="START_POLLING_PROJECT",E="STOP_POLLING_PROJECT",N="PAUSE_POLLING_PROJECT",C=(0,o.q)(m),O=(0,o.q)(y),T=(0,o.q)(S),R=(0,o.q)(_),P=(0,o.B)(m,C,{getKey:function(t){var n,e;return null==t||null==(e=t.deploymentData)||null==(n=e.netlify)?void 0:n.id},handler:function(t,n){switch(n.type){case I:return t.deleteIn(["entities",n.payload.siteId]).delete("pages").deleteIn(["polling",n.payload.siteId]);case A:return t.setIn(["entities",n.payload.siteId,"isFetching"],!1);case w:return t.setIn(["polling",n.payload.siteId],(0,r.fromJS)({pollingInterval:n.payload.pollingInterval,status:"active"}));case E:return t.deleteIn(["polling",n.payload.siteId]);case N:return"active"!==t.getIn(["polling",n.payload.siteId,"status"])?t:t.setIn(["polling",n.payload.siteId,"status"],"paused");default:return null}}}),U=(0,o.B)(y,O),D=(0,o.B)(S,T),k=(0,o.B)(_,R),j=(0,i.A)(I,function(t){return{siteId:t}}),L=(0,i.A)(A,function(t){return{siteId:t}}),M=(0,i.A)(w,function(t,n){return{siteId:t,pollingInterval:n}}),F=(0,i.A)(E,function(t){return{siteId:t}}),J=(0,i.A)(N,function(t){return{siteId:t}});function z(t,n){return t.projects.getIn(["entities",n])}function B(t,n){return t.projects.getIn(["entities",n,"isFetching"])}function G(t,n){return t.projects.getIn(["polling",n])}function q(t,n){var e;return null==(e=G(t,n))?void 0:e.get("status")}function x(t,n){return t.projectSchemas.getIn(["entities",n])}function V(t,n){return t.projectSchemas.getIn(["entities",n,"isFetching"])}function K(t,n){return t.projectSitemaps.getIn(["entities",n])}function Y(t,n){return t.projectBranches.getIn(["entities",n,"branches"])}function H(t,n){return t.projectBranches.getIn(["entities",n,"isFetching"])}function W(t,n){t(J(n));var e=h.get(n);e&&(e.abort(),h.delete(n));var r=v.get(n);r&&(r.abort(),v.delete(n))}function Q(t,n){return(0,l.Nt)(function(e,i,o){var c=(0,u.V2)(t),s=t.get("id");return W(e,c),o.updateProject(s,n).then(function(t){var n=t.data;return e(C.projectSuccess(n)),(0,r.fromJS)(n)}).catch(function(t){throw new a.A(t)}).finally(function(){e(te(c))})},b)}function Z(){return(0,l.Nt)(function(t,n,e){return e.generateProjectId().then(function(t){var n=t.data,e=(0,c.f)(n.projectIdToken),r=e.token;return{projectId:e.payload.projectId,projectIdToken:r}}).catch(function(t){throw new a.A(t)})},b)}function $(t,n){return(0,l.Nt)(function(e,r,i){var o=t.get("id"),c=(0,u.V2)(t);return W(e,c),i.updateProjectEnvVars(o,n).then(function(){return e(tu(c))}).catch(function(t){throw new a.A(t)}).finally(function(){e(te(c))})},b)}function X(t,n){var e=t.get("id"),r=t.getIn(["deploymentData","netlify","id"]);return(0,l.Nt)(function(t,i,o){return"preview"===n?o.restartPreview(e).catch(function(t){throw new a.A(t)}):(W(t,r),o.stopProject(e).then(function(n){var r=n.data;return t(C.projectSuccess(r)),o.redeployProject(e,{force:!0}).then(function(n){var e=n.data;return t(C.projectSuccess(e))})}).catch(function(t){throw new a.A(t)}).finally(function(){t(te(r))}))},b)}function tt(t){return(0,l.Nt)(function(n,e,r){var i=t.getIn(["deploymentData","netlify","id"]);return W(n,i),r.updateSite(i,{visual_editor_active:!1}).then(function(t){var e=t.data;return n(j(i)),n(f.o1.siteSuccess(e))}).catch(function(t){throw new a.A(t)})})}function tn(t){return(0,l.Nt)(function(n,e,r){return n(C.projectsRequest([m])),r.projects(t).then(function(t){var e=t.data,r=t.pagination;return n(C.projectsSuccess(m,e.projects,r))}).catch(function(t){return n(C.projectsFailure([m],t))})},b)}function te(t){return function(n,e){var r=G(e(),t);(null==r?void 0:r.get("status"))==="paused"&&n(ti(t,r.get("pollingInterval")))}}function tr(t){return g(function(t){var n,e,r,i,o,u,a;return p(this,function(c){switch(c.label){case 0:if(n=t.getState,e=t.api,r=t.siteId,i=n(),o=(0,f.W5)(i,r),!(u=(0,s.HN)(o)))return[2];a=new AbortController,v.set(r,a),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,e.project(u,{signal:a.signal}).then(function(t){return t.data})];case 2:return[2,c.sent()];case 3:return v.delete(r),[7];case 4:return[2]}})}).apply(this,arguments)}function ti(t,n){return(0,l.Nt)(function(e,r,i){return g(function(){var o,u,a,c;return p(this,function(s){var l,f,d,v;switch(s.label){case 0:if("active"===q(r(),t))return[2];e(M(t,n)),o=function(){return g(function(){return p(this,function(n){return[2,tr({getState:r,api:i,siteId:t}).then(function(n){if(G(r(),t))return e(C.projectSuccess(n))},function(n){if(G(r(),t)&&"AbortError"!==n.name)return[404,401].includes(n.code)?e(C.projectSuccess({deploymentData:{netlify:{id:t}}})):e(C.projectFailure(t,n))})]})})()},u=new AbortController,h.set(t,u),s.label=1;case 1:s.trys.push([1,7,8,9]),s.label=2;case 2:if("active"!==q(r(),t))return[3,6];return[4,o()];case 3:if(s.sent(),(null==(a=G(r(),t))?void 0:a.get("status"))!=="active")return[3,5];return[4,(l=a.get("pollingInterval"),f=u.signal,new Promise(function(t,n){var e=setTimeout(t,l);f.addEventListener("abort",function(){clearTimeout(e),n(new DOMException("Aborted","AbortError"))})}))];case 4:s.sent(),s.label=5;case 5:return[3,2];case 6:return[3,9];case 7:if(d=c=s.sent(),(null!=(v=Error)&&"undefined"!=typeof Symbol&&v[Symbol.hasInstance]?!!v[Symbol.hasInstance](d):d instanceof v)&&"AbortError"===c.name)return[2];throw c;case 8:return h.delete(t),[7];case 9:return[2]}})})()},b)}function to(t){return function(n){W(n,t),n(F(t))}}function tu(t){return(0,l.Nt)(function(n,e,r){return n(C.projectRequest(t)),tr({getState:e,api:r,siteId:t}).then(function(r){return n(C.projectSuccess(r)),z(e(),t)}).catch(function(e){return"AbortError"===e.name?n(L(t)):[404,401].includes(e.code)?n(C.projectSuccess({deploymentData:{netlify:{id:t}}})):n(C.projectFailure(t,e))})},b)}function ta(t){return(0,l.Nt)(function(n,e,r){if(!V(e(),t))return n(O.projectSchemaRequest(t)),r.projectAction(t,"getSchema").then(function(e){var r=e.data;return n(O.projectSchemaSuccess(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}({id:t},r)))}).catch(function(e){return n(O.projectSchemaFailure(t,e))})},b)}function tc(t){return(0,l.Nt)(function(n,e,r){var i;if(i=e(),!i.projectSitemaps.getIn(["entities",t,"isFetching"]))return n(T.projectSitemapRequest(t)),r.projectAction(t,"getSiteMap").then(function(e){var r=e.data;return n(T.projectSitemapSuccess({id:t,pages:r}))}).catch(function(e){return n(T.projectSitemapFailure(t,e))})},b)}function ts(t,n,e){return(0,l.Nt)(function(r,i,o){if(!H(i(),t)&&n)return r(R.projectBranchRequest(t)),o.analyzeRepo(n,void 0,{validateAppAccess:!1},e).then(function(n){var e=n.data;return r(R.projectBranchSuccess({id:t,branches:e.branches}))}).catch(function(n){return r(R.projectBranchFailure(t,n))})},b)}},46286:(t,n,e)=>{e.d(n,{Vr:()=>l,dk:()=>s,nb:()=>c});var r=e(44110),i=e(66602),o=e(53372),u="EDGE_FUNCTIONS_SUCCESS",a=(0,i.A)(u,function(t,n){return{deployId:t,data:n}});function c(t){return(0,o.Nt)(function(n,e,r){return r.edgeFunctions(t).then(function(e){n(a(t,e.data))})})}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;if(n.type!==u)return t;var e=n.payload,i=e.deployId,o=e.data.edge_functions;return t.setIn(["entities",i],o)}function l(t,n){return t.edgeFunctions.get("entities")?t.edgeFunctions.get("entities").get(n):[]}},48528:(t,n,e)=>{e.d(n,{$S:()=>tp,$t:()=>R,Cd:()=>X,EA:()=>N,Ed:()=>tv,Ee:()=>Z,Fd:()=>th,Fl:()=>tu,G5:()=>tt,IA:()=>tg,II:()=>K,IW:()=>q,JZ:()=>B,KD:()=>U,L_:()=>tl,N6:()=>J,Np:()=>to,Nu:()=>E,Sr:()=>tr,Tc:()=>M,Tj:()=>D,To:()=>ts,UM:()=>tc,WG:()=>td,WZ:()=>F,X5:()=>tn,YS:()=>P,Zb:()=>x,Zn:()=>A,cU:()=>k,cr:()=>ty,cw:()=>H,eh:()=>T,f8:()=>O,f_:()=>C,gs:()=>$,iQ:()=>tS,jy:()=>V,lr:()=>tf,n8:()=>Y,nJ:()=>W,nr:()=>tm,om:()=>w,pP:()=>L,qB:()=>z,rQ:()=>j,si:()=>ti,t7:()=>te,vd:()=>ta,wj:()=>Q,x6:()=>G}),e(99895);var r=e(44110),i=e(66602),o=e(56315),u=e(12345),a=e(85342),c=e(17250),s=e(53372);e(13554);var l=e(26460),f="INVITE_CLEAR_FAILURES",d="INVITE_FAILURE",g=(0,i.A)(f),p=(0,i.A)(d),v=(0,u.q)("organizations"),h=(0,u.q)("organizationAccounts"),m=(0,u.q)("organizationMembers"),y=(0,u.q)("organizationInvoices"),S=((0,u.q)("organizationClientToken"),(0,u.q)("organizationReceipts")),_=(0,u.q)("organizationSaml"),b=(0,u.q)("organizationScims"),I=(0,u.q)("organizationScimMappings"),A=(0,u.B)("organizations",v,{key:"slug"}),w=(0,u.B)("organizationAccounts",h),E=(0,u.B)("organizationMembers",m,{handler:function(t,n){switch(n.type){case f:return t.setIn(["inviteErrors"],(0,r.List)());case d:var e=t.get("inviteErrors")||(0,r.List)();return t.setIn(["inviteErrors"],e.push(n.payload));default:return null}}}),N=(0,u.B)("organizationInvoices",y),C=(0,u.B)("organizationReceipts",S,{key:"transaction_id"}),O=(0,u.B)("organizationSaml",_,{key:"list"}),T=(0,u.B)("organizationScim",b),R=(0,u.B)("organizationScimMappings",I);function P(t){return(0,s.Nt)(function(n,e,r){return n(v.organizationRequest(t)),r.organization(t).then(function(t){return n(v.organizationSuccess(t.data))}).catch(function(e){return n(v.organizationFailure(t,e))})})}function U(t){return(0,s.Nt)(function(n,e,r){return n(h.organizationAccountsRequest(t)),r.organizationAccounts(t).then(function(e){n(h.organizationAccountsSuccess(t,e.data))}).catch(function(e){return n(h.organizationAccountsFailure(t,e))})})}function D(t){return(0,s.Nt)(function(n,e,r){return n(m.organizationMembersRequest(t)),r.organizationMembers(t).then(function(e){n(m.organizationMembersSuccess(t,e.data))}).catch(function(e){return n(m.organizationMembersFailure(t,e))})})}function k(t){return(0,s.Nt)(function(n,e,r){return n(y.organizationInvoicesRequest(t)),r.organizationInvoices(t).then(function(e){return n(y.organizationInvoicesSuccess(t,e.data))}).catch(function(e){return n(y.organizationInvoicesFailure(t,e))})})}function j(t){return(0,s.Nt)(function(n,e,r){return n(S.organizationReceiptsRequest(t)),r.organizationReceipts(t).then(function(e){return n(S.organizationReceiptsSuccess(t,e.data))}).catch(function(e){return n(S.organizationReceiptsFailure(t,e))})})}function L(){return(0,s.Nt)(function(t,n,e){return t(v.organizationsRequest("organizations")),e.organizations().then(function(n){return t(v.organizationsSuccess("organizations",n.data,n.pagination))},function(n){return t(v.organizationsFailure("organizations",n))})})}function M(t){return(0,s.Nt)(function(n,e,r){return r.organizationSamlConnection(t).then(function(e){return n(_.organizationSamlSuccess(t,e.data)),e.data})})}function F(t){return(0,s.Nt)(function(n,e,r){return n(b.organizationScimRequest(t)),r.organizationScimConnection(t).then(function(e){var r,i,o=e.data.status||"inactive";return n(b.organizationScimSuccess((r=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}({id:t},e.data),i=i={status:o},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e.push.apply(e,r)}return e})(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))}),r)))})})}function J(t){return(0,s.Nt)(function(n,e,r){return n(I.organizationScimMappingRequest(t)),r.organizationScimMappings(t).then(function(e){return n(I.organizationScimMappingSuccess({id:t,groups:e.data}))})})}function z(t){return(0,s.Nt)(function(n,e,r){return r.organizationSamlDashboard(t).then(function(t){return t.data.workos_portal_url})})}function B(t){return(0,s.Nt)(function(n,e,r){return r.organizationScimDashboard(t).then(function(t){return t.data.workos_portal_url})})}function G(t,n){return(0,s.Nt)(function(e,r,i){return i.organizationScimStatus(t,n).then(function(){e(F(t))})})}function q(t){return(0,s.Nt)(function(n,e,r){return r.organizationSamlDeleteConnection(t).then(function(){n(M(t))})})}function x(t){return t.organizations.getIn(["pages","organizations","ids"],(0,r.List)()).map(function(n){return Z(t,n)})}function V(t){return t.organizations.getIn(["pages","organizations","isFetching"])}function K(t,n){return t.organizations.getIn(["entities",n,"isFetching"])}function Y(t,n){var e;return null==(e=t.organizationSaml)?void 0:e.getIn(["entities",n,"entities"])}function H(t,n){var e;return n?null==(e=t.organizationScim)?void 0:e.getIn(["entities",n]):(0,r.fromJS)({scim_configured:!1})}function W(t,n){var e;return n?null==(e=t.organizationScimMappings)?void 0:e.getIn(["entities",n]):(0,r.fromJS)({groups:[]})}function Q(t,n){return t.organizations.getIn(["entities",n,"error"])}function Z(t,n){var e=null==(r=t.organizations)?void 0:r.getIn(["entities",n]);if(null==e?void 0:e.get("error"))return null;if(e){var r,i,o=e.get("id");e=e.merge({accounts:null==(i=(0,c.N8)(t))?void 0:i.filter(function(t){return t.get("organization_id")===o})})}return e}function $(t,n){return x(t).find(function(t){return t.get("id")===n})}function X(t,n){var e,i=null==(e=t.organizationAccounts)?void 0:e.getIn(["pages",n]),o=null==i?void 0:i.get("ids");return o&&(null==o?void 0:o.size)?o&&o.map(function(n){return t.organizationAccounts.getIn(["entities",n])}):(0,r.List)()}function tt(t,n){return t.organizationAccounts.getIn(["pages",n,"isFetching"])}function tn(t,n){var e,i=null==(e=t.organizationMembers)?void 0:e.getIn(["pages",n]),o=null==i?void 0:i.get("ids");return o&&(null==o?void 0:o.size)?o&&o.map(function(n){return t.organizationMembers.getIn(["entities",n])}):(0,r.List)()}function te(t){return t.organizationMembers.getIn(["inviteErrors"])}function tr(t,n){var e,r=null==(e=t.organizationInvoices)?void 0:e.getIn(["pages",n]),i=null==r?void 0:r.get("ids");if(i&&(null==i?void 0:i.size))return i&&i.map(function(n){var e;return null==(e=t.organizationInvoices)?void 0:e.getIn(["entities",n])})}function ti(t,n){var e;return null==(e=t.organizationInvoices)?void 0:e.getIn(["pages",n,"isFetching"])}function to(t,n){var e,i=null==(e=t.organizationReceipts)?void 0:e.getIn(["pages",n]),o=null==i?void 0:i.get("ids");return o&&(null==o?void 0:o.size)?o&&o.map(function(n){var e;return null==(e=t.organizationReceipts)?void 0:e.getIn(["entities",n])}):(0,r.List)()}function tu(t,n){var e;return null==(e=t.organizationReceipts)?void 0:e.getIn(["pages",n,"isFetching"])}function ta(t,n){var e=X(t,n);return null==e?void 0:e.reduce(function(t,n){return t.bandwidth.value+=n.getIn(["bandwidth_usage","used"])||0,t.bandwidth.limit+=n.getIn(["bandwidth_usage","included"])||0,t.buildMinutes.value+=n.getIn(["build_status","minutes","current"])||0,t.buildMinutes.limit+=n.getIn(["build_status","minutes","included_minutes_with_packs"])||0,t.concurrentBuilds.value+=n.getIn(["build_status","active"])||0,t.concurrentBuilds.limit+=n.get("included_concurrent_builds")||0,t},{bandwidth:{value:0,limit:0},buildMinutes:{value:0,limit:0},concurrentBuilds:{value:0,limit:0}})}function tc(t,n){var e=t.get("id"),r=t.get("slug");return(0,s.Nt)(function(t,i,u){return u.organizationCreateAccount(e,n).then(function(){t(U(e)),t((0,o.VC)("/organizations/".concat(r,"/overview")))})})}function ts(t,n){var e=t.get("id");return(0,s.Nt)(function(t,r,i){return i.organizationScimAddMapping(e,n).then(function(){t(J(e))})})}function tl(t,n){var e=t.get("id"),r=t.get("slug");return(0,s.Nt)(function(t,i,o){return o.updateOrganization(e,n).then(function(i){var u=i.data,c=n.logo;void 0!==c?o.updateOrganizationLogo(e,c).catch(function(t){return new a.A(t)}):o.deleteOrganizationLogo(e).catch(function(t){return new a.A(t)}),t(v.organizationSuccess(u));var s=u.slug;s!==r&&t(P(s)).then(function(){t((0,l.d9)(document.location.pathname.replace("/organizations/".concat(r,"/"),"/organizations/".concat(s,"/")))),t(L())})})})}function tf(t,n){var e=t.get("id");return(0,s.Nt)(function(t,r,i){return i.organizationScimUpdateMapping(e,n).then(function(){t(J(e))})})}function td(t,n){return(0,s.Nt)(function(e,r,i){return i.updateOrganizationSecurityContacts(t,n).then(function(){return e(P(t))})})}function tg(t,n){return(0,s.Nt)(function(e,i,u){var a=t.get("id"),c=t.get("slug");return e(g()),Promise.all(n.map(function(t){return u.inviteOrganizationMember(a,t).catch(function(n){e(p((0,r.fromJS)({email:t,error:n.message})))})})).finally(function(){e(D(a)),e((0,o.VC)("/organizations/".concat(c,"/overview")))})})}function tp(t,n){var e=t.get("id");return(0,s.Nt)(function(t,r,i){return i.inviteOrganizationMember(e,n.get("email")).finally(function(){t(D(e))})})}function tv(){return g()}function th(t,n){var e=t.get("id"),r=n.get("id");return(0,s.Nt)(function(t,n,i){return i.deleteOrganizationMember(e,r).then(function(){t(D(e))}).catch(function(t){return new a.A(t)})})}function tm(t,n){var e=t.get("id");return(0,s.Nt)(function(t,r,i){return i.organizationScimDeleteMapping(e,n).then(function(){t(J(e))})})}function ty(t){var n=t.get("id");return(0,s.Nt)(function(t,e,r){return r.organizationScimDeleteConnection(n).then(function(){t(F(n))})})}function tS(t){var n=t.get("id");return(0,s.Nt)(function(t,e,r){return r.organizationScimDeleteConnectionKeepingUsers(n).then(function(){t(F(n))})})}},49181:(t,n,e)=>{e.d(n,{Bo:()=>h,EH:()=>I,_5:()=>y,b9:()=>S,cI:()=>m,cU:()=>A,gD:()=>b,mJ:()=>p,wz:()=>_});var r=e(67448),i=e(12345),o=e(77596),u=e(53372);function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}function s(t,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e.push.apply(e,r)}return e})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}var l="logDrains",f=r.z.enum(["user_traffic","functions","edge_functions","deploys","waf_logs"]),d=r.z.array(f),g=(0,i.q)(l),p=(0,i.B)(l,g);function v(t){var n=s(c({},t),{log_types:[]}),e=n.service_config,r=e.url,i=e.integration_name;if("string"==typeof r&&r&&new URL(r).host.endsWith(".sumologic.com")&&(n.destination="sumologic"),i&&(n.destination=i),"string"==typeof t.log_types){var u=d.safeParse((0,o.jD)(t.log_types));n.log_types=u.success?u.data:[]}return n}function h(t,n){var e,r,i,o=(e=(null==(r=t.logDrains.getIn(["pages",n,"ids"]))?void 0:r.toJS())||[],function(t){if(Array.isArray(t))return t}(e)||function(t,n){var e,r,i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o=[],u=!0,a=!1;try{for(i=i.call(t);!(u=(e=i.next()).done)&&(o.push(e.value),o.length!==n);u=!0);}catch(t){a=!0,r=t}finally{try{u||null==i.return||i.return()}finally{if(a)throw r}}return o}}(e,1)||function(t,n){if(t){if("string"==typeof t)return a(t,1);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,n)}}(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return null==(i=t.logDrains.getIn(["entities",o]))?void 0:i.toJS()}function m(t,n){return t.logDrains.getIn(["pages",n,"isFetching"])}function y(t){return(0,u.Nt)(function(n,e,r){return n(g.logDrainsRequest(t)),r.logDrains(t).then(function(e){var r=(e.data||[]).map(function(t){return v(t)});n(g.logDrainsSuccess(t,r))}).catch(function(e){n(g.logDrainsFailure(t,e))})})}function S(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.Nt)(function(e,r,i){return i.createLogDrain(t,n).then(function(n){e(g.logDrainsSuccess(t,[v(n.data)]))})})}function _(t,n){return t.logDrains.getIn(["pages",n,"error"])}function b(t,n,e){return(0,u.Nt)(function(r,i,o){return o.verifyLogDrain(t,n,e).then(function(){var n=s(c({},h(i(),t)),{verified:!0});r(g.logDrainsSuccess(t,[n]))})})}function I(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.Nt)(function(r,i,o){return o.updateLogDrain(t,n,e).then(function(n){r(g.logDrainsSuccess(t,[v(n.data)]))})})}function A(t,n){return(0,u.Nt)(function(e,r,i){return i.deleteLogDrain(t,n).then(function(){e(g.logDrainsSuccess(t,[]))})})}},51100:(t,n,e)=>{e.d(n,{fo:()=>p,lT:()=>g,pD:()=>h,vm:()=>f,zF:()=>v});var r=e(44110),i=e(12345),o=e(56020),u=e(53372);function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return a(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,n)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s="edgeFunctionLogs",l=(0,i.q)(s),f=(0,i.B)(s,l,{getKey:function(t,n){return"".concat(t.ts,"-").concat(t.requestId,"-").concat(n)}});function d(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[t,n.cursor||"",n.q||"",n.from||"",n.to||"",n.deployId||""].filter(Boolean).join("-")}function g(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.edgeFunctionLogs.getIn(["pages",d(n,e),"ids"]);return r&&r.map(function(n){var e;return(e=t.edgeFunctionLogs.getIn(["entities",n]))&&e.merge(t.edgeFunctionLogs.get(n))})}function p(t,n,e){return!!t.edgeFunctionLogs.getIn(["pages",d(n,e),"isFetching"])}function v(t,n,e){return t.edgeFunctionLogs.getIn(["pages",d(n,e),"next"])}function h(t,n){var e={cursor:n.cursor,q:n.q,from:n.from,to:n.to,deployId:n.deployId};return(0,o.Jh)(function(i,o,a){var s=d(t,e);return i(l.edgeFunctionLogsRequest(s)),a.historicalEdgeFunctionLogs({site_id:t,deploy_id:n.deployId,from:n.from,to:n.to,next_cursor:n.next_cursor,search:n.q}).then(function(e){var u=g(o(),t,n)||(0,r.List)(),a=u?c(u.toJS()).concat(c(e.data.logs)):e.data.logs;return i(l.edgeFunctionLogsSuccess(s,a,e.pagination))}).catch(function(t){return new u.LG(t)})})}},51704:(t,n,e)=>{e.d(n,{$3:()=>f,JL:()=>g,LG:()=>d,ab:()=>s,db:()=>p,p$:()=>l,pb:()=>c,vo:()=>v});var r=e(44110),i=e(12345),o=e(53372),u=(0,i.q)("hooks"),a="HOOK_TYPES";function c(t){return(0,o.Nt)(function(n,e,r){return n(u.hooksRequest(t.get("id"))),r.hooks(t.get("id")).then(function(e){return n(u.hooksSuccess(t.get("id"),e.data,e.pagination))},function(e){return n(u.hooksFailure(t.get("id"),e.message))})})}function s(t,n){var e={site_id:t.get("id"),event:n.event,type:n.type,data:n.data,form_id:n.form_id};return(0,o.Nt)(function(n,r,i){return i.addHook(e).then(function(e){n(c(t))})})}function l(t,n,e){var r=n.get("id");return(0,o.Nt)(function(n,i,o){return o.updateHook(r,e).then(function(t){return t.data.disabled?o.enableHook(r):Promise.resolve(t)}).then(function(){return n(c(t))})})}function f(t,n){return(0,o.Nt)(function(e,r,i){return i.deleteHook(n.get("id")).then(function(){return e(c(t))})})}function d(t){return(0,o.Nt)(function(n,e,r){return r.hookTypes(t.get("id")).then(function(e){return n({type:a,payload:{siteId:t.get("id"),types:e.data}})})})}var g=(0,i.B)("hooks",u,{handler:function(t,n){return n.type===a?t.setIn(["types",n.payload.siteId],(0,r.fromJS)(n.payload.types)):null}});function p(t,n){var e=t.hooks.getIn(["pages",n.get("id"),"ids"]);return e&&e.map(function(n){return t.hooks.getIn(["entities",n])})}function v(t,n){return t.hooks.getIn(["types",n.get("id")])}},53181:(t,n,e)=>{e.d(n,{Dz:()=>tl,Ej:()=>B,Nw:()=>q,S5:()=>Z,Uy:()=>tr,V4:()=>tg,W0:()=>ti,W1:()=>W,aU:()=>td,ah:()=>z,bD:()=>tf,fS:()=>tv,i9:()=>ts,k2:()=>tc,oY:()=>tu,qp:()=>T,sM:()=>to,wh:()=>$});var r=e(99895),i=e.n(r),o=e(29511),u=e(44110),a=e(51582),c=e.n(a),s=e(66602),l=e(30143),f=e.n(l),d=e(28489),g=e(12345),p=e(85342),v=e(22657),h=e(69895),m=e(18701),y=e(47936),S=e(47975),_=e(53372),b=e(78028);function I(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function A(t,n,e,r,i,o,u){try{var a=t[o](u),c=a.value}catch(t){e(t);return}a.done?n(c):Promise.resolve(c).then(r,i)}function w(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function u(t){A(o,r,i,u,a,"next",t)}function a(t){A(o,r,i,u,a,"throw",t)}u(void 0)})}}function E(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||N(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,n){if(t){if("string"==typeof t)return I(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return I(t,n)}}function C(t,n){var e,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var s=[a,c];if(e)throw TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(o=0)),o;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var O="REPO_LINK_REQUEST",T="REPO_LINK_SUCCESS",R="REPO_LINK_FAILURE",P="REPO_CREATE_FS",U="REPO_ADD_WORKSPACES",D="REPO_MANUAL_CONFIG",k="REPO_VISUAL_EDITOR_ANALYSIS",j="REPO_VISUAL_EDITOR_ANALYSIS_LOADING",L="REPO_VISUAL_EDITOR_ACCESS_LOADING",M="REPO_VISUAL_EDITOR_ACCESS",F="REPO_CONTENT_PROVISIONING_STATUS",J=(0,g.q)("repos"),z=(0,s.A)(O,function(t){return t}),B=(0,s.A)(T,function(t){return t});(0,s.A)(R,function(t,n){return{full_name:t,error:n}});var G=(0,s.A)(P,function(t,n){return{fs:t,full_name:n}}),q=(0,s.A)(D,function(t,n){return{full_name:t,manual:n}}),x=(0,s.A)(U,function(t,n){return{workspaces:t,full_name:n}}),V=(0,s.A)(k,function(t,n){return{full_name:t,data:n}}),K=(0,s.A)(j,function(t,n){return{full_name:t,loading:n}}),Y=(0,s.A)(L,function(t,n){return{full_name:t,loading:n}}),H=(0,s.A)(M,function(t,n){return{full_name:t,access:n}}),W=(0,s.A)(F,function(t,n){return{full_name:t,status:n}}),Q=(0,s.A)("REPO_NO_FS");function Z(t){var n=t.organization,e=t.hideGitUser,r=t.page,i=t.per_page,o=void 0===i?25:i,u=t.installationId;return(0,b.zc)(function(t,i,a){if(e&&!n)return Promise.resolve();var c=i(),s=(0,b.a)(c),l=(0,b.v0)(c),f=l?a.searchRepos:a.repos;return t(J.reposRequest(n)),f.call(a,{search:l,organization:n,page:r,per_page:o,installationId:u,gitUser:s}).then(function(e){return t(J.reposSuccess(n,e.data,e.pagination))}).catch(function(t){if(a&&"checkErrorForInvalidToken"in a){var n=a.checkErrorForInvalidToken(t);if(n)throw new p.A(n)}})})}function $(t,n){var e=t.get("api_id"),r=t.get("full_name"),i=t.get("organization_name");return(0,b.zc)(function(o,u,a){return a.branches({api_id:e,organization_name:i,page:n}).then(function(n){var e,i=n.data,u=n.pagination;o(J.repoSuccess({full_name:r,branches:(e=t.get("branches")).push.apply(e,E(i)),branchPagination:u}))})})}function X(t,n){return n.map(function(n){var e,r,i,o,u,a=null==(i=t.frameworks)||null==(r=i.get(n))||null==(e=r[0])?void 0:e.toJSON(),c={path:n,name:null==(u=t.workspace)||null==(o=u.getPackage(n))?void 0:o.name};return a&&(c.framework={id:a.id,logo:a.logo}),c})}var tt=["@netlify/plugin-nextjs"],tn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.reduce(function(n,e){return t.includes(e)&&!tt.includes(e)?n:E(n).concat([{package:e}])},[])};function te(t){return w(function(t){var n,e,r,i,a,s,l,f,d,g,p;return C(this,function(v){switch(v.label){case 0:var h,y,S;if(n=t.fs,e=t.dispatch,r=t.getState,i=t.configFilePath,a=t.packagePath,s=t.baseDir,f=void 0===(l=t.root)?"/":l,(null==(h=tf(r(),n.details.full_name))?void 0:h.get("manual"))||0)return[2];return e(J.repoRequest(n.details.full_name)),g=((null==(y=r(),d=(null==(S=tf(y,n.details.full_name))?void 0:S.get("settings"))||(0,u.fromJS)({}))?void 0:d.toJS())||{}).package_path!==a,(p=new o.MM(n,g?"":s||"",f).setNodeVersion("22.0.0")).events.on("detectWorkspaces",function(t){t&&e(x(X(p,(null==t?void 0:t.packages.map(function(t){return t.path}))||[]),n.details.full_name))}),p.events.on("detectSettings",function(t){return w(function(){var r,u,l,f,d,v,h,y,S,_,b,I,A,N,O,T,R,P,U,D,k;return C(this,function(j){switch(j.label){case 0:var L;if(_=t.map(function(t){return t.packagePath}).filter(Boolean),!(null==(b=a||(null==(r=t[0])?void 0:r.packagePath))?void 0:b.length))return[3,2];return t=t.filter(function(t){return t.packagePath===b}),[4,(L=b,w(function(){var t;return C(this,function(e){switch(e.label){case 0:t=n.join(L,"netlify.toml"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.readFile(t)];case 2:return e.sent(),[2,t];case 3:return e.sent(),[2,null];case 4:return[2]}})})())];case 1:i=null!=(I=j.sent())?I:i,j.label=2;case 2:return[4,(0,o.wM)(p,i)];case 3:return A=j.sent(),N=c()(t[0],A),e(x(X(p,E(new Set(_))),n.details.full_name)),O=null==(f=p.frameworks)||null==(l=f.get(b||""))||null==(u=l[0])?void 0:u.toJSON(),T=n.dirCache.get(b||s||""),R=(0,m.MJ)(null!=T?T:[]),[4,th(p)];case 4:return P=j.sent(),U="gitlab"===n.git.provider,D=null==(d=n.dirCache.get(""))?void 0:d.find(function(t){var n;return(null==(n=t.path)?void 0:n.toLowerCase())==="usage.md"}),k=U?"https://gitlab.com/".concat(n.details.full_name,"/blob/").concat(n.details.branch,"/").concat(null==D?void 0:D.path):null==D?void 0:D.html_url,e(J.repoSuccess({full_name:n.details.full_name,settings:{base:g?N.baseDirectory:null!=s?s:null==N?void 0:N.baseDirectory,cmd:null==N?void 0:N.buildCommand,dir:(null==(v=N.baseDirectory)?void 0:v.length)&&(null==(h=N.dist)?void 0:h.length)?n.relative(N.baseDirectory,N.dist):null==N?void 0:N.dist,env:(null==N?void 0:N.env)||{},framework:null==(y=N.framework)?void 0:y.id,frameworkLogo:null==O?void 0:O.logo,frameworkName:null==(S=N.framework)?void 0:S.name,functions_dir:N.functionsDir,package_path:null==N?void 0:N.packagePath,plugins:tn(N.plugins_from_config_file,N.plugins_recommended),plugins_installed:N.plugins_from_config_file,plugins_recommended:N.plugins_recommended,template:N.template,usageFileUrl:D?k:void 0,visualEditor:R,netlifySdkVersion:P}})),[2]}})})()}),[4,p.getBuildSettings()];case 1:return v.sent(),[2]}})}).apply(this,arguments)}function tr(t){var n=t.get("api_id"),e=t.get("full_name"),r=t.get("default_branch"),o=t.get("organization_name");return(0,b.zc)(function(t,u,a){return w(function(){var u,c,s;return C(this,function(l){switch(l.label){case 0:return[4,a.branches({api_id:n,organization_name:o}).catch(function(n){i().notify(n,function(t){t.context="prepareRepo",t.addMetadata("repo",{name:e,branch:r,provider:a.provider}),t.severity="info"}),t(J.repoFailure(e,new p.A("We couldn’t access the repository ".concat(e,". This could be because the repository is empty or disabled."))))})];case 1:return c=(u=l.sent()).data,s=u.pagination,t(G(new y.O(a,{organization_name:o,api_id:n,full_name:e,branch:r}),e)),t(J.repoSuccess({full_name:e,branches:c,branchPagination:s})),[2]}})})()})}function ti(t){return ta(t,function(n,e,r){return w(function(){var o,u,a;return C(this,function(c){switch(c.label){case 0:o=r.details.full_name,u=t.get("create_from_path"),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,te({fs:r,getState:e,dispatch:n,root:u?"/".concat(u):void 0})];case 2:return c.sent(),[3,4];case 3:var s,l;return s=a=c.sent(),(null!=(l=Error)&&"undefined"!=typeof Symbol&&l[Symbol.hasInstance]?!!l[Symbol.hasInstance](s):s instanceof l)&&i().notify(a,function(t){t.context="prepareRepo",t.addMetadata("repo",{name:r,branch:r.details.branch,provider:r.git.provider}),t.severity="info"}),n(J.repoFailure(o,new p.A("We couldn’t access the repository ".concat(o,". This could be because the repository is empty or disabled.")))),[3,4];case 4:return[2]}})})()})}function to(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(n?function(t){return(0,b.W7)(n,t)}:b.zc)(function(n,r,i){return n(J.repoRequest(t)),i.repo(t).then(function(o){var u=o.data,a=new y.O(i,{organization_name:u.organization_name,api_id:u.api_id,full_name:t,branch:e.branch||u.default_branch});return n(J.repoSuccess({full_name:a.details.full_name,default_branch:a.details.branch})),te({fs:a,getState:r,dispatch:n,packagePath:e.packagePath,baseDir:e.baseDir,root:e.root})}).catch(function(e){var r=new p.A(e);throw n(J.repoFailure(t,r)),r})})}function tu(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ta(t,function(t,r,i){return w(function(){var o;return C(this,function(u){return o=i.details.full_name,i.details.branch!==n&&(t(J.repoSuccess({full_name:o,settings:{},workspaces:void 0,configFilePath:void 0})),i.changeBranch(n)),[2,te({fs:i,dispatch:t,getState:r,configFilePath:e.configFilePath,baseDir:e.baseDir,packagePath:e.packagePath})]})})()})}function ta(t,n){return function(e,r){return w(function(){var i;return C(this,function(o){var u;return(u=r(),i=tf(u,t.get("full_name")).get("fs"))?[2,n(e,r,i)]:[2,e(Q())]})})()}}var tc=(0,g.B)("repos",J,{key:"full_name",handler:function(t,n){switch(n.type){case O:return t.set("linking",!0).setIn(["entities",n.payload,"linking"],!0);case R:return t.set("linking_error",n.payload.error).setIn(["entities",n.payload.api_id,"link_error"],J.payload.error);case T:return t.set("linking",null).setIn(["entities",n.payload,"linking"],null);case P:return t.setIn(["entities",n.payload.full_name,"fs"],n.payload.fs);case U:return t.updateIn(["entities",n.payload.full_name,"workspaces"],function(t){return(0,u.fromJS)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=new Map(t.reduce(function(t,n){return t.set(n.path,n)},new Map)),r=!0,i=!1,o=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var s=u.value;e.has(s.path)?e.set(s.path,c()(e.get("w.path"),s)):e.set(s.path,s)}}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return E(e.values())}(null==t?void 0:t.toJS(),n.payload.workspaces))});case D:var e=t;return n.payload.manual&&(e=e.setIn(["entities",n.payload.full_name,"settings"],(0,u.fromJS)({base:"",cmd:"",package_path:"",dir:""}))),e.setIn(["entities",n.payload.full_name,"manual"],n.payload.manual);case k:return t.setIn(["entities",n.payload.full_name,"visualEditorRepoAnalysis"],(0,u.fromJS)({data:n.payload.data}));case j:return t.setIn(["entities",n.payload.full_name,"visualEditorRepoAnalysis","loading"],n.payload.loading);case L:return t.setIn(["entities",n.payload.full_name,"visualEditorRepoAnalysis","accessLoading"],n.payload.loading);case M:return t.setIn(["entities",n.payload.full_name,"visualEditorRepoAnalysis","access"],n.payload.access);case F:return t.setIn(["entities",n.payload.full_name,"contentProvisioningStatus"],(0,u.fromJS)(n.payload.status));default:return null}}});function ts(t,n){var e=t.repos.getIn(["pages",n,"ids"]);return e&&e.map(function(n){return tf(t,n)})}function tl(t,n){return t.repos.getIn(["pages",n])}function tf(t,n){return t.repos.getIn(["entities",n])}function td(t){var n=t.repoName,e=t.repoUrl,r=t.branch,i=t.runnableDir,o=void 0===i?"/":i,u=t.gitAccessToken;return(0,_.Nt)(function(t,i,a){return t(Y(n,!0)),a.analyzeRepo(e,r,{runnableDir:o,validateContent:!0,validateAppAccess:!0},u).then(function(e){var r=e.data;return t(V(n,r)),t(H(n,!0)),r}).catch(function(){t(H(n,!1))}).finally(function(){t(Y(n,!1))})},{type:"create-api"})}function tg(t){var n=t.repoName,e=t.repoUrl,r=t.branch,i=t.runnableDir,o=void 0===i?"/":i,u=t.gitAccessToken;return(0,_.Nt)(function(t,i,a){var c=i(),s=tf(c,n),l=(0,h.eC)(c);return"function"==typeof(null==l?void 0:l.getAuthorizedUrl)&&(e=l.getAuthorizedUrl(s.toJS())),t(K(n,!0)),a.analyzeRepo(e,r,{runnableDir:o,validateContent:!0,validateAppAccess:!1},u).then(function(e){var r=e.data;return t(V(n,r)),r}).catch(function(){t(V(n,{}))}).finally(function(){t(K(n,!1))})},{type:"create-api"})}var tp=function(t,n){var e,r;return(null==t?void 0:t.buildStatus)==="build-failed"?"error":(null==t||null==(r=t.deploymentData)||null==(e=r[n])?void 0:e.provisioned)?"complete":"loading"};function tv(t){var n=t.template,e=t.cmsData,r=t.visualEditorRepoAnalysisData,i=t.accountId,o=t.templateRepoId,u=t.frameworkName,a=n.provisionContent;return(0,_.Nt)(function(t,c,s){t(W(o,{status:"loading"}));var l=(0,S.tj)({template:n,cmsData:e,visualEditorRepoAnalysisData:r,accountId:i,frameworkName:u});return s.provisionContent(l).then(function(n){var e=n.data;return w(function(){var n,r;return C(this,function(i){switch(i.label){case 0:t(W(o,{projectId:e.id,status:"loading"})),n=function(){return w(function(){return C(this,function(n){return[2,s.project(e.id).then(function(n){var e,r=n.data;t(W(o,{projectId:r.id,status:tp(r,a),data:null==r||null==(e=r.deploymentData)?void 0:e[a]}))})]})})()},r=0,i.label=1;case 1:i.trys.push([1,6,,7]),i.label=2;case 2:if(!("loading"===tf(c(),o).getIn(["contentProvisioningStatus","status"])&&r<=50))return[3,5];return[4,n()];case 3:return i.sent(),r++,[4,(0,v.c)(1e3)];case 4:return i.sent(),[3,2];case 5:return r>50&&t(W(o,{projectId:e.id,status:"error"})),[3,7];case 6:return i.sent(),t(W(o,{projectId:e.id,status:"error"})),[3,7];case 7:return[2]}})})()}).catch(function(){t(W(o,{status:"error"}))})},{type:"create-api"})}var th=function(t){return w(function(){var n,e,r,i,o,u,a,c,s,l,g,p,v,h,m,y,S,_,b,I,A,w,O,T,R,P,U,D,k,j,L,M,F,J,z;return C(this,function(C){switch(C.label){case 0:n=void 0,C.label=1;case 1:return C.trys.push([1,13,,14]),[4,t.detectPackageManager()];case 2:e=C.sent(),r=!0,i=!1,o=void 0,C.label=3;case 3:C.trys.push([3,8,9,10]),u=((null==e?void 0:e.lockFiles)||[])[Symbol.iterator](),C.label=4;case 4:if(r=(a=u.next()).done)return[3,7];return c=a.value,[4,t.fs.readFile(c)];case 5:if(s=C.sent(),"pnpm-lock.yaml"===c){if((m=null==(h=d.Ay.parse(s))||null==(v=h.importers)||null==(p=v["."])||null==(g=p.dependencies)||null==(l=g["@netlify/sdk"])?void 0:l.version)&&m.endsWith(")"))return n=null==m||null==(y=m.match(/^([\d.]+)/))?void 0:y[1],[3,7];if(m)return n=m,[3,7]}if("package-lock.json"===c){if(!(b=Object.keys((null==(_=JSON.parse(s))?void 0:_.packages)||{}).find(function(t){return t.endsWith("@netlify/sdk")})))return[3,7];if(I=null==(S=_.packages[b])?void 0:S.version)return n=I,[3,7]}if("yarn.lock"===c&&(w=(A=E(s.matchAll(/@netlify\/sdk@[^:]+:\n\s*version\s*"([\d.]+)"/g)).map(function(t){var n=function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e,r,i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o=[],u=!0,a=!1;try{for(i=i.call(t);!(u=(e=i.next()).done)&&(o.push(e.value),o.length!==n);u=!0);}catch(t){a=!0,r=t}finally{try{u||null==i.return||i.return()}finally{if(a)throw r}}return o}}(t,2)||N(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return n[0],n[1]})).length?A.sort(f().rcompare)[0]:void 0))return n=w,[3,7];C.label=6;case 6:return r=!0,[3,4];case 7:return[3,10];case 8:return O=C.sent(),i=!0,o=O,[3,10];case 9:try{r||null==u.return||u.return()}finally{if(i)throw o}return[7];case 10:if(n)return[3,12];return F=JSON.parse,[4,t.fs.readFile("package.json")];case 11:n=(null==(M=F.apply(JSON,[C.sent()]))||null==(P=M.dependencies)||null==(R=P["@netlify/sdk"])||null==(T=R.match(/^([\d.]+)/))?void 0:T[1])||(null==M||null==(k=M.devDependencies)||null==(D=k["@netlify/sdk"])||null==(U=D.match(/^([\d.]+)/))?void 0:U[1]),J=null==M||null==(j=M.dependencies)?void 0:j["@netlify/sdk"],(z=null==(L=f().coerce(J))?void 0:L.version)&&(n=z),C.label=12;case 12:return[3,14];case 13:return C.sent(),[3,14];case 14:return[2,n]}})})()}},53372:(t,n,e)=>{e.d(n,{LG:()=>r.A,Nt:()=>g,gf:()=>h,h_:()=>p,v3:()=>v,x4:()=>f,xS:()=>d});var r=e(85342),i=e(44151),o=e(18740),u=e(27578),a=e(88704),c=e(78028);function s(t,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n}var l=null;function f(t){var n=t.config,e=t.user;return n&&e&&l&&l.token===e.get("access_token")?l:e?l=new o.A(n.set("accessToken",e.get("access_token"))):new o.A(n)}function d(){return new i.A}var g=function(t,n){return function(e,i){var o=(null==(n=null!=n?n:{})?void 0:n.type)==="create-api"?d():f(i());if(!o)return Promise.reject(new r.A("No API"));var u=t(e,i,o);return u&&u.catch&&u.catch(function(t){return(null==t?void 0:t.code)===401&&e((0,a.P_)(t)),s(t,r.A)?Promise.reject(t):Promise.reject(new r.A(t))})}};function p(t){return g(function(n,e,r){return(0,c.zc)(function(i,o,u){return t(n,e,r,u)})(n,e)})}function v(t){var n,e=s(t,r.A)?t:new r.A(t),i=null==e?void 0:e.toString().replace(/^Error:\s?/,"");return""===i?(null==e?void 0:e.message)?e.message:null==e||null==(n=e.error)?void 0:n.message:i}function h(){return f({user:(0,u.d4)(function(t){return t.user}),config:(0,u.d4)(function(t){return t.config})})}},53519:(t,n,e)=>{e.d(n,{eu:()=>a,qK:()=>u});var r=e(53372),i=e(12345),o=(0,i.q)("securityKpis"),u=(0,i.B)("securityKpis",o,{key:"name",handler:function(t,n){var e=n.type,r=n.payload;switch(e){case o.SECURITYKPIS.REQUEST:return t.withMutations(function(t){t.delete("error").set("entities",r.entities).set("isFetching",!0)});case o.SECURITYKPIS.SUCCESS:return t.withMutations(function(t){t.set("entities",r.entities).set("isFetching",!1)});case o.SECURITYKPIS.FAILURE:return t.withMutations(function(t){t.set("entities",r.entities).set("error",r.error).set("isFetching",!1)});default:return null}}});function a(t){return(0,r.Nt)(function(n,e,r){return n(o.securityKpisRequest(t.get("slug"))),r.securityKpis(t.get("slug")).then(function(e){return n(o.securityKpisSuccess(t.get("slug"),e.data,e.pagination))}).catch(function(e){n(o.securityKpisFailure(t.get("slug"),e))})})}},54099:(t,n,e)=>{e.d(n,{ZJ:()=>s,xy:()=>c});var r=e(85342),i=e(17250),o=e(53372),u=e(65900),a=function(t,n){var e=[],r={instance_url:{gitlab_self_hosted:"There is a problem with your instance URL; please review it.",github_enterprise:"There is a problem with your instance URL; please review it."},app_id:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},pem_file:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},client_id:{gitlab_self_hosted:"Your app ID is incorrect; please review it.",github_enterprise:"Your client ID is incorrect; please review it."},client_secret:{gitlab_self_hosted:"Your secret is incorrect; please review it.",github_enterprise:"Your client secret is incorrect; please review it."},webhook_secret:{github_enterprise:"Your webhook secret is incorrect; please review it."}},i=!0,o=!1,u=void 0;try{for(var a,c=Object.keys(t)[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var s=a.value;r[s]&&e.push(r[s][n])}}catch(t){o=!0,u=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return e.length?1===e.length?"**Connection failed.** ".concat(e[0]):`**Connection failed:** 

* `+e.join(`
* `):t},c=function(t,n,e){var c=t.get("id"),s=t.get("slug");return(0,o.Nt)(function(t,o,l){return l.updateSelfHostedGitConfig(c,n,e).then(function(n){n.data,t((0,i.yG)(s)),t((0,u.Zz)({accountSlug:s}))}).catch(function(t){var n=a(t,e);throw new r.A(n)})})},s=function(t,n){var e=t.get("id"),a=t.get("slug");return(0,o.Nt)(function(t,o,c){return c.deleteSelfHostedGitConfig(e,n).then(function(n){n.data,t((0,i.yG)(a)),t((0,u.Zz)({accountSlug:a}))}).catch(function(t){throw new r.A(t)})})}},56020:(t,n,e)=>{e.d(n,{$Z:()=>Z,B7:()=>ti,C:()=>td,Jh:()=>V,Jj:()=>tl,LY:()=>to,N1:()=>tb,OM:()=>G,Rv:()=>tS,U9:()=>$,Y2:()=>x,YP:()=>t_,ZO:()=>Q,_G:()=>tI,cL:()=>X,cT:()=>te,cx:()=>W,dP:()=>tp,eJ:()=>ty,fg:()=>tg,gI:()=>tn,gQ:()=>q,gR:()=>Y,kU:()=>tt,oC:()=>th,os:()=>tv,pY:()=>tA,qy:()=>H,s$:()=>tr,sY:()=>tu,vB:()=>ts,xx:()=>tm,yZ:()=>ta,zS:()=>tf});var r,i=e(44110),o=e(66602),u=e(14989),a=e(58963),c=e(53372),s=e(24204),l=e(46286),f=e(59989),d=e(65900);function g(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function p(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e,r,i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o=[],u=!0,a=!1;try{for(i=i.call(t);!(u=(e=i.next()).done)&&(o.push(e.value),!n||o.length!==n);u=!0);}catch(t){a=!0,r=t}finally{try{u||null==i.return||i.return()}finally{if(a)throw r}}return o}}(t,n)||function(t,n){if(t){if("string"==typeof t)return g(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return g(t,n)}}(t,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v="ANALYTICS_METRIC_SUCCESS",h="ANALYTICS_METRIC_FETCHING_DONE",m="ANALYTICS_METRIC_FETCHING_STARTED",y="pageviews",S="pageviews-summary",_="unique-visitors",b="unique-visitors-summary",I="top-locations",A="top-sources",w="top-pages",E="bandwidth-used",N="bandwidth-used-summary",C="not-found",O="functions-invocations",T="functions-metrics",R="functions-metrics-summary",P="edge-functions-invocations",U="edge-functions-metrics",D="edge-functions-metrics-summary",k={resolution:"day",days:30},j=30,L=(0,o.A)(v,function(t,n,e,r){var i=r.data;return{metric:t,siteId:n.get("id"),period:e,data:i}}),M=(0,o.A)(h,function(t,n){return{metric:t,siteId:n.get("id")}}),F=(0,o.A)(m,function(t,n){return{metric:t,siteId:n.get("id")}}),J=(0,o.A)(v,function(t,n,e,r){var i=r.data;return{metric:t,siteId:n.get("id"),period:e,data:i}}),z=(0,o.A)(h,function(t,n){return{metric:t,siteId:n.get("id")}}),B=(0,o.A)(m,function(t,n){return{metric:t,siteId:n.get("id")}});function G(t){var n=t.config;return r||new a.Ay(n)}function q(t){var n=t.get("id");return(0,c.Nt)(function(e,r,i){return i.enableAnalytics(n).then(function(){return e((0,d.UK)(t.get("name")))}).then(function(t){return e((0,d.Ej)(t))})})}function x(t){var n=t.get("id"),e=t.get("analytics_instance_id");return e?(0,c.Nt)(function(r,i,o){return o.deleteAnalytics(n,e).then(function(){return r((0,d.UK)(t.get("name")))})}):Promise.resolve()}function V(t){return function(n,e){return r=G(e()),t(n,e,r)}}function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=new Date;return"hour"===t?"uniqueVisitors"===r?{from:(0,u.gg)(i,1+e).getTime(),to:(0,u.gg)(i,e).getTime()-36e5,resolution:t,minusOffsetDays:e}:{from:(0,u.gg)(i,1+e).getTime(),to:(0,u.gg)(i,e).getTime(),resolution:t,minusOffsetDays:e}:{from:(0,u.ol)((0,u.gg)(i,n+e)).getTime(),to:e?(0,u.D0)((0,u.gg)(i,e)).getTime():i.getTime(),resolution:t,minusOffsetDays:e}}function Y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;return 7===n?{period:K(t,n,e),periodByRange:K("range",n,e)}:1===n?{period:K(t,24,e,r),periodByRange:K("range",n,e)}:{period:K(t,n,e),periodByRange:K("range",n,e)}}function H(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,e=n.resolution,r=n.days,i=Y(e,r,n.minusOffsetDays),o=i.period,u=i.periodByRange;return j=r,V(function(n,e,r){return Promise.all([n(F(S,t)),n(F(y,t)),r.pageviews(t.get("id"),o).then(function(e){return n(L(y,t,o,e))}),r.pageviews(t.get("id"),u).then(function(e){return n(L(S,t,o,e))})]).then(function(){return n(M(y,t))}).then(function(){return n(M(S,t))})})}function W(t,n){return t.analytics.get("".concat(n.get("id"),"-").concat(y))&&t.analytics.get("".concat(n.get("id"),"-").concat(y)).toJS()}function Q(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,e=n.resolution,r=n.days,i=n.minusOffsetDays,o=Y(e,r,void 0===i?0:i,"uniqueVisitors"),u=o.period,a=o.periodByRange;return j=r,V(function(n,e,r){return Promise.all([n(F(b,t)),n(F(_,t)),r.uniqueVisitors(t.get("id"),u).then(function(e){return n(L(_,t,u,e))}),r.uniqueVisitors(t.get("id"),a).then(function(e){return n(L(b,t,a,e))})]).then(function(){return n(M(_,t))}).then(function(){return n(M(b,t))})})}function Z(t,n){return t.analytics.get("".concat(n.get("id"),"-").concat(_))&&t.analytics.get("".concat(n.get("id"),"-").concat(_)).toJS()}function $(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,e=n.resolution,r=n.days,i=n.minusOffsetDays,o=Y(e,r,void 0===i?0:i).period;return V(function(n,e,r){return n(F(I,t)),r.topLocations(t.get("id"),o).then(function(e){return n(L(I,t,o,e))}).then(function(){return n(M(I,t))})})}function X(t,n){return t.analytics.get("".concat(n.get("id"),"-").concat(I))&&t.analytics.get("".concat(n.get("id"),"-").concat(I)).toJS()}function tt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,e=n.resolution,r=n.days,i=n.minusOffsetDays,o=Y(e,r,void 0===i?0:i).period;return V(function(n,e,r){return n(F(A,t)),r.topSources(t.get("id"),o).then(function(e){return n(L(A,t,o,e))}).then(function(){return n(M(A,t))})})}function tn(t,n){return t.analytics.get("".concat(n.get("id"),"-").concat(A))&&t.analytics.get("".concat(n.get("id"),"-").concat(A)).toJS()}function te(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,e=n.resolution,r=n.days,i=n.minusOffsetDays,o=Y(e,r,void 0===i?0:i).period;return V(function(n,e,r){return n(F(w,t)),r.topPages(t.get("id"),o).then(function(e){return n(L(w,t,o,e))}).then(function(){return n(M(w,t))})})}function tr(t,n){return t.analytics.get("".concat(n.get("id"),"-").concat(w))&&t.analytics.get("".concat(n.get("id"),"-").concat(w)).toJS()}function ti(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,e=n.resolution,r=n.days,i=n.minusOffsetDays,o=Y(e,r,void 0===i?0:i),u=o.period,a=o.periodByRange;return j=r,V(function(n,e,r){return Promise.all([n(F(N,t)),n(F(E,t)),r.bandwidthUsed(t.get("id"),u).then(function(e){return n(L(E,t,u,e))}),r.bandwidthUsed(t.get("id"),a).then(function(e){return n(L(N,t,a,e))})]).then(function(){return n(M(E,t))}).then(function(){return n(M(N,t))})})}function to(t,n){return t.analytics.get("".concat(n.get("id"),"-").concat(E))&&t.analytics.get("".concat(n.get("id"),"-").concat(E)).toJS()}function tu(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,e=n.resolution,r=n.days,i=n.minusOffsetDays,o=Y(e,r,void 0===i?0:i).period;return V(function(n,e,r){return n(F(C,t)),r.notFound(t.get("id"),o).then(function(e){return n(L(C,t,o,e))}).then(function(){return n(M(C,t))})})}function ta(t,n){return t.analytics.get("".concat(n.get("id"),"-").concat(C))&&t.analytics.get("".concat(n.get("id"),"-").concat(C)).toJS()}function tc(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.reduce(function(t,e){return t+(n?e[n]:e[1])},0)}function ts(){return j}function tl(t,n){var e,r=t.analytics.get("".concat(n.get("id"),"-").concat(S))&&t.analytics.get("".concat(n.get("id"),"-").concat(S)).toJS()||{},i=r.data,o=r.status,u=r.timePeriod,a=r.isFetching,c=t.analytics.get("".concat(n.get("id"),"-").concat(b))&&t.analytics.get("".concat(n.get("id"),"-").concat(b)).toJS()||{},s=c.data,l=c.status,f=c.timePeriod,d=c.isFetching,g=t.analytics.get("".concat(n.get("id"),"-").concat(N))&&t.analytics.get("".concat(n.get("id"),"-").concat(N)).toJS()||{},p=g.data,v=g.status,h=g.timePeriod,m=g.isFetching;return{timePeriod:u||f||h,pageviewSummary:{total:i&&tc(i),status:o,isFetching:a},uniqueVisitorSummary:{total:(null==s||null==(e=s[0])?void 0:e[1])||0,status:l,isFetching:d},bandwidthSummary:{total:p&&tc(p,"siteBandwidth"),status:v,isFetching:m}}}var tf=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case m:return t.setIn(["".concat(n.payload.siteId,"-").concat(n.payload.metric),"isFetching"],!0);case v:return t.set("".concat(n.payload.siteId,"-").concat(n.payload.metric),(0,i.fromJS)({data:n.payload.data,timePeriod:{from:n.payload.period.from,to:n.payload.period.to,minusOffsetDays:n.payload.period.minusOffsetDays},status:"current"}));case h:return t.setIn(["".concat(n.payload.siteId,"-").concat(n.payload.metric),"isFetching"],!1);default:return t}};function td(t,n){var e;return(null==(e=t.analytics.get("".concat(n.get("id"),"-").concat(O)))?void 0:e.toJS())||{}}function tg(t,n){var e;return(null==(e=t.analytics.get("".concat(n.get("id"),"-").concat(P)))?void 0:e.toJS())||{}}function tp(t,n){var e;return(null==(e=t.analytics.get("".concat(n.get("id"),"-").concat(T)))?void 0:e.toJS())||{}}function tv(t,n){var e;return(null==(e=t.analytics.get("".concat(n.get("id"),"-").concat(U)))?void 0:e.toJS())||{}}function th(t,n){var e;return(null==(e=t.analytics.get("".concat(n.get("id"),"-").concat(R)))?void 0:e.toJS())||{}}function tm(t,n){var e;return(null==(e=t.analytics.get("".concat(n.get("id"),"-").concat(D)))?void 0:e.toJS())||{}}function ty(t){var n=t.siteName,e=t.branch,r=t.func,i=t.period,o=t.byStatus,a=void 0!==o&&o;return V(function(t,o,c){var l,g,p,v,h,m,y,S,_,b,I,A,w,E,N,C,P,U,D=(0,d.Gd)(o(),n);return e&&(U="branch:".concat(e)),(0,d.lp)(o(),D)||t((0,d.Xz)(D)),(0,f.cq)(o(),D,U)||t((0,f.gK)(D,U)),(0,s.TO)(o(),D,{filter:D.getIn(["build_settings","repo_branch"]),state:"ready"})||t((0,s.C5)(D,{filter:D.getIn(["build_settings","repo_branch"]),state:"ready",from:Math.floor((0,u.gg)(new Date,30).getTime()/1e3)})),t((g=(l={site:D,branch:e,func:r,period:i}).branch,p=l.site,v=l.func,h=l.period,V(function(t,n,e){return t(F(R,p)),e.functionsMetrics({siteId:p.get("id"),from:h.from,to:h.to,branch:g,filter:["sum_duration","count","errors"],resolution:"range",func:v,type:"functions"}).then(function(n){return t(L(R,p,h,n))}).then(function(){return t(M(R,p))})}))),t((y=(m={site:D,branch:e,func:r,period:i,byStatus:a}).site,S=m.branch,b=void 0===(_=m.func)?"":_,I=m.period,w=void 0!==(A=m.byStatus)&&A,V(function(t,n,e){return t(F(O,y)),e.functionsInvocations({siteId:y.get("id"),from:I.from,to:I.to,branch:S,func:b,byStatus:w,type:"functions"}).then(function(n){return t(L(O,y,I,n))}).then(function(){return t(M(O,y))})}))),t((N=(E={site:D,branch:e,period:i}).branch,C=E.site,P=E.period,V(function(t,n,e){return t(F(T,C)),e.functionsMetrics({siteId:C.get("id"),from:P.from,to:P.to,branch:N,filter:["avg_duration","count","errors","name","p_durations"],resolution:"range",type:"functions"}).then(function(n){return t(L(T,C,P,n))}).then(function(){return t(M(T,C))})})))})}function tS(t,n,e){var r=(0,f.cq)(t,n,e);return(null==r?void 0:r.reduce(function(t,n){return t.set(n.get("n"),{displayName:n.get("dn"),systemFunction:n.get("g"),scheduledFunction:n.get("schedule")})},(0,i.Map)()).toJS())||{}}function t_(t,n){var e=(0,l.Vr)(t,n.get("deploy_id"));return(null==e?void 0:e.reduce(function(t,n){return t.set(n.function,{displayName:n.function})},(0,i.Map)()).toJS())||{}}function tb(t){var n=t.siteName,e=t.branch,r=t.func,i=t.period;return V(function(t,o,a){var c,f,g,p,v,h,m,y,S,_,b,I,A,w,E,N,C,O=(0,d.Gd)(o(),n);(0,d.lp)(o(),O)||t((0,d.Xz)(O)),e||(e=O.getIn(["build_settings","repo_branch"]));var T=(0,s.TO)(o(),O,{filter:e,state:"ready"});return T?(0,l.Vr)(o(),null==T||null==(c=T.first())?void 0:c.get("id"))||t((0,l.nb)(null==T||null==(f=T.first())?void 0:f.get("id"))):t((0,s.C5)(O,{filter:e,state:"ready",from:Math.floor((0,u.gg)(new Date,30).getTime()/1e3)})).then(function(n){var e,r,i=(null==n||null==(e=n.payload)?void 0:e.entities[0])&&(null==n||null==(r=n.payload)?void 0:r.entities[0].id),u=(0,l.Vr)(o(),i);!i||u&&u.length||t((0,l.nb)(i))}),t((p=(g={site:O,branch:e,func:r,period:i}).branch,v=g.site,h=g.func,m=g.period,V(function(t,n,e){var r=p===v.getIn(["build_settings","repo_branch"]);return t(B(D,v)),e.functionsMetrics({siteId:v.get("id"),from:m.from,to:m.to,branch:r?void 0:p,filter:["count","errors"],resolution:"range",func:h,type:"edge_functions",context:r?"production":void 0}).then(function(n){return t(J(D,v,m,n))}).then(function(){return t(z(D,v))})}))),t((S=(y={site:O,branch:e,func:r,period:i}).site,_=y.branch,I=void 0===(b=y.func)?"":b,A=y.period,V(function(t,n,e){var r=_===S.getIn(["build_settings","repo_branch"]);return t(B(P,S)),e.functionsInvocations({siteId:S.get("id"),from:A.from,to:A.to,branch:r?void 0:_,func:I,byStatus:!1,type:"edge_functions",context:r?"production":void 0}).then(function(n){t(J(P,S,A,n))}).then(function(){return t(z(P,S))})}))),t((E=(w={site:O,branch:e,period:i}).branch,N=w.site,C=w.period,V(function(t,n,e){var r=E===N.getIn(["build_settings","repo_branch"]);return t(B(U,N)),e.functionsMetrics({siteId:N.get("id"),from:C.from,to:C.to,branch:r?void 0:E,filter:["count","errors","name"],resolution:"range",type:"edge_functions",context:r?"production":void 0}).then(function(n){return t(J(U,N,C,n))}).then(function(){return t(z(U,N))})})))})}function tI(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.entries(t.reduce(function(t,n){var e=n.time,r=n.status,i=n.count;return t[r]?t[r].push([new Date(e).getTime(),i]):t[r]=[[new Date(e).getTime(),i]],t},{})).map(function(t){var n=p(t,2);return{name:n[0],data:n[1]}})}function tA(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.entries(t.reduce(function(t,n){var e=n.time,r=n.values;return Object.keys(r).forEach(function(n){var i,o;t[n]?t[n].push([new Date(e).getTime(),null!=(i=r[n])?i:0]):t[n]=[[new Date(e).getTime(),null!=(o=r[n])?o:0]]}),t},{})).map(function(t){var n=p(t,2);return{name:n[0],data:n[1]}})}},58138:(t,n,e)=>{e.d(n,{x:()=>o});var r=e(12345),i=(0,r.q)("subscriptions"),o=(0,r.B)("subscriptions",i)},58406:(t,n,e)=>{e.d(n,{PX:()=>u,d2:()=>c,nj:()=>a,oq:()=>s});var r=e(53372),i=e(12345),o=(0,i.q)("accountSamls"),u=(0,i.B)("accountSamls",o);function a(t){var n=t.get("id");return(0,r.Nt)(function(t,e,r){return r.samlSettings(n).then(function(e){return t(o.accountSamlSuccess(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}({id:n},e.data)))}).catch(function(e){return t(o.accountSamlFailure(n,e))})})}function c(t,n){return null==t?void 0:t.accountSaml.getIn(["entities",n])}function s(t,n){return(0,r.Nt)(function(e,r,i){return i.updateSamlSettings(null==t?void 0:t.get("id"),n).then(function(){e(a(t))})})}},59260:(t,n,e)=>{e.d(n,{Qu:()=>a,Rx:()=>u,_g:()=>c});var r=e(12345),i=e(53372),o=(0,r.q)("deployCommitters"),u=(0,r.B)("deployCommitters",o,{key:"deployId"});function a(t,n){var e;return null==(e=t.deployCommitters.getIn(["entities",n,"data",0]))?void 0:e.toJS()}function c(t,n){return(0,i.Nt)(function(e,r,u){return u.inviteCommitter(t,n).then(function(t){e(o.inviteCommittersSuccess(t.data))}).catch(function(t){return new i.LG(t)})})}},59868:(t,n,e)=>{e.d(n,{DI:()=>S,ND:()=>v,Nx:()=>g,QK:()=>l,ZD:()=>_,pV:()=>y,sN:()=>h,wi:()=>b}),e(44110);var r=e(66602),i=e(12345),o=e(85342),u=e(53372),a=e(65900),c="https://".concat("list-v2","--netlify-plugins.netlify.app/plugins.json"),s="DEACTIVATED",l="PLUGIN_INSTALL",f=(0,r.A)(l,function(t,n,e){return{pluginName:t,siteName:n,status:e}}),d=(0,i.q)("plugins"),g=(0,i.B)("plugins",d,{key:"package"}),p=function(t){var n,e,r,i=null==(r=t.compatibility)?void 0:r.filter(function(t){return!t.featureFlag});return n=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}({},t),e=e={compatibility:(null==i?void 0:i.length)?i:null},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):(function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e.push.apply(e,r)}return e})(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}),n},v=function(){return function(t){return t(d.pluginsRequest("plugins")),fetch(c).then(function(t){if(!t.ok){var n=t.status,e=t.statusText;throw new o.A({status:n,statusText:e,message:"Error fetching plugins"})}return t.json()}).then(function(n){var e=n.map(p);return t(d.pluginsSuccess("plugins",e))}).catch(function(n){return t(d.pluginsFailure("plugins",n))})}};function h(t,n,e){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var r=e||[];r.push({package:n});var i={plugins:r};return(0,u.Nt)(function(e,r,u){return u.updateSite(t.get("id"),i).then(function(r){e(f(n,t.get("name"),"success")),e(a.o1.siteSuccess(r.data))}).catch(function(r){return e(f(n,t.get("name"),"failure")),Promise.reject(new o.A(r))})})}var m=function(t){return t.get("status")!==s};function y(t){var n=t.plugins.get("entities");return null==n?void 0:n.filter(m)}function S(t){return t.plugins.getIn(["pages","plugins","isFetching"])}function _(t){return t.plugins.getIn(["pages","plugins","error"])}function b(t,n){return t.plugins.get("entities").find(function(t){return t&&t.get("package")===n&&t.get("status")!==s})}},59989:(t,n,e)=>{e.d(n,{Cn:()=>S,V2:()=>I,cq:()=>b,gK:()=>h,mg:()=>w,nv:()=>_,sp:()=>y,tq:()=>m,z1:()=>A});var r=e(44110),i=e(66602),o=e(56020),u=e(53372),a=function(t,n){return[t.get?t.get("id"):t.id,n].join("-")},c="FUNCTIONS_SUCCESS",s="EDGE_FUNCTIONS_ACCOUNT_TIMESERIES_SUCCESS",l="FUNCTIONS_ACCOUNT_TIMESERIES_SUCCESS",f="BACKGROUND_FUNCTIONS_ACCOUNT_TIMESERIES_SUCCESS",d=(0,r.fromJS)({id:"empty",functions:[]}),g=(0,i.A)(c,function(t,n,e){return{siteId:t,scope:n,data:e}}),p=(0,i.A)(l,function(t,n){var e=[],r=[];return n.forEach(function(t){var n=new Date(t.start).setUTCHours(0,0,0,0);e.push([n,t.values.count]),r.push([n,t.values.memory_usage_mb_ms])}),{id:t,counts:{data:{requests:e,compute:r}}}}),v=(0,i.A)(s,function(t,n){var e=[];return n.forEach(function(t){var n=new Date(t.start).setUTCHours(0,0,0,0);e.push([n,t.values.count])}),{id:t,counts:{data:{requests:e}}}});function h(t,n){var e=t.get("id");return(0,u.Nt)(function(t,r,i){return i.functions(e,n).then(function(r){t(g(e,n,r.data))})})}function m(t){var n=t.accountId,e=t.from,r=t.to;return(0,o.Jh)(function(t,i,o){return o.accountFunctionsUsageTimeseries({id:n,from:e,to:r}).then(function(e){t(p(n,e.data))}).catch(function(t){return new u.LG(t)})})}function y(t){var n=t.accountId,e=t.from,r=t.to;return(0,o.Jh)(function(t,i,o){return o.accountEdgeFunctionsUsageTimeseries({id:n,from:e,to:r}).then(function(e){t(v(n,e.data))}).catch(function(t){return new u.LG(t)})})}function S(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case c:var e=n.payload,i=e.siteId,o=e.scope,u=e.data,g=u&&u.id?(0,r.fromJS)(u):d;return t.setIn(["entities",g.get("id")],g).setIn(["pages",i,void 0===o?"default":o],g.get("id"));case l:return t.set(a(n.payload,"functionsAccountTimeseries"),(0,r.fromJS)(n.payload.counts));case s:return t.set(a(n.payload,"edgeFunctionsAccountTimeseries"),(0,r.fromJS)(n.payload.counts));case f:return t.set(a(n.payload,"backgroundFunctionsAccountTimeseries"),(0,r.fromJS)(n.payload.counts));default:return t}}function _(t,n,e){e=e||"default";var r=t.functions.getIn(["pages",n.get("id"),e]);return r&&t.functions.getIn(["entities",r])}function b(t,n,e){var r=_(t,n,e);return r&&r.get("functions").map(function(t){return t.set("c",t.get("c")||r.get("created_at"))})}function I(t,n,e,r){var i=b(t,n,e);return i&&i.find(function(t){return t.get("n")===r})}function A(t,n){var e;return null==(e=t.functions)?void 0:e.get(a({id:n},"functionsAccountTimeseries"))}function w(t,n){var e;return null==(e=t.functions)?void 0:e.get(a({id:n},"edgeFunctionsAccountTimeseries"))}(0,i.A)(f,function(t,n){var e=[],r=[];return n.forEach(function(t){var n=new Date(t.start).setUTCHours(0,0,0,0);e.push([n,t.values.count]),r.push([n,t.values.memory_usage_mb_ms])}),{id:t,counts:{data:{requests:e,compute:r}}}})},60498:(t,n,e)=>{e.d(n,{HD:()=>l,IF:()=>s,LM:()=>c,P9:()=>u,d0:()=>a});var r=e(12345),i=e(53372),o=(0,r.q)("buildHooks"),u=(0,r.B)("buildHooks",o);function a(t){return(0,i.Nt)(function(n,e,r){return r.buildHooks(t.get("id")).then(function(e){return n(o.buildHooksSuccess(t.get("id"),e.data,e.pagination))})})}function c(t,n){return(0,i.Nt)(function(e,r,i){return i.addBuildHook(t.get("id"),{title:n.get("title"),branch:n.get("branch")}).then(function(n){return e(a(t))})})}function s(t,n){return(0,i.Nt)(function(e,r,i){return i.removeBuildHook(t.get("id"),n.get("id")).then(function(n){return e(a(t))})})}function l(t,n){var e=n&&t.buildHooks.getIn(["pages",n.get("id"),"ids"]);return e&&e.map(function(n){var e,r;return e=t,r=n,e.buildHooks.getIn(["entities",r])})}},61939:(t,n,e)=>{e.d(n,{B2:()=>c,LV:()=>l,VI:()=>s,v9:()=>a});var r=e(12345),i=e(53372),o=(0,r.q)("largeMediaAssets"),u=function(t,n){var e=n.filter;return"".concat(t).concat(e?"-".concat(e):"")},a=(0,r.B)("largeMediaAssets",o);function c(t,n){var e=t.get("id"),r=t.get("use_lm");return(0,i.Nt)(function(t,i,a){return r?a.largeMediaAssets(e,n).then(function(r){return t(o.largeMediaAssetsSuccess(u(e,n),r.data,r.pagination))}):Promise.resolve()})}function s(t,n,e){var r=t.largeMediaAssets.getIn(["pages",u(n.get("id"),e),"ids"]);return r&&r.map(function(n){return t.largeMediaAssets.getIn(["entities",n])})}function l(t,n,e){return t.largeMediaAssets.getIn(["pages",u(n.get("id"),e)])}},62261:(t,n,e)=>{e.d(n,{Fw:()=>v,Hg:()=>d,Uk:()=>m,hM:()=>h,ix:()=>y,o4:()=>p,xK:()=>g});var r=e(66602),i=e(12345),o=e(53372),u="DNS_RECORD_CREATED",a="DNS_RECORD_DELETED",c="DNS_RECORDS_CLEAR_PAGES",s=(0,i.q)("dnsRecords"),l=(0,r.A)(u,function(t,n){return{domain:t,id:n}}),f=(0,r.A)(a,function(t,n){return{domain:t,id:n}}),d=(0,r.A)(a,function(t){return{domain:t}}),g=(0,r.A)(c);function p(t){return(0,o.Nt)(function(n,e,r){return r.dnsRecords(t).then(function(e){var r=e.data,i=e.pagination;return n(s.dnsRecordsSuccess(t,r,i))})})}function v(t,n){return(0,o.Nt)(function(e,r,i){return i.createDnsRecord(t.get("name"),n).then(function(n){var r=n.data;e(s.dnsRecordSuccess(r)),e(l(t.get("name"),r.id))})})}function h(t,n){return(0,o.Nt)(function(e,r,i){return i.destroyDnsRecord(t.get("name"),n.get("id")).then(function(r){return e(f(t.get("name"),n.get("id")))})})}var m=(0,i.B)("dnsRecords",s,{handler:function(t,n){switch(n.type){case u:return t.updateIn(["pages",n.payload.domain,"ids"],function(t){return t.push(n.payload.id)});case a:return t.updateIn(["pages",n.payload.domain,"ids"],function(t){return t.filter(function(t){return t!==n.payload.id})}).deleteIn(["entities",n.payload.id]);case"DNS_RECORDS_DELETED":return t.deleteIn(["pages",n.payload.domain]);case c:return t.delete("pages");default:return null}}});function y(t,n){var e=t.dnsRecords.getIn(["pages",n,"ids"]);return e&&e.map(function(n){return t.dnsRecords.getIn(["entities",n])})}},62618:(t,n,e)=>{e.d(n,{p8:()=>u});var r=e(44110),i=e(66602),o="UPLOAD_LOG";function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;if(n.type!==o)return t;var e=n.payload,i=e.deploy_id,u=e.ts,a=e.log,c=t.get(i)||(0,r.List)();return t.setIn([i],c.push((0,r.Map)({ts:u,log:a})))}(0,i.A)(o,function(t,n){return{deploy_id:t,log:n,ts:new Date().getTime()}})},64717:(t,n,e)=>{e.d(n,{C:()=>p,Cm:()=>v,Ic:()=>c,JE:()=>l,UJ:()=>h,X$:()=>y,Xn:()=>g,bG:()=>a,eH:()=>f,gi:()=>s,nm:()=>m});var r=e(53372),i=e(12345),o=e(65900),u=(0,i.q)("accountFirewallRuleSets"),a=(0,i.B)("accountFirewallRuleSets",u,{key:"account_id"});function c(t,n){var e;return!n||null==(e=t.accountFirewallRuleSets.getIn(["entities",n,"isFetching"]))||e}function s(t,n){if(n)return t.accountFirewallRuleSets.getIn(["entities",n,"data"])}function l(t){return(0,r.Nt)(function(n,e,r){return n(u.accountFirewallRuleSetRequest(t)),r.accountFirewallRuleSet(t).then(function(e){n(u.accountFirewallRuleSetSuccess({data:e.data,account_id:t}))}).catch(function(e){(null==e?void 0:e.code)===404&&n(u.accountFirewallRuleSetSuccess({account_id:t,data:void 0}))})})}function f(t,n){return(0,r.Nt)(function(e,r,i){return i.updateAccountFirewallRuleSet(t,n).then(function(){e(l(t))})})}var d=(0,i.q)("siteFirewallRuleSets"),g=(0,i.B)("siteFirewallRuleSets",d,{key:"site_id"});function p(t,n){var e,r=(0,o.Gd)(t,n);return!r||null==(e=t.siteFirewallRuleSets.getIn(["entities",r.get("site_id"),"isFetching"]))||e}function v(t,n){var e=(0,o.Gd)(t,n);if(e)return t.siteFirewallRuleSets.getIn(["entities",e.get("site_id"),"data"])}function h(t){return(0,r.Nt)(function(n,e,r){var i=(0,o.Gd)(e(),t);if(i){var u=i.get("site_id");return n(d.siteFirewallRuleSetRequest(u)),r.siteFirewallRuleSet(u).then(function(t){return n(d.siteFirewallRuleSetSuccess({data:t.data,site_id:u}))}).catch(function(t){if((null==t?void 0:t.code)===404)return n(d.siteFirewallRuleSetSuccess({data:void 0,site_id:u}))})}})}function m(t,n){return(0,r.Nt)(function(e,r,i){var u=(0,o.Gd)(r(),t).get("site_id");return i.updateSiteFirewallRuleSet(u,n).then(function(){e(h(t))})})}function y(t){return(0,r.Nt)(function(n,e,r){var i=(0,o.Gd)(e(),t).get("site_id");return r.deleteSiteFirewallRuleSet(i).then(function(){n(h(t))})})}},65264:(t,n,e)=>{e.d(n,{$e:()=>h,JF:()=>d,K4:()=>v,LG:()=>p,fg:()=>f,mo:()=>g});var r=e(44110),i=e(66602),o=e(76690),u=e(85342),a=e(77596),c=e(88704),s="NOTIFICATIONS_SUCCESS",l=(0,i.A)(s,function(t){return t});function f(){return function(t,n){fetch("/.netlify/builders/notifications").then(function(t){if(!t.ok)throw Error("Error fetching notifications - ".concat(t.status," - ").concat(t.statusText));return t.json().catch(function(n){throw Error("Error parsing notifications JSON - ".concat(t.status))})}).then(function(n){t(l(n))}).catch(function(t){throw new u.A(t.message||t)})}}function d(t){return function(n,e){var r=e(),i=r.accounts,u=r.user,s=t&&t.getIn([0,"updated_at"]);o.m39.appNotificationButtonClicked({accountSlug:i.get("selected"),flagged:new Date(u.getIn(["onboarding_progress","notifications_read_at"]))<new Date(s),notificationNames:t&&t.map(function(t){return(0,a.Yv)(null==t?void 0:t.get("title"))}).toJS()}),n((0,c.JX)("notifications_read_at",s))}}function g(t){return function(n,e){var r=e().accounts;o.m39.appNotificationItemClicked({accountSlug:r.get("selected"),notificationName:(0,a.Yv)(t.get("title"))})}}function p(t){return t.notifications.get("data")}function v(t){var n=(0,c.QR)(t);return n&&n.getIn(["onboarding_progress","notifications_read_at"])}var h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;return n.type===s?t.set("data",(0,r.fromJS)(n.payload)):t}},65900:(t,n,e)=>{e.d(n,{A3:()=>t5,AG:()=>t1,Bu:()=>nr,C0:()=>tX,Ci:()=>tv,Cz:()=>tO,DC:()=>tD,Ej:()=>tE,FT:()=>q,FW:()=>t2,Gd:()=>t7,Jk:()=>tx,Kf:()=>tZ,LN:()=>tY,Nx:()=>ne,PV:()=>ta,Pc:()=>tV,R0:()=>nn,Rj:()=>x,SG:()=>t4,Sq:()=>ts,Tp:()=>tR,UK:()=>tS,W5:()=>t8,WR:()=>tb,X3:()=>tj,Xz:()=>tI,Y3:()=>t$,Zz:()=>tU,_y:()=>t_,c4:()=>V,d0:()=>tQ,d2:()=>tL,eM:()=>tM,fy:()=>t6,hj:()=>tk,iP:()=>nu,ij:()=>K,jy:()=>tq,kT:()=>tH,kX:()=>te,lL:()=>tC,lp:()=>no,m8:()=>t0,n:()=>nt,nD:()=>tT,o1:()=>tn,pL:()=>tG,qX:()=>tN,uU:()=>tW,wA:()=>tK,x_:()=>tF,z1:()=>tw,zK:()=>tA});var r=e(43536),i=e(44110),o=e(67938),u=e.n(o),a=e(66602),c=e(56315),s=e(12345),l=e(70728),f=e(93558),d=e(85342),g=e(29383),p=e(4140),v=e(24760),h=e(47975),m=e(53372),y=e(88704),S=e(24204),_=e(62261),b=e(36175),I=e(3640),A=e(78028),w=e(45780),E=e(53181),N=e(18074),C=e(26460);function O(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function T(t,n,e,r,i,o,u){try{var a=t[o](u),c=a.value}catch(t){e(t);return}a.done?n(c):Promise.resolve(c).then(r,i)}function R(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}function P(t,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e.push.apply(e,r)}return e})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t}function U(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||D(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,n){if(t){if("string"==typeof t)return O(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return O(t,n)}}var k="BRANCHES_SUCCESS",j="BRANCHES_FETCHING_DONE",L="BRANCHES_FETCHING_STARTED",M="DEPLOY_KEY_SUCCESS",F="DNS_ZONE_SUCCESS",J="ALL_DNS_ZONES_SUCCESS",z="SITES_CLEAR_PAGES",B="SNIPPETS_REQUEST",G="SNIPPETS_SUCCESS",q="DEPLOY_DONE",x="DEPLOY_ERROR",V="DIRECT_DEPLOY_LANDING",K="DIRECT_DEPLOY_SUCCESS",Y="SUBSCRIPTION_CANCELED",H="USAGE_RECORDS_SUCCESS",W="USAGE_RECORD_SUCCESS",Q="APP_INSTALL_SUCCESS",Z="SITE_VISUAL_EDITOR_CONTENT_ANALYSIS",$="SITE_VISUAL_EDITOR_CONTENT_ANALYSIS_LOADING",X="SITE_ENABLING_VISUAL_EDITING",tt="DNS_CONFIG_CHECKED",tn=(0,s.q)("sites");(0,a.A)("SITE_CREATED",function(t){return t});var te=(0,a.A)(z);(0,a.A)(B,function(t){return t});var tr=(0,a.A)(G,function(t,n){return{name:t,snippets:n}}),ti=(0,a.A)(L,function(t){return{name:t}}),to=(0,a.A)(k,function(t,n){return{name:t,branches:n}}),tu=(0,a.A)(j,function(t){return{name:t}});(0,a.A)(F,function(t,n){return{name:t,dnsZone:n}});var ta=(0,a.A)(J,function(t,n){return{name:t,dnsZones:n}}),tc=(0,a.A)(M,function(t,n){return{name:t,deployKey:n}});(0,a.A)(q),(0,a.A)(x,function(t){return t});var ts=(0,a.A)(V,function(){}),tl=(0,a.A)(K,function(t){return t});(0,a.A)(Y,function(t){return t});var tf=(0,a.A)(H,function(t,n){return{name:t,records:n}}),td=(0,a.A)(W,function(t,n){return{name:t,record:n}}),tg=(0,a.A)(Q,function(t,n){return{name:t,installationId:n}}),tp=(0,a.A)(tt,function(t,n){return{name:t,dnsVerified:n}}),tv=(0,a.A)(Z,function(t,n){return{name:t,data:n}}),th=(0,a.A)($,function(t,n){return{name:t,loading:n}}),tm=(0,a.A)(X,function(t,n){return{name:t,isEnabling:n}}),ty=(0,i.Map)({isFetching:!0});function tS(t){return(0,m.Nt)(function(n,e,r){return n(tn.siteRequest(t)),r.site(t).then(function(t){return n(tn.siteSuccess(t.data))}).catch(function(e){return n(tn.siteFailure(t,e))}).then(function(n){return t7(e(),t)})})}function t_(t,n){return function(e,r){return fetch("/.netlify/functions/verify?domain=".concat(n)).then(function(t){return t.json().then(function(n){if(!t.ok)throw new d.A(n.error||"Error fetching DNS config");return n})}).then(function(n){var r={glo:"global",global:"global",packet:"packet",pkt:"packet",reg:"regular",regular:"regular"},i=n.results.map(function(t){return t.cdnTier}),o=t.getIn(["capabilities","cdn_tier"]);"custom"===o?e(tp(t.get("name"),"custom")):i.every(function(t){return["global","regular","packet"].includes(t)})&&(i.every(function(t){return t===r[o]})?e(tp(t.get("name"),"success")):e(tp(t.get("name"),"failed")))}).catch(function(t){return console.error("Error while checkDNSconfig:",t)})}}function tb(t){return(0,m.Nt)(function(n,e,r){return r.siteById(t).then(function(t){return n(tn.siteSuccess(t.data))}).catch(function(e){n(tn.siteFailure(t,e))})})}function tI(t){return(0,m.Nt)(function(n,e,r){return n(ti(t.get("name"))),r.branches(t.get("id")).then(function(r){return n(to(t.get("name"),r.data)),ni(e(),t.get("name"))}).catch(function(r){return r&&401===r.code?(n(to(t.get("name"),[])),ni(e(),t.get("name"))):Promise.reject(r)}).finally(function(){n(tu(t.get("name")))})})}function tA(t,n){var e=n.get("dns_zone");return null==e?void 0:e.set("records",(0,_.ix)(t,e.get("name")))}function tw(t,n){var e=n.get("dns_zones");if(!e)return(0,i.fromJS)({});var r=e.toJS();return Object.keys(r).forEach(function(n){r[n].records=(0,_.ix)(t,r[n].name)}),(0,i.fromJS)(r)}function tE(t){return(0,m.Nt)(function(n,e,r){return r.siteUsage(t.get("id")).then(function(e){return n(tf(t.get("name"),e.data))})})}function tN(t,n){var e=n.id,r=n.plan;return(0,m.Nt)(function(n,i,o){return o.changeAddonPlan(e,r,t.get("id")).then(function(e){return n(td(t.get("name"),e.data))})})}function tC(t){return(0,m.Nt)(function(n,e,r){return r.siteSnippets(t.get("id")).then(function(e){return n(tr(t.get("name"),e.data))})})}function tO(t,n){return(0,m.Nt)(function(e,r,i){return i.siteSnippetRemove(t.get("id"),n.get("id")).then(function(n){return e(tC(t))})})}function tT(t,n){return(0,m.Nt)(function(e,r,i){return i.siteSnippetAdd(t.get("id"),n).then(function(n){return e(tC(t))})})}function tR(t){return(0,m.Nt)(function(n,e,r){var i=t7(e(),t);if(!(!i||i.get("screenshot_fetching")||i.get("isFetching"))){n(tn.siteSuccess({name:t,screenshot_fetching:!0}));var o=0,u=function(){return o++,new Promise(function(e,i){r.site(t).then(function(t){t.data.screenshot_url?e(n(tn.siteSuccess(t.data))):o<=5&&setTimeout(u,1e3)})})};return u()}})}function tP(t){var n=t.accountSlug,e=t.creator,r=t.labelIds,i=t.orderBy,o=t.searchTerm,u=t.sortBy,a=t.visibility,c=JSON.stringify({accountSlug:n,creator:e,labelIds:null==r?void 0:r.join("-"),orderBy:i,searchTerm:o,sortBy:u,visibility:a});return"sites-".concat(c)}function tU(t){var n=tP(t);return(0,m.Nt)(function(e,r,i){return e(tn.sitesRequest(n)),i.sites(t).then(function(t){return e(tn.sitesSuccess(n,t.data,t.pagination))}).then(function(t){var n=t.payload.entities.map(function(t){var n;return null==(n=t.primary_create_project)?void 0:n.create_project_id}).filter(Boolean);n.length&&e((0,w.RT)(n))}).catch(function(n){e(tn.sitesFailure(t,n))})})}function tD(t){return(0,m.Nt)(function(n,e,r){return r.site(t.get("id")).then(function(t){n(te()),n(tn.siteSuccess(t.data))})})}function tk(t,n){var e=t.get("name");return(0,m.Nt)(function(i,o,u){return u.updateSite(t.get("id"),n).then(function(n){if(i(te()),i(tn.siteSuccess(n.data)),n.data.name!==e){var u=window.location.pathname.replace((0,r.l2)(t.toJS()),(0,r.l2)(n.data));i((0,C.d9)(u))}return t7(o(),e)}).catch(function(t){var n,e;if((null==(n=t.errors)?void 0:n.branch_deploy_custom_domain)||(null==(e=t.errors)?void 0:e.deploy_preview_custom_domain)){var r=(0,v.o3)(t.errors);if(r)throw new d.A(r)}if("string"==typeof t.errors)throw new d.A({message:t.errors});throw t})})}function tj(t){return(0,m.Nt)(function(n,e,r){return r.unlinkSiteRepository(t).then(function(t){return n(te()),n(tn.siteSuccess(t.data))})})}function tL(t){return(0,m.Nt)(function(n,e,r){return r.enableSite(t.get("id")).then(function(){return n(tb(t.get("id")))})})}function tM(t){return(0,m.Nt)(function(n,e,r){return r.disableSite(t.get("id"),v.uw).then(function(){return n(tb(t.get("id")))})})}function tF(t){return(0,m.Nt)(function(n,e,r){return r.deleteSite(t.get("id")).then(function(t){n(te()),n((0,c.VC)("/"))})})}function tJ(t){return(0,m.Nt)(function(n,e,r){return(0,A.zc)(function(i,o,u){return t(n,e,r,u)})(n,e)})}var tz=function(t){var n,e=null==(n=t.getIn(["settings","plugins"]))?void 0:n.toJS();return(null==e?void 0:e.length)?e:[]},tB=function(t){return p.zG[t]!==p.zG.azure_devops&&p.zG[t]!==p.zG.gitlab&&p.zG[t]!==p.zG.gitlab_self_hosted};function tG(t){var n=t.site,e=t.repo,r=t.settings,i=t.createdVia,o=void 0===i?"":i,u=r.visualEditorSettings,a=r.env,c=r.account_slug,s=function(t,n){if(null==t)return{};var e,r,i=function(t,n){if(null==t)return{};var e,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e=o[r],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)e=o[r],!(n.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}(r,["visualEditorSettings","env","account_slug"]),l=e.get("api_id"),g=e.get("full_name"),v=e.get("full_name_encoded"),_=e.get("private"),b=e.get("installation_id"),I=e.get("owner_type"),A=e.get("project_id"),N=e.get("organization_name");return tJ(function(t,i,C,O){var T=O.provider===p.zG.github_app?p.zG.github:O.provider,U=i().git,D=p.zG[T]===p.zG.azure_devops,k=p.zG[T]===p.zG.gitlab||p.zG[T]===p.zG.gitlab_self_hosted,j=p.zG[T]===p.zG.bitbucket||p.zG[T]===p.zG.bitbucket_self_hosted,L=tB(T),M=R({provider:T,installation_id:b,id:e.get("id"),owner_type:I,repo:v||g,private:_},s,D&&{azure_refresh_token:U.get("refreshAccessToken")},k&&{gitlab_refresh_token:U.get("refreshAccessToken")},j&&{bitbucket_refresh_token:U.get("refreshAccessToken")}),F=!n,J=n?function(t){return C.updateSite(n.get("id"),t)}:function(t){return C.createSite(P(R({account_slug:c,name:r.siteName||void 0,env:a},t),{created_via:o}))};t((0,E.ah)(g));var z=b||D?Promise.resolve():C.createDeployKey().then(function(t){return O.addDeployKey(l,t.data,!0,e.get("organization_name"))}).catch(function(t){var n,e=null==O||null==(n=O.checkErrorForInvalidToken)?void 0:n.call(O,t);if(e)throw new d.A(e);throw new d.A("We couldn’t set up continuous deployment for this repository. This typically happens when you don’t have admin rights to the repository.")}),B=b?{}:{access_token:O.token};return z.then(function(t){return J(P(R({repo:P(R({},M),{deploy_key_id:t&&t.id})},L&&{default_hooks_data:B}),{plugins:tz(e)}))}).then(function(t){return O.addWebhook({api_id:l,site:t.data,organization_name:N,project_id:A})}).then(function(n){return C.deploys(n.id,{page:1,per_page:1}).then(function(r){if(t((0,y.JX)()),t((0,E.Ej)(g)),t(te()),t(tn.siteSuccess(n)),t(S.o1.deploysSuccess(n.id,r.data,[])),null==u?void 0:u.enabled)if(F){var i,o,c,l,p,v,_,b;t((o=(i={site:n,environmentVariables:a,settings:R({visualEditorSettings:u},s),repo:e,gitAccessToken:B.access_token,legacyContentSources:u.contentSources}).site,c=i.environmentVariables,l=i.settings,p=i.repo,v=i.gitAccessToken,_=i.legacyContentSources,b=(0,h.X2)({repo:p.toJS(),formSettings:l,site:o,gitAccessToken:v,environmentVariables:c,frameworkName:l.framework,legacyContentSources:_}),(0,m.Nt)(function(t,n,e){var r;return t(tm(o.name,!0)),e.updateSite(o.id,{visual_editor_settings:b,visual_editor_active:!0,visual_editor_container_type:null!=(r=l.visualEditorSettings.containerType)?r:"sharedContainer"}).then(function(n){var e=n.data;t(tn.siteSuccess(e)),t((0,w.KQ)(o.id,5e3))}).catch(function(t){return new d.A(t)}).finally(function(){t(tm(o.name,!1))})})))}else{var I,A=u.containerType;t(tq({site:n,cms:"devServer"===A?void 0:u.cms,legacyContentSources:u.contentSources,workingBranch:u.previewBranch||f.fc,repoAccessToken:u.repoInfo.selectedRepoAccessToken,environmentVariables:"devServer"===A?void 0:a,container:A,repoAnalysis:null==(I=e.get("visualEditorRepoAnalysis"))?void 0:I.toJS()}))}return{site:n,deploy:r.data[0]}})})})}function tq(t){var n=t.site,e=t.workingBranch,r=t.env,i=t.environmentVariables,o=void 0===i?[]:i,u=t.cms,a=t.repoAccessToken,c=t.frameworkName,s=t.legacyContentSources,l=t.container,f=void 0===l?"sharedContainer":l,d=t.generateProjectIdToken,g=t.repoAnalysis;return(0,m.Nt)(function(t,i,l){t(tm(n.name,!0));var p,v,m=i(),y=(0,I.ck)(m,n.id),S=null!=g?g:null==(v=t7(m,n.name).get("visualEditorRepoAnalysis"))?void 0:v.toJS(),_=(p=n.build_settings.repo_path.split("/"),function(t){if(Array.isArray(t))return t}(p)||function(t,n){var e,r,i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o=[],u=!0,a=!1;try{for(i=i.call(t);!(u=(e=i.next()).done)&&(o.push(e.value),o.length!==n);u=!0);}catch(t){a=!0,r=t}finally{try{u||null==i.return||i.return()}finally{if(a)throw r}}return o}}(p,2)||D(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=_[0],A=_[1],E=(0,h.X2)({site:n,legacyContentSources:s,repo:{name:A,owner:b,repo_url:n.build_settings.repo_url,visualEditorRepoAnalysis:S},formSettings:{base:n.build_settings.base,branch:n.build_settings.repo_branch,env:r,visualEditorSettings:{enabled:!0,previewBranch:e,containerType:f,repoInfo:{selectedBranch:n.build_settings.repo_branch,selectedRepoAccessToken:a,selectedRepoUrl:n.build_settings.repo_url}}},environmentVariables:U(y).concat(U(o)),cms:u,frameworkName:c,generateProjectIdToken:d});return l.updateSite(n.id,{visual_editor_settings:E,visual_editor_active:!0,visual_editor_container_type:f}).then(function(e){var r=e.data;t(tn.siteSuccess(r)),t((0,w.KQ)(n.id,5e3))}).finally(function(){t(tm(n.name,!1))})})}function tx(t){var n=t.site,e=t.container,r=t.branch,i=t.baseDir,o=(0,h.YJ)({baseDir:i});return(0,m.Nt)(function(t,i,u){return t((0,w.u7)(n.id)),u.updateSite(n.id,{visual_editor_container_type:e,visual_editor_branch:r,visual_editor_settings:o}).then(function(e){var r=e.data;t(tn.siteSuccess(r)),t((0,w.KQ)(n.id,5e3))})})}function tV(t){var n={};return t.forEach(function(t){n[t.path]=t.sha}),n}function tK(t,n,e,r){var i,o,a=(i=n.required,o={},i.forEach(function(t){o[t]=!0}),o),c=u()(5);return Promise.all(e.map(function(e){return a[e.sha]&&c(function(){return t.uploadFile(n.deploy_id||n.id,e.path,e.content,r)})}).filter(Boolean))}function tY(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.get("id"),o=t.get("name"),u=tV(n);return(0,m.Nt)(function(a,s,l){return l.createDeploy(i,{files:u}).then(function(t){var n=t.data;return a(S.o1.deploysSuccess(i,[n])),(0,g.AP)("dropSiteName",o),(0,g.AP)("dropDeployId",null==n?void 0:n.id),n}).then(function(t){return tK(l,t,n).then(function(){return l.waitForDeploy(t.id)}).then(function(t){return t.data})}).then(function(n){return l.site(o).then(function(t){a(te()),a(tn.siteSuccess(t.data)),a(S.o1.deploysSuccess(i,[n]))}).then(function(i){if(e)a(tR(t.get("name"))),a((0,c.VC)("/drop/".concat(t.get("name"))));else{var o=(null==n?void 0:n.id)?(0,r.JA)(t.toJS(),n):(0,r.l2)(t.toJS());a((0,c.VC)(o)),(0,b.Hw)()}return i})})})}function tH(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,m.Nt)(function(e,r,i){return i.createSite({account_slug:t,created_via:n}).then(function(t){var n=t.data;return e(tn.siteSuccess(n)),t7(r(),n.name)})})}function tW(){return(0,m.Nt)(function(t,n,e){return e.createDeployKey().then(function(t){return t.data}).catch(function(t){throw new d.A("Error generating a new deploy key.",t)})})}function tQ(t,n){return(0,m.Nt)(function(e,r,i){return i.getDeployKey(t).then(function(t){return e(tc(n.get("name"),t.data))}).catch(function(t){throw new d.A("Error getting the deploy key.",t)})})}function tZ(t,n){return(0,m.Nt)(function(e,r,i){if(n)return i.updateSiteCover(t.get("id"),n).then(function(){return e(tS(t.get("id")))}).catch(function(t){return new d.A(t)})})}function t$(t){return(0,m.Nt)(function(n,e,r){return r.deleteSiteCover(t.get("id")).then(function(){return n(tS(t.get("id")))}).catch(function(t){return new d.A(t)})})}function tX(t,n){var e=n.get("name");return t.sites.getIn(["entities",e]).get("deploy_key")||null}function t0(t){var n=t.accountSlug,e=t.repo,o=t.newRepoName,u=t.stack,a=t.isRepoPrivate,c=t.createdVia,s=void 0===c?"":c,f=t.siteName,d=void 0===f?"":f,g=t.visualEditor,p=t.createProjectId,v=t.usageUrl,h=t.requiredExtensions,m=e.get("default_branch"),y={path:e.get("full_name"),slug:e.get("full_name").replace(/\//,"-"),authorized_url:"https://".concat(e.get("provider"),".com/").concat(e.get("full_name")),create_from_path:e.get("create_from_path"),branch:m,supports_visual_editor:g,usage_url:v,required_extensions:h,created_from_git_host:e.get("provider"),created_from_slug:e.get("full_name")},S=e.get("settings").toJS(),_=S.env;delete S.env;var b={name:o,private:void 0!==a&&a};return tJ(function(t,a,c,f){t((0,E.ah)(o));var g=tB(f.provider);return c.createTemplate(y).then(function(t){return t.data}).then(function(o){return f.createRepo(b).then(function(a){return c.createDeployKey().then(function(t){return t.data}).then(function(t){return f.addDeployKey(a.full_name,t,!1,e.get("organization_name"))}).then(function(t){return c.createSite(P(R({account_slug:n,name:d,no_initial_build:!0,template_id:o.id,env:(0,l.Ab)(_),repo:P(R({provider:f.provider,branch:m,id:a.id,repo:a.full_name,deploy_key_id:t.id},S),{private:a.private})},g&&{default_hooks_data:{access_token:f.token}}),{plugins:tz(e),created_via:s,create_project_id:p})).then(function(t){return t.data})}).then(function(t){return f.addWebhook({api_id:a.api_id,site:t,organization_name:e.get("organization_name")})}).then(function(t){return t3(t,e.getIn(["settings","template","incoming-hooks"])||[],c)}).then(function(n){return t((0,N.r9)((0,i.fromJS)(n),u)).then(function(t){return n})}).then(function(t){return c.triggerDeploy(t.id,!1,o.id).then(function(n){return{site:t,build:n}})}).then(function(n){var e,i=n.site,o=n.build;t((0,E.Ej)(a.full_name)),t(tl(i)),t(tS(i.name));var u=(0,r.l2)(i);(null==o||null==(e=o.data)?void 0:e.deploy_id)&&(u=(0,r.JA)(i,{id:o.data.deploy_id})),t((0,C.d9)(u))})})})})}function t1(t){var n=t.accountSlug,e=t.repo,o=t.newRepoName,u=t.stack,a=t.accountId,c=t.integrationInfo,s=t.isRepoPrivate,f=e.get("default_branch"),g={path:e.get("full_name"),slug:e.get("full_name").replace(/\//,"-"),authorized_url:"https://".concat(e.get("provider"),".com/").concat(e.get("full_name")),branch:f},p=e.get("settings").toJS(),v=p.env;delete p.env;var h={name:o,private:void 0!==s&&s};return tJ(function(t,s,m,y){t((0,E.ah)(o));var S=tB(y.provider);return m.createTemplate(g).then(function(t){return t.data}).then(function(o){return y.createRepo(h).then(function(s){return m.createDeployKey().then(function(t){return t.data}).then(function(t){return y.addDeployKey(s.full_name,t,!1,e.get("organization_name"))}).then(function(t){return m.createSite(P(R({account_slug:n,no_initial_build:!0,template_id:o.id,env:(0,l.Ab)(v),repo:P(R({provider:y.provider,branch:f,id:s.id,repo:s.full_name,deploy_key_id:t.id},p),{private:s.private})},S&&{default_hooks_data:{access_token:y.token}}),{plugins:tz(e),created_via:"integration-template"})).then(function(t){return t.data})}).then(function(t){return y.addWebhook({api_id:s.api_id,site:t,organization_name:e.get("organization_name")})}).then(function(t){return t3(t,e.getIn(["settings","template","incoming-hooks"])||[],m)}).then(function(n){return t((0,N.r9)((0,i.fromJS)(n),u)).then(function(t){return n})}).then(function(t){var n;return(n=function(){return function(t,n){var e,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var s=[a,c];if(e)throw TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(o=0)),o;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(n){switch(n.label){case 0:return[4,fetch("/.netlify/functions/private-integration-create?teamId=".concat(a),{method:"POST",body:JSON.stringify({scopes:c.scopes,visibility:"private",name:c.name,slug:c.slug,slugPrefix:c.slugPrefix,description:c.description,hostSiteId:t.id,integrationLevel:c.level})})];case 1:if(!n.sent().ok)throw new d.A("Failed to create integration");return[2,t]}})},function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function u(t){T(o,r,i,u,a,"next",t)}function a(t){T(o,r,i,u,a,"throw",t)}u(void 0)})})()}).then(function(t){return m.triggerDeploy(t.id,!1,o.id).then(function(n){return{site:t,build:n}})}).then(function(n){var e,i=n.site,o=n.build;t((0,E.Ej)(s.full_name)),t(tl(i)),t(tS(i.name));var u=(0,r.l2)(i);(null==o||null==(e=o.data)?void 0:e.deploy_id)&&(u=(0,r.JA)(i,{id:o.data.deploy_id})+"?integrationSlug=".concat(c.slug,"&integrationSlugPrefix=").concat(c.slugPrefix)),t((0,C.d9)(u))})})})})}function t2(t,n){return(0,m.Nt)(function(e,r,i){return e(tn.siteRequest(t.get("name"))),i.transferSite(t.get("id"),n.get("id")).then(function(t){return e(te()),e(tn.siteSuccess(t.data))})})}function t3(t,n,e){return n.map(function(n){return e.addBuildHook(t.id,{title:n})}),t}function t4(t,n){return function(e,r){return e(tg(t.get("name"),n))}}function t5(t,n){var e=n.repoUrl,r=n.runnableDir,i=n.branch,o=t.get("name");return(0,m.Nt)(function(n,u,a){return n(th(o,!0)),a.analyzeSiteRepoContentForVisualEditing(t.get("id"),{repoUrl:e,runnableDir:r,branch:i}).then(function(t){var e=t.data;return n(tv(o,e)),e}).catch(function(){n(tv(o,{}))}).finally(function(){n(th(o,!1))})})}var t6=(0,s.B)("sites",tn,{key:"name",handler:function(t,n){switch(n.type){case z:return t.delete("pages");case B:return t.setIn(["entities",n.payload,"snippets","isFetching"],!0);case G:return t.setIn(["entities",n.payload.name,"snippets"],(0,i.fromJS)(n.payload.snippets));case L:return t.setIn(["entities",n.payload.name,"isFetchingBranches"],!0);case k:return t.setIn(["entities",n.payload.name,"branches"],(0,i.fromJS)(n.payload.branches));case j:return t.setIn(["entities",n.payload.name,"isFetchingBranches"],!1);case M:return t.setIn(["entities",n.payload.name,"deploy_key"],n.payload.deployKey.public_key);case F:return t.setIn(["entities",n.payload.name,"dns_zone"],(0,i.fromJS)(n.payload.dnsZone));case J:return t.setIn(["entities",n.payload.name,"dns_zones"],(0,i.fromJS)(n.payload.dnsZones));case Y:return t.deleteIn(["entities",n.payload.getIn(["site","name"]),"paid_individual_site_subscription"]);case H:return t.setIn(["entities",n.payload.name,"plans"],(0,i.fromJS)(n.payload.records).reduce(function(t,n){return t.set(n.get("type"),n)},(0,i.Map)()));case W:return t.updateIn(["entities",n.payload.name],function(t){return t.setIn(["plans",n.payload.record.type],(0,i.fromJS)(n.payload.record))});case tt:return t.updateIn(["entities",n.payload.name],function(t){return t.set("dnsVerified",n.payload.dnsVerified)});case Q:return t.setIn(["entities",n.payload.name,"build_settings","installation_id"],n.payload.installationId);case $:return t.setIn(["entities",n.payload.name,"visualEditorRepoAnalysis","loading"],n.payload.loading);case Z:return t.setIn(["entities",n.payload.name,"visualEditorRepoAnalysis","data"],(0,i.fromJS)(n.payload.data));case X:return t.setIn(["entities",n.payload.name,"enablingVisualEditing"],n.payload.isEnabling);default:return null}}});function t7(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.sites.getIn(["entities",n]);return r?r&&r.get&&r.get("id")?r:e?r.get&&r||ty.set("name",n):null:null}function t8(t,n){return t.sites.get("entities").find(function(t){return t.get("id")===n})}function t9(t,n){var e=Number(n.page)||1,r=t.sites.getIn(["pages",tP(n)]),i=(null==r?void 0:r.get("current"))||1;return(null==r?void 0:r.get("isFetching"))||i!==e?null:r}function nt(t,n){var e=t9(t,n);return null==e?void 0:e.get("ids").map(function(n){return t7(t,n)})}function nn(t,n){var e;return null==(e=t.sites)?void 0:e.getIn(["pages",tP(n),"isFetching"])}function ne(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t9(t,n)}function nr(t){return t&&t.get("isFetchingBranches")}function ni(t,n){var e;return null==(e=t7(t,n))?void 0:e.get("branches")}function no(t,n){var e=n&&n.get("branches"),r=n.getIn(["build_settings","repo_branch"]),i=e&&e.map(function(t){return t.get("name")}).filter(function(t){return t!==r});return i&&i.unshift(r)}var nu=function(t){return function(n){return n(tn.siteSuccess(t))}}},65915:(t,n,e)=>{e.d(n,{Dm:()=>a,Kq:()=>i,h4:()=>o,sx:()=>u});var r=e(66602),i="TRACK",o="IDENTIFY",u=(0,r.A)(i,function(t){return t});(0,r.A)(o,function(t){return t});var a=(0,r.A)("PAGE",function(){return{}})},66030:(t,n,e)=>{e.d(n,{$H:()=>d,Ih:()=>s,MC:()=>l,Yb:()=>g,_V:()=>f});var r=e(44110),i=e(66602),o=e(53372),u=e(65900),a="CERTIFICATE_SUCCESS",c=(0,i.A)(a,function(t,n){return{siteId:t,certificate:n}});function s(t){return(0,o.Nt)(function(n,e,r){var i=t.get("id");return r.certificate(i).then(function(t){return n(c(i,t.data))})})}function l(t,n,e){return(0,o.Nt)(function(r,i,o){var a=t.get("id");return n.force_ssl?r((0,u.hj)(t,n)):o.updateSsl(a,n,e).then(function(n){var i=n.data;return i&&r(c(a,i)),(!i||e)&&setTimeout(function(n){return r(s(t))},3e4),r((0,u.UK)(t.get("name")))})})}function f(t){var n=t.get("id");return(0,o.Nt)(function(t,e,i){return i.verifySsl(n).then(function(t){return(0,r.fromJS)(t.data)})})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;return n.type===a?t.set(n.payload.siteId,(0,r.fromJS)(n.payload.certificate)):t}function g(t,n){return n.get("ssl")&&t.certificates.get(n.get("id"))}},66304:(t,n,e)=>{e.d(n,{$_:()=>c,TU:()=>u,X_:()=>s,zs:()=>l});var r=e(12345),i=e(53372),o=(0,r.q)("teamAudits"),u=(0,r.B)("teamAudits",o);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{accountId:"",accountSlug:""};return[null==t?void 0:t.accountSlug].join("-")}function c(t,n){var e=t.teamAudit.getIn(["pages",a(n),"ids"]);return e&&e.map(function(n){return t.teamAudit.getIn(["entities",n])})}function s(t,n){return t.teamAudit.getIn(["pages",a(n)])}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{accountId:"",accountSlug:""};return(0,i.Nt)(function(n,e,r){return r.teamAudit(t).then(function(e){n(o.teamAuditsSuccess(a(t),e.data,e.pagination))})})}},67482:(t,n,e)=>{e.d(n,{O_:()=>f,Pd:()=>s,TK:()=>l,_J:()=>d,vd:()=>a,xC:()=>c});var r=e(12345),i=e(76690),o=e(53372),u=(0,r.q)("accountCommitters"),a=(0,r.B)("accountCommitters",u);function c(t,n){var e=t.accountCommitters.getIn(["pages",n,"ids"]);return null==e?void 0:e.map(function(n){return t.accountCommitters.getIn(["entities",n])})}function s(t){return(0,o.Nt)(function(n,e,r){return r.accountCommitters(t.get("id"),{}).then(function(e){n(u.accountCommittersSuccess(t.get("slug"),e.data))})})}function l(t,n,e){return(0,o.Nt)(function(r,i,o){return o.createCommitter(t.get("id"),n,e).then(function(n){r(s(t))})})}function f(t){var n=t.userId,e=t.account,r=t.committerId,u=t.memberId,a=t.inviteId;return(0,o.Nt)(function(t,o,c){return c.updateCommitter(e.get("id"),r,u,a).then(function(o){i.m39.appCommitterMerged({accountId:e.get("id")||"",committerId:r,memberId:u,type:u?"merge":"unmerge",userId:n}),t(s(e))})})}function d(t,n){return(0,o.Nt)(function(e,r,i){return i.deleteCommitter(t.get("id"),n).then(function(n){e(s(t))})})}},70120:(t,n,e)=>{e.d(n,{DA:()=>w,D_:()=>m,FU:()=>h,G:()=>T,HM:()=>A,Lx:()=>C,RD:()=>y,Ut:()=>N,XD:()=>b,YM:()=>U,Yn:()=>S,fr:()=>_,go:()=>E,hA:()=>R,jn:()=>D,m4:()=>O,xB:()=>P});var r=e(44110),i=e(66602),o=e(56315),u=e(12345),a=e(23015),c=e(53372),s=e(65900),l="IDENTITY_CREATED",f="IDENTITY_SUCCESS",d=(0,u.q)("identityUsers"),g=(0,i.A)(l,function(t,n){return{siteId:t,data:n}}),p=(0,i.A)(f,function(t,n){return{siteId:t,data:n}}),v=function(t,n){var e=n.filter;return"".concat(t).concat(e?"-".concat(e):"")},h=(0,u.B)("identityUsers",d);function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case l:case f:return t.set(n.payload.siteId,(0,r.fromJS)(n.payload.data));default:return t}}function y(t,n){return t.identity.get(n.get("id"))}function S(t,n){return t.identityUsers.getIn(["entities",n])}function _(t,n,e){var r=t.identityUsers.getIn(["pages",v(n.get("id"),e),"ids"]);return r&&r.map(function(n){return S(t,n)})}function b(t,n,e){return t.identityUsers.getIn(["pages",v(n.get("id"),e)])}function I(t,n,e){var r=y(e(),t);return r?Promise.resolve(r):n(A(t)).then(function(){return y(e(),t)})}function A(t){var n=t.get("id"),e=t.get("identity_instance_id");return(0,c.Nt)(function(t,r,i){return e?i.identity(n,e).then(function(e){return t(p(n,e.data))}):Promise.resolve()})}function w(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.get("id");return(0,c.Nt)(function(r,i,o){return o.createIdentity(e,n).then(function(t){return r(g(e,t.data))}).then(function(){return r((0,s.UK)(t.get("name")))}).then(function(t){return r((0,s.Ej)(t))})})}function E(t,n){var e=t.get("id"),r=t.get("identity_instance_id");return(0,c.Nt)(function(i,o,u){return r?u.updateIdentity(e,r,n).then(function(){return i(A(t))}):Promise.reject({code:404})})}function N(t){var n=t.get("id"),e=t.get("identity_instance_id");return(0,c.Nt)(function(r,i,o){return e?o.deleteIdentity(n,e).then(function(){return r((0,s.UK)(t.get("name")))}):Promise.resolve()})}function C(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.get("id"),r=t.get("identity_instance_id");return(0,c.Nt)(function(t,i,o){return r?o.identityUsers(e,r,n).then(function(r){return t(d.identityUsersSuccess(v(e,n),r.data,r.pagination))}).catch(function(r){return 404===r.code?t(d.identityUsersSuccess(v(e,n),[],{})):Promise.reject(r)}):Promise.resolve()})}function O(t,n){var e=t.get("id"),r=t.get("identity_instance_id");return(0,c.Nt)(function(i,o,u){return r?I(t,i,o).then(function(){return u.identityUser(e,r,n).then(function(t){return i(d.identityUserSuccess(t.data))})}):Promise.reject({code:404})})}function T(t,n){var e=t.get("id"),r=t.get("identity_instance_id");return(0,c.Nt)(function(i,o,u){return u.createIdentityUser(e,r,n).then(function(n){return i(C(t))})})}function R(t,n,e){var i=t.get("id"),o=t.get("identity_instance_id"),u=n.get("id");return(0,c.Nt)(function(n,a,s){var l,f,d;return n((l=t,d=(f=e)&&f.app_metadata&&f.app_metadata.roles,(0,c.Nt)(function(t,n,e){return d&&d.length?I(l,t,n).then(function(n){if(n){var e=(0,r.Set)(n.getIn(["external_attributes","roles"])),i=e.merge(d);i.size>e.size&&t(E(l,{external_attributes:{roles:i}}))}}):Promise.resolve()}))),s.updateIdentityUser(i,o,u,e).then(function(){return n(O(t,u))})})}function P(t,n){var e=t.get("id"),r=t.get("identity_instance_id"),i=n.get("id");return(0,c.Nt)(function(n,u,c){return c.deleteIdentityUser(e,r,i).then(function(){return n(C(t))}).then(function(){return n((0,o.VC)((0,a.l2)(t,"identity")))})})}function U(t,n){var e=t.get("id"),r=t.get("identity_instance_id"),i=n.get("id");return(0,c.Nt)(function(t,n,o){return o.sendIdentityRecovery(e,r,i)})}function D(t,n){var e=t.get("id"),r=t.get("identity_instance_id");return(0,c.Nt)(function(i,o,u){return u.sendIdentityInvites(e,r,{invites:n}).then(function(){return i(C(t))})})}},72412:(t,n,e)=>{e.d(n,{En:()=>v,N1:()=>c,Rd:()=>s,Tg:()=>p,i$:()=>g,mf:()=>h,r:()=>d});var r=e(44110),i=e(66602),o=e(12345),u=e(53372),a=(0,o.q)("trafficSplits"),c=(0,o.B)("trafficSplits",a,{handler:function(t,n){switch(n.type){case"TRAFFICSPLIT_SUCCESS":return t.setIn(["entities",n.payload.id],(0,r.fromJS)(n.payload));case"TRAFFICSPLIT_TOGGLE":return t.setIn(["entities",n.payload.splitId,"active"],n.payload.active);default:return null}}});function s(t,n){var e=t.trafficSplits.getIn(["pages",f(n),"ids"]);return e&&e.map(function(n){return t.trafficSplits.getIn(["entities",n])})}var l=(0,i.A)("TRAFFICSPLIT_TOGGLE",function(t,n){return{splitId:t,active:n}});function f(t){return t&&t.get("id")}function d(t){var n=f(t);return(0,u.Nt)(function(t,e,r){return r.trafficSplits(n).then(function(e){return t(a.trafficSplitsSuccess(n,e.data))})})}function g(t,n){var e=f(t);return(0,u.Nt)(function(r,i,o){return o.createTrafficSplit(e,n).then(function(n){r(a.trafficSplitSuccess(n.data)),r(d(t))})})}function p(t,n,e){var r=f(t);return(0,u.Nt)(function(t,i,o){return o.updateTrafficSplit(r,n,e).then(function(n){t(a.trafficSplitSuccess(n.data))})})}function v(t,n){return(0,u.Nt)(function(e,r,i){return i.startTrafficSplit(f(t),n).then(function(r){e(l(n,!0)),e(d(t))})})}function h(t,n){return(0,u.Nt)(function(e,r,i){return i.stopTrafficSplit(f(t),n).then(function(r){e(l(n,!1)),e(d(t))})})}},74890:(t,n,e)=>{e.d(n,{JK:()=>u,LJ:()=>s,TH:()=>c,x:()=>l});var r=e(12345),i=e(53372),o=(0,r.q)("siteAudits"),u=(0,r.B)("siteAudits",o);function a(t){return[t.siteId,t.search].join("-")}function c(t,n){var e=t.siteAudit.getIn(["pages",a(n),"ids"]);return e&&e.map(function(n){return t.siteAudit.getIn(["entities",n])})}function s(t,n){return t.siteAudit.getIn(["pages",a(n)])}function l(t){return(0,i.Nt)(function(n,e,r){return r.siteAudit(t).then(function(e){n(o.siteAuditsSuccess(a(t),e.data,e.pagination))})})}},76798:(t,n,e)=>{e.d(n,{Jc:()=>a,Rx:()=>c,gh:()=>s,le:()=>u,v5:()=>l});var r=e(12345),i=e(53372),o=(0,r.q)("devServerHooks"),u=(0,r.B)("devServerHooks",o);function a(t){return(0,i.Nt)(function(n,e,r){return r.devServerHooks(t.get("id")).then(function(e){return n(o.devServerHooksSuccess(t.get("id"),e.data,e.pagination))})})}function c(t,n){return(0,i.Nt)(function(e,r,i){return i.addDevServerHook(t.get("id"),{title:n.get("title"),branch:n.get("branch"),type:n.get("type")}).then(function(n){return e(a(t))})})}function s(t,n){return(0,i.Nt)(function(e,r,i){return i.removeDevServerHook(t.get("id"),n.get("id")).then(function(n){return e(a(t))})})}function l(t,n){var e=n&&t.devServerHooks.getIn(["pages",n.get("id"),"ids"]);return e&&e.map(function(n){var e,r;return e=t,r=n,e.devServerHooks.getIn(["entities",r])})}},76808:(t,n,e)=>{e.d(n,{BD:()=>c,nG:()=>l,zo:()=>s});var r=e(53372),i=e(12345),o={type:"create-api"},u="createOrganizations",a=(0,i.q)(u),c=(0,i.B)(u,a,{getKey:function(t){return null==t?void 0:t.connectedOrgId}});function s(t,n){return t.createOrganizations.getIn(["entities",n])}function l(t){return(0,r.Nt)(function(n,e,r){var i;if(i=e(),!i.createOrganizations.getIn(["entities",t,"isFetching"]))return a.createOrganizationRequest(t),r.connectedOrganization(t).then(function(t){var e=t.data;return n(a.createOrganizationSuccess(e))},function(e){return[401,404].includes(e.code)?n(a.createOrganizationSuccess(null)):n(a.createOrganizationFailure(t,e))})},o)}},77328:(t,n,e)=>{e.d(n,{LI:()=>s,jw:()=>l,tN:()=>f});var r=e(44110),i=e(66602),o=e(56020),u=e(53372),a="WEB_REQUESTS_TIMESERIES_SUCCESS",c=(0,i.A)(a,function(t,n){return{id:t,requests:{data:n.map(function(t){return[new Date(t.Time).setUTCHours(0,0,0,0),t.Values.count]})}}});function s(t){var n=t.accountId,e=t.from,r=t.to;return(0,o.Jh)(function(t,i,o){return o.accountWebRequestsTimeseries({id:n,from:e,to:r}).then(function(e){t(c(n,e.data))}).catch(function(t){return new u.LG(t)})})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;return n.type===a?t.set("".concat(n.payload.id,"-webRequestsTimeseries"),(0,r.fromJS)(n.payload.requests)):t}function f(t,n){var e;return null==(e=t.webRequests)?void 0:e.get("".concat(n,"-webRequestsTimeseries"))}},78028:(t,n,e)=>{e.d(n,{$Y:()=>_,NM:()=>p,QF:()=>S,Qk:()=>A,U0:()=>g,W7:()=>m,a:()=>E,o7:()=>I,oL:()=>b,v0:()=>w,wj:()=>y,zc:()=>h});var r=e(44110),i=e(66602),o=e(4140),u=e(69895),a=e(17250),c=e(88704),s="GIT_SET_PROVIDER",l="GIT_SET_SEARCH_TERM",f="GIT_SET_USER",d=(0,i.A)("GIT_NO_PROVIDER"),g=(0,i.A)(s,function(t,n){return{provider:t,credentials:n}}),p=(0,i.A)(l,function(t){if(!t)return"";if(t.startsWith("https://"))try{return new URL(t).pathname.split("/").pop()}catch(t){}return t}),v=(0,i.A)(f,function(t){return t});function h(t){return function(n,e){var r=(0,u.eC)(e());return r?t(n,e,r):n(d())}}function m(t,n){var e=!1;return"github-proxied"===t&&(t=o.zG.github,e=!0),function(r,i){var o=i().git,c=(0,a.PR)(i()),s=o&&t===o.get("provider")?(0,u.Ow)(t,{accessToken:o.get("accessToken"),apiEndpoint:o.get("apiEndpoint"),accountId:null==c?void 0:c.get("id")}):(0,u.Ow)(t,{accountId:null==c?void 0:c.get("id")});return s?(e&&(s.root="/.netlify/functions/git"),n(r,i,s)):r(d())}}function y(){return h(function(t,n,e){return e.user().then(function(e){return t(v(e.data)),E(n())})})}function S(t){return function(n,e){return n((0,c.QF)(t)).then(function(){return n(y())})}}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s:var e={provider:n.payload.provider,accessToken:n.payload.credentials.token};return n.payload.credentials.refresh_token&&(e.refreshAccessToken=n.payload.credentials.refresh_token),n.payload.credentials.api_endpoint&&(e.apiEndpoint=n.payload.credentials.api_endpoint),(0,r.fromJS)(e);case l:return t.set("search",n.payload);case f:return t.set("user",(0,r.fromJS)(n.payload));default:return t}}function b(t){return t.git.get("provider")}function I(t){return t.git.get("accessToken")}function A(t){return t.git.get("apiEndpoint")}function w(t){return t.git.get("search")}function E(t){return t.git.get("user")}},81203:(t,n,e)=>{e.d(n,{Av:()=>d,MD:()=>s,Ql:()=>l,ol:()=>f});var r=e(43536),i=e(56315),o=e(12345),u=e(17250),a=e(53372),c=(0,o.q)("members");function s(t){var n=t.get("id");return(0,a.Nt)(function(t,e,r){return t(c.membersRequest(n)),r.members(n).then(function(e){return t(c.membersSuccess(n,e.data,e.pagination))})})}function l(t){return(0,a.Nt)(function(n,e,o){return o.acceptInvite(t).then(function(t){t.data.site_id?n((0,i.VC)((0,r.l2)(t.data))):n((0,u.xk)()).then(function(){return n((0,i.VC)((0,r.$A)(t.data)))})})})}var f=(0,o.B)("members",c);function d(t,n){var e=t.members.getIn(["pages",n.get("id"),"ids"]);return e&&e.map(function(n){return t.members.getIn(["entities",n])})}},84708:(t,n,e)=>{e.d(n,{E6:()=>U,J$:()=>N,JC:()=>d,P7:()=>p,Qf:()=>b,Ry:()=>C,Vd:()=>R,cd:()=>y,fR:()=>m,gw:()=>P,hX:()=>_,mA:()=>I,oM:()=>c,o_:()=>h,pK:()=>s,pd:()=>l,qN:()=>f,sq:()=>u,sw:()=>a,wJ:()=>w});var r=e(53372),i=e(12345),o=(0,i.q)("accountTrafficRuleConfigs"),u=(0,i.B)("accountTrafficRuleConfigs",o,{key:"account_id"});function a(t){return(0,r.Nt)(function(n,e,r){return n(o.accountTrafficRuleConfigRequest(t)),r.getAccountTrafficRulesConfigs(t).then(function(e){n(o.accountTrafficRuleConfigSuccess({account_id:t,data:e.data}))}).catch(function(e){n(o.accountTrafficRuleConfigFailure(t,e.message))})})}function c(t,n){return(0,r.Nt)(function(e,i,o){return o.createAccountTrafficRulesConfig(t,n).then(function(){e(a(t))}).catch(function(t){throw new r.LG(t)})})}function s(t,n,e){return(0,r.Nt)(function(i,o,u){return u.updateAccountTrafficRulesConfig(t,n,e).then(function(){i(a(t))}).catch(function(t){throw new r.LG(t)})})}function l(t,n){return(0,r.Nt)(function(e,r,i){return i.deleteAccountTrafficRulesConfig(t,n).then(function(){e(a(t))}).catch(function(n){e(o.accountTrafficRuleConfigFailure(t,n.message))})})}function f(t,n){return t.accountTrafficRuleConfigs.getIn(["entities",n,"data"])}function d(t,n,e){if(e){var r=f(t,n);if(r)return r.find(function(t){return t.get("id")===e})}}var g=(0,i.q)("accountTrafficRuleUnpublishedConfigs"),p=(0,i.B)("accountTrafficRuleUnpublishedConfigs",g,{key:"account_id"}),v=(0,i.q)("accountTrafficRulePublishedConfigs"),h=(0,i.B)("accountTrafficRulePublishedConfigs",v,{key:"account_id"});function m(t){return function(n){n(y(t,"published")),n(y(t,"unpublished"))}}function y(t,n){var e=D(n),i="Published"===e?v:g;return(0,r.Nt)(function(r,o,u){var a=i["accountTrafficRule".concat(e,"ConfigRequest")],c=i["accountTrafficRule".concat(e,"ConfigSuccess")],s=i["accountTrafficRule".concat(e,"ConfigFailure")];return r(a(t)),u.getAccountLevelTrafficRulesConfig(t,n).then(function(n){r(c({account_id:t,data:n.data}))}).catch(function(n){404===n.code?r(c({account_id:t,data:null})):r(s(t,n.message))})})}function S(t,n,e){return(0,r.Nt)(function(r,i,o){var u=D(e),a="Published"===u?v:g;return o.setAccountLevelTrafficRulesConfig(t,n,e).then(function(){r(y(t,e))}).catch(function(n){r((0,a["accountTrafficRule".concat(u,"ConfigFailure")])(t,n.message))})})}function _(t,n,e){return function(r){return r(S(t,n,"published")).then(function(){r(S(t,e,"unpublished"))})}}function b(t,n,e){var r=D(e);return t["accountTrafficRule".concat(r,"Configs")].getIn(["entities",n,"data"])}function I(t,n,e){var r=D(e);return t["accountTrafficRule".concat(r,"Configs")].getIn(["entities",n,"isFetching"])}var A=(0,i.q)("siteTrafficRulePublishedConfigs"),w=(0,i.B)("siteTrafficRulePublishedConfigs",A,{key:"site_id"}),E=(0,i.q)("siteTrafficRuleUnpublishedConfigs"),N=(0,i.B)("siteTrafficRuleUnpublishedConfigs",E,{key:"site_id"});function C(t){return function(n){n(O(t,"published")),n(O(t,"unpublished"))}}function O(t,n){var e=D(n),i="Published"===e?A:E;return(0,r.Nt)(function(r,o,u){var a=i["siteTrafficRule".concat(e,"ConfigRequest")],c=i["siteTrafficRule".concat(e,"ConfigSuccess")],s=i["siteTrafficRule".concat(e,"ConfigFailure")];return r(a(t)),u.getSiteLevelTrafficRulesConfig(t,n).then(function(n){r(c({site_id:t,data:n.data}))}).catch(function(n){404===n.code?r(c({site_id:t,data:null})):r(s(t,n.message))})})}function T(t,n,e){var i=D(e),o="Published"===i?A:E;return(0,r.Nt)(function(r,u,a){return a.setSiteLevelTrafficRulesConfig(t,n,e).then(function(){r(O(t,e))}).catch(function(n){r((0,o["siteTrafficRule".concat(i,"ConfigFailure")])(t,n.message))})})}function R(t,n,e){return function(r){return r(T(t,n,"published")).then(function(){r(T(t,e,"unpublished"))})}}function P(t,n,e){var r=D(e);return t["siteTrafficRule".concat(r,"Configs")].getIn(["entities",n,"data"])}function U(t,n,e){var r=D(e);return t["siteTrafficRule".concat(r,"Configs")].getIn(["entities",n,"isFetching"])}function D(t){return t.charAt(0).toUpperCase()+t.slice(1)}},87324:(t,n,e)=>{e.d(n,{$S:()=>R,Av:()=>b,Ed:()=>P,L4:()=>_,Lg:()=>T,MD:()=>N,ON:()=>D,Xp:()=>I,Zo:()=>C,b_:()=>O,pj:()=>E,pt:()=>U,s1:()=>w,x$:()=>A});var r=e(43536),i=e(44110),o=e(66602),u=e(56315),a=e(12345),c=e(45235),s=e(25633),l=e(17250),f=e(53372),d=e(88704),g=(0,a.q)("accountMembers"),p="INVITE_CLEAR_FAILURES",v="INVITE_FAILURE",h="ACCOUNT_RECENT_MEMBERS_SUCCESS",m=(0,o.A)(p),y=(0,o.A)(v),S=(0,o.A)(h),_=(0,a.B)("accountMembers",g,{handler:function(t,n){switch(n.type){case p:return t.setIn(["inviteErrors"],(0,i.List)());case v:var e=t.get("inviteErrors")||(0,i.List)();return t.setIn(["inviteErrors"],e.push(n.payload));case h:var r=n.payload,o=r.accountSlug,u=r.data;return t.setIn(["recentMembers",o],(0,i.fromJS)(u));default:return null}}});function b(t,n){var e=t.accountMembers.getIn(["pages",n,"ids"]);return e&&e.map(function(n){return t.accountMembers.getIn(["entities",n])}).sort(function(t,n){var e=function(t){return!0===t.get("pending")};return e(t)&&!e(n)?1:!e(t)&&e(n)?-1:new Date(t.get("updated_at"))<new Date(n.get("updated_at"))?1:-1})}function I(t,n){return t.accountMembers.getIn(["recentMembers",null==n?void 0:n.get("slug")])}function A(t,n){return t.accountMembers.getIn(["entities",n])}function w(t,n){return t.accountMembers.getIn(["pages",n])}function E(t){return t.accountMembers.getIn(["inviteErrors"])}function N(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.Nt)(function(e,r,i){return i.accountMembers(t.get("slug"),n).then(function(n){return e(g.accountMembersSuccess(t.get("slug"),n.data,n.pagination))})})}function C(t){return(0,f.Nt)(function(n,e,r){var i=null==t?void 0:t.get("slug");return r.accountMembers(i,{page:1,per_page:5}).then(function(t){return n(S({accountSlug:i,data:t.data}))})})}function O(t,n){return(0,f.Nt)(function(e,r,i){return i.accountMember(null==t?void 0:t.get("slug"),n).then(function(t){return e(g.accountMemberSuccess(t.data))})})}function T(t,n,e){var o=n.emails,a=n.role,d=n.site_ids,g=n.site_access,p=n.build_id;return(0,f.Nt)(function(n,f,v){return n(m()),Promise.all(o.map(function(e){return v.inviteAccountMember(t.get("slug"),{email:e,role:a,site_ids:d,site_access:g,build_id:p}).catch(function(t){n(y((0,i.fromJS)({email:e,error:t.message})))})})).finally(function(){if(n((0,l.yG)(t.get("slug"))),(0,c.qn)(a)){n((0,s.Xx)(t));var i=(0,r.$A)(t.toJS(),"reviewers");n((0,u.VC)(i))}else{n(N(t));var o=(0,r.$A)(t.toJS(),e?"members?addOwner=true":"members");n((0,u.VC)(o))}})})}function R(t,n){return(0,f.Nt)(function(e,r,i){return i.inviteAccountMember(t.get("slug"),{email:n.get("email"),role:n.get("role"),site_ids:n.get("selected_access_site_ids"),site_access:n.get("site_access"),build_id:n.get("build_id")}).finally(function(){e(N(t)),e((0,l.yG)(t.get("slug")))})})}function P(){return m()}function U(t,n){return(0,f.Nt)(function(e,r,i){return i.removeAccountMember(t.get("slug"),n.get("id")).then(function(){(0,d.QR)(r()).get("id")===n.get("id")?e((0,l.xk)()).then(function(){e((0,l.vz)(t))}):(e(N(t)),e((0,s.Xx)(t))),e((0,l.yG)(t.get("slug")))})})}function D(t,n,e){var r=e.role,i=e.site_access,o=e.site_ids;return(0,f.Nt)(function(e,u,a){return a.updateAccountMember(t.get("slug"),n.get("id"),{role:r,site_access:i,site_ids:o}).then(function(n){e((0,l.yG)(t.get("slug"))),e(N(t)),e((0,s.Xx)(t))})})}},88704:(t,n,e)=>{e.d(n,{BY:()=>tv,Ce:()=>V,FH:()=>tu,Fx:()=>te,J3:()=>tp,JT:()=>H,JX:()=>ts,Kp:()=>ta,Lx:()=>W,M6:()=>K,MV:()=>tc,P_:()=>X,QF:()=>th,QR:()=>tE,RM:()=>ti,Sl:()=>tm,TK:()=>tr,Uu:()=>tw,WK:()=>td,Xh:()=>x,YK:()=>tg,b6:()=>j,d$:()=>L,hc:()=>tl,iD:()=>q,is:()=>to,ji:()=>tS,kQ:()=>tI,q7:()=>Z,tq:()=>Q,ul:()=>ty,xP:()=>tA,xg:()=>tN,xu:()=>tb,xw:()=>tn,y4:()=>$,ze:()=>tt});var r=e(44110),i=e.n(r),o=e(30397),u=e(66602),a=e(56315),c=e(76690),s=e(83463),l=e(2957),f=e(85342),d=e(49262),g=e(84290),p=e(72017),v=e(89774),h=e(29383),m=e(27180),y=e(11080),S=e(53372),_=e(78028),b=e(7719),I=e(26460);function A(t,n,e,r,i,o,u){try{var a=t[o](u),c=a.value}catch(t){e(t);return}a.done?n(c):Promise.resolve(c).then(r,i)}function w(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function u(t){A(o,r,i,u,a,"next",t)}function a(t){A(o,r,i,u,a,"throw",t)}u(void 0)})}}function E(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}function N(t,n){var e,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var s=[a,c];if(e)throw TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(o=0)),o;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var C="nf-session",O="AUTH_ERROR",T="USER_REQUEST",R="RESET_PASSWORD_SUCCESS",P="CREATE_USER_LOADING",U="CREATE_USER_SUCCESS",D="LOGIN_USER",k="UPDATE_USER",j="LOGOUT_USER",L="USER_SIGNUP",M="USER_SUCCESS",F="USER_SUCCESS_SHALLOW",J=(0,u.A)(R),z=(0,u.A)(L,function(t){return{user:t}}),B=(0,u.A)(P,function(t){return{loading:t}}),G=(0,u.A)(U,function(t){return{data:t}});function q(){try{var t=(0,h._S)(C);return t&&JSON.parse(t).access_token}catch(t){return console.error("Error parsing data from local storage",t),null}}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.reload,e=void 0!==n&&n;return function(t,n){var r=n(),i=tE(r);if(i&&!e)return Promise.resolve(i);var o=q();return o&&(0,d.s$)()?Y(r.config,o).then(function(e){return e.id!==(null==i?void 0:i.get("id"))?t({type:D,payload:e}):t({type:k,payload:e}),tE(n())}):Promise.resolve(null)}}function V(){return(0,S.Nt)(function(t,n,e){return e.ensureUser()},{type:"create-api"})}function K(){return(0,S.Nt)(function(t,n,e){return t(B(!0)),e.getUser().then(function(n){var e=n.data;return t(G(e)),e}).finally(function(){return t(B(!1))})},{type:"create-api"})}function Y(t,n){var e={access_token:n};return(0,S.x4)({config:t,user:(0,r.Map)(e)}).user().then(function(t){return E({},t.data,e)})}function H(t){var n=t.token,e=t.isSignup,r=t.isReviewer,i=t.isVerify,o=t.redirect,u=t.isCreateSignup;return function(t,a){var c;return(c=a().config,i?(0,S.x4)({config:c}).verifyUserByToken(n).then(function(t){if("error"===t.data.state)throw new f.A(t.data);return t.data.data.user}):Y(c,n)).then(function(n){return w(function(){var i,a,c,s,l,f;return N(this,function(p){switch(p.label){case 0:if(t({type:j}),i=(null==n?void 0:n.access_token)&&"use-http-auth-token"!==n.access_token,!((e||!(0,d.s$)())&&i))return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,(0,y.M_)({access_token:n.access_token})];case 2:case 3:return p.sent(),[3,4];case 4:return t(W(n,e)),a=(0,h._S)("persistedQueryParams")||"",(0,h.sc)("persistedQueryParams"),c=(0,g.bi)(a,function(t){return d.wF.includes(t)}),!e||r||u||c.append("new_user",e),s=c.toString(),s=(l=function(t){var n="",e="";if(!t)return{redirectPath:n,queryString:e};try{var r=new URL(t),i=r.searchParams.toString();e=i?"?".concat(i):"";var o=r.pathname;n=tb(o)&&!o.startsWith("/signup")?o:"/"}catch(r){var u=t.split("?")[0],a=t.includes("?")?t.split("?")[1]:"";e=a?"?".concat(a):"",n=tb(t)&&!t.startsWith("/signup")?u:"/"}return{redirectPath:n,queryString:e}}(o)).queryString?s?"?".concat(s,"&").concat(l.queryString.slice(1)):l.queryString:"?".concat(s),f="".concat(l.redirectPath).concat(s),t(t_("".concat(f))),[2]}})})()}).catch(function(t){return Promise.reject(new f.A("Invalid authorization code"))})}}function W(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(i,o){if(t=Object.assign({},t),n||t.isSignup?i(z(t)):e||c.m39.appUserLogin({category:"user",label:"User Login"}),delete t.isSignup,e||t.isUpdate){delete t.isUpdate;var u,a=null!=(u=JSON.parse((0,h._S)(C)||"{}"))?u:{};t=(0,r.fromJS)(a).mergeDeep((0,r.fromJS)(t)).toJS()}var s={access_token:"use-http-auth-token"};(0,h.AP)(C,JSON.stringify(s));var l=tN(),f=l.originAllowedToAuth,d=l.openerOrigin;try{!e&&f&&(0,y.pB)().then(function(t){s.access_control_token=t}).finally(function(){window.opener.postMessage({type:"LOGIN",payload:JSON.stringify(s)},d)})}catch(t){console.log("auth ﹥ loginUser",t)}i({type:e?M:D,payload:E({loggedInAt:Date.now(),isSignup:n,isUpdate:e},t)})}}function Q(t,n){return(0,S.Nt)(function(e,r,i){return i.fetchEdgeAccessToken(t,n)})}function Z(t){return function(n,e){(0,y.FG)(),(0,v.c7)(),(0,h.sw)({exclude:[l.GC,d.U1,s.Vk]}),n({type:j}),n(t_(t))}}function $(t){return(0,S.Nt)(function(n,e,r){return w(function(){var i;return N(this,function(o){switch(o.label){case 0:if(i=tE(e()),(0,p.Bm)(null==i?void 0:i.get("email")))return[3,4];r.destroyAccessToken(),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n((0,S.Nt)(function(t,n,e){return e.logout()},{type:"create-api"}))];case 2:case 3:return o.sent(),[3,4];case 4:return m.A.shutdown(),[2,n(Z(t))]}})})()})}function X(t){return{type:O,payload:t}}function tt(t){return(0,S.Nt)(function(n,e,r){return r.resetPasswordEmail(t)})}function tn(t,n,e){return(0,S.Nt)(function(r,i,o){return o.resetPassword(t,n,e).then(function(){r(Z("/")),r(J({success:!0}))})})}function te(t){return(0,S.Nt)(function(n,e,r){return n({type:T}),r.updateUserQuestionnaireTelemetry(t).then(function(){return n(x({reload:!0}))}).then(function(){return tE(e())})})}function tr(t){return(0,S.Nt)(function(n,e,r){return n({type:T}),r.updateUser(t).then(function(e){var i=e.data;return w(function(){var e,o;return N(this,function(u){switch(u.label){case 0:if(e=t.password,t.full_name,!(o=t.avatar))return[3,2];return[4,r.updateUserAvatar(o).then(function(){n(x({reload:!0}))}).catch(function(t){return new f.A(t)})];case 1:u.sent(),u.label=2;case 2:return e?n(Z(window.location.pathname)):n(W(i,!1,!0)),[2]}})})()}).then(function(){return tE(e())})})}function ti(t){return(0,S.Nt)(function(n,e,r){return n({type:T}),r.updateUser(t).then(function(t){var e=t.data;return w(function(){return N(this,function(t){return n({type:F,payload:e}),[2]})})()})})}function to(){return(0,S.Nt)(function(t,n,e){return e.deleteUserAvatar().then(function(){t(x({reload:!0}))}).catch(function(t){return new f.A(t)})})}function tu(t,n){return(0,S.Nt)(function(e,r,i){return i.verifyUser(t,n).then(function(){return e(x({reload:!0}))}).catch(function(t){return new f.A(t)})})}function ta(t,n){return(0,S.Nt)(function(e,r,i){return i.verifySamlUserByToken(t,n).then(function(t){return e((0,b.ty)(t.data.data.user.access_token,t.data.data.saml_slug))}).catch(function(t){return new f.A(t)})})}function tc(){return c.m39.appUserDelete(),(0,S.Nt)(function(t,n,e){return e.disableUser()})}function ts(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"slides",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"closed";return function(e,i){return e(tr({onboarding_progress:(tE(i()).get("onboarding_progress")||(0,r.Map)()).set(t,n)}))}}function tl(t){return function(n,e){var i,o=tE(e()),u={};return"string"!=typeof o.getIn(["onboarding_progress","guided_onboarding"])&&(u=null==(i=o.getIn(["onboarding_progress","guided_onboarding"],(0,r.Map)()))?void 0:i.toJS()),n(ts("guided_onboarding",E({},u,t)))}}function tf(t){return new y.Ay(t.config.toJS())}function td(t){var n=t.provider;return(0,S.Nt)(function(t,e,r){return(0,y.D1)({url:"/authorizing.html",provider:n}),r.authLink({provider:n}).then(function(t){return new Promise(function(r,i){return tf(e()).open({url:t.data.redirect_uri,provider:n},function(t,n){return t?i(t):r(n)})})}).then(function(n){return t(x({reload:!0}))}).catch(function(t){return(0,y.Do)(),Promise.reject(t)})})}function tg(t){var n=t.provider;return(0,S.Nt)(function(t,e,r){return r.authUnlink({provider:n}).then(function(n){return t(x({reload:!0}))})})}function tp(t){return t="local-dev"===t?"prod":t,(0,S.Nt)(function(n,e,r){return w(function(){return N(this,function(n){switch(n.label){case 0:return[4,r.generateCreateAuthJwt(t)];case 1:return[2,n.sent().data.create_auth_jwt]}})})()})}function tv(t){var n=t.email,e=t.accountSlug;return(0,S.Nt)(function(t,r,i){return i.resendVerifyEmail(n,e).catch(function(t){throw new f.A("Could not resend verification email: ".concat(t.message))})})}function th(t){return(0,S.Nt)(function(n,e,r){var i=e(),o=E({provider:"github",redirect:!0,login:!tE(i)||t.signup||t.forceAuth},t);return o.amnesia?r.resetPasswordEmail(o.email).then(function(){return{verify:!0}}):new Promise(function(t,e){return tf(i).authenticate(o,function(r,i){return w(function(){var u;return N(this,function(a){switch(a.label){case 0:if(r)return[2,e(r)];if(i.verify)return[2,t(i)];if(i.redirect_uri)return n(t_(i.redirect_uri)),[2,t(i)];if(!(o.login&&i.user))return[3,3];if(n({type:j}),!((null==i||null==(u=i.user)?void 0:u.access_token)&&"use-http-auth-token"!==i.user.access_token))return[3,2];return[4,(0,y.M_)({access_token:i.user.access_token})];case 1:a.sent(),i.user.access_token="use-http-auth-token",a.label=2;case 2:n(W(i.user,i.new_user)),n(t_(o.next)),a.label=3;case 3:return n((0,_.U0)(o.provider,i)),t(i),[2]}})})()})})})}function tm(t){tb(t)&&(0,h.J2)("next",t)}function ty(t,n){var e=tS(t),r=(0,h.KW)(e);if(n){var i=(0,o.Ak)(10);if(r!==n&&(0,h._Y)(i,n),!e){var u=t.includes("?"),a="hash-token=".concat(i);u?t+="&".concat(a):t+="?".concat(a)}}return t}function tS(t){var n;return new URLSearchParams(null!=(n=t.split("?")[1])?n:[]).get("hash-token")}function t_(t){var n,e;return t=tb(e="string"==typeof(n=t)&&n||(0,h.Hd)("next")||"/")?e:"/",function(n){(0,h.sc)("next"),n((0,I.d9)(t))}}function tb(t){return!(t&&!t.startsWith("/auth-create")&&!t.startsWith("/authorize")&&(t.startsWith("/sso")||t.startsWith("/auth")||"/login/email"===t||"/login"===t))||(console.log("next redirect is for an auth path. Ignoring to avoid loops",t),!1)}function tI(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O:return t?t.set("authError","forbidden"):i().fromJS({authError:"missing"});case a.LK:return t?t.delete("authError"):t;case D:case k:return i().fromJS(n.payload);case j:return null;case T:return t.set("isFetching",!0);case M:return t.mergeDeep(n.payload,{isFetching:!1,authError:null});case F:return t.merge(n.payload,{isFetching:!1,authError:null});case"USER_ERROR":return t.merge({isFetching:!1,error:n.payload});case P:return t.setIn(["createUser","loading"],n.payload.loading);case U:return t.setIn(["createUser","data"],n.payload.data);default:return t}}function tA(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.fromJS)({}),n=arguments.length>1?arguments[1]:void 0;return n.type===R?t.merge((0,r.fromJS)({resetSuccess:n.payload.success})):t}function tw(t){var n=t.userPassword;return(null==n?void 0:n.get("resetSuccess"))||!1}function tE(t){var n=t.user;return n&&n.get("id")?n:null}function tN(){var t,n="",e=!1;if(null===window.opener)return{originAllowedToAuth:!!e,openerOrigin:n};var r=new URLSearchParams(window.location.search).get("opener-origin")||(0,h.KW)("opener-origin");try{n=null==(t=window.opener)?void 0:t.origin}catch(t){console.error(t)}return!n&&r&&((0,h._Y)("opener-origin",r,18e5),n=decodeURIComponent(r)),n&&(n=new URL(n).origin),(e=[window.origin,"https://www.netlify.com","https://docs.netlify.com"].includes(n))||(/--docs\.netlify\.app$/.test(n)?e=!0:/--www\.netlify\.app$/.test(n)&&(e=!0)),{originAllowedToAuth:!!e,openerOrigin:n}}},89479:(t,n,e)=>{e.d(n,{L:()=>u,Lu:()=>l,mr:()=>s,uv:()=>c,xZ:()=>a});var r=e(12345),i=e(53372),o=(0,r.q)("authProviders"),u=(0,r.B)("authProviders",o);function a(t){return(0,i.Nt)(function(n,e,r){return r.authProviders(t.get("id")).then(function(e){return n(o.authProvidersSuccess(t.get("id"),e.data,e.pagination))},function(e){return n(o.authProvidersFailure(t.get("id"),e))})})}function c(t,n){return(0,i.Nt)(function(e,r,i){var o=n.toJS(),u=o.type,c=o.apiID,s=o.apiSecret;return i.createAuthProvider(t.get("id"),u,c,s).then(function(n){return e(a(t))})})}function s(t,n){return(0,i.Nt)(function(e,r,i){return i.removeAuthProvider(t.get("id"),n.get("name")).then(function(n){return e(a(t))})})}function l(t,n){var e=t.authProviders.getIn(["pages",n,"ids"]);return e&&e.map(function(n){return t.authProviders.getIn(["entities",n])})}},89867:(t,n,e)=>{e.d(n,{c:()=>o});var r=e(44110),i=e(36175);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Map)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case i.sE:return(0,r.Map)({active:!0});case i.dU:return(0,r.Map)({active:!1});default:return t}}},90016:(t,n,e)=>{e.d(n,{c:()=>r});var r=function(t){return t.all="all",t.nonProduction="non_production",t}({})},96508:(t,n,e)=>{e.d(n,{$P:()=>v,Ge:()=>m,V6:()=>h,XY:()=>d,Y7:()=>y,k:()=>g,mw:()=>S,sq:()=>p});var r=e(44110),i=e(53372),o=e(88704);function u(t,n,e,r,i,o,u){try{var a=t[o](u),c=a.value}catch(t){e(t);return}a.done?n(c):Promise.resolve(c).then(r,i)}function a(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function a(t){u(o,r,i,a,c,"next",t)}function c(t){u(o,r,i,a,c,"throw",t)}a(void 0)})}}function c(t,n){var e,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var s=[a,c];if(e)throw TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(o=0)),o;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var s="MULTIFACTOR_AUTH_SETUP",l="MULTIFACTOR_AUTH_ENABLE",f="MULTIFACTOR_AUTH_DISABLE";function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.fromJS)({}),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s:return t.merge((0,r.fromJS)({setup:n.payload}));case l:return t.merge((0,r.fromJS)({isEnabled:!0,recoveryCodes:n.payload}));case f:return t.merge((0,r.fromJS)({isEnabled:!1,recoveryCodes:null}));default:return t}}function g(){return(0,i.Nt)(function(t,n,e){return a(function(){return c(this,function(n){switch(n.label){case 0:return[4,e.setupMultiFactorAuth()];case 1:return t({type:s,payload:n.sent().data}),[2]}})})()})}function p(t){var n=t.otp,e=t.token;return(0,i.Nt)(function(t,r,i){return a(function(){return c(this,function(r){switch(r.label){case 0:return[4,i.enableMultiFactorAuth({otp:n,token:e})];case 1:return t({type:l,payload:r.sent().data.backup_codes}),[2]}})})()})}function v(t){var n=t.otp;return(0,i.Nt)(function(t,e,r){return a(function(){return c(this,function(e){switch(e.label){case 0:return[4,r.disableMultiFactorAuth({otp:n})];case 1:return t({type:f,payload:e.sent().data}),t((0,o.Xh)({reload:!0})),[2]}})})()})}function h(t){var n=t.otp,e=t.token;return(0,i.Nt)(function(t,r,i){return a(function(){var t;return c(this,function(r){switch(r.label){case 0:return[4,i.verifyLogin({otp:n,token:e})];case 1:return t=r.sent().data,window.location.href=t.redirect_path,[2]}})})()})}function m(t){var n=t.multiFactorAuth;return(null==n?void 0:n.get("setup"))||null}function y(t){var n=t.user,e=t.multiFactorAuth;return!!(null==e?void 0:e.get("isEnabled"))||!!(null==n?void 0:n.get("mfa_enabled"))}function S(t){var n=t.multiFactorAuth;return null==n?void 0:n.get("recoveryCodes")}},96655:(t,n,e)=>{function r(t,n,e,r,i,o,u){try{var a=t[o](u),c=a.value}catch(t){e(t);return}a.done?n(c):Promise.resolve(c).then(r,i)}e.d(n,{C:()=>u});var i=new Map,o=function(t){var n,e=t.accountId;return(n=function(){var t;return function(t,n){var e,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){var s=[a,c];if(e)throw TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(o=0)),o;)try{if(e=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(t,o)}catch(t){s=[6,t],r=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(n){switch(n.label){case 0:return[4,fetch("/access-control/bb-api/api/v1/accounts/".concat(e,"/jwt"),{headers:{"Content-type":"application/json"},credentials:"include"})];case 1:if(200!==(t=n.sent()).status)return[3,3];return[4,t.json()];case 2:return[2,n.sent()];case 3:throw Error("Non-200 status when exchanging API token for short-lived JWT: ".concat(t.status))}})},function(){var t=this,e=arguments;return new Promise(function(i,o){var u=n.apply(t,e);function a(t){r(u,i,o,a,c,"next",t)}function c(t){r(u,i,o,a,c,"throw",t)}a(void 0)})})()};function u(t){var n=t.accountId,e=i.get(n);if(e&&!("jwt"in e&&e.expiration-3e5<performance.now()))return Promise.resolve(e);var r=o({accountId:n}).then(function(t){var e=t.jwt,r=JSON.parse(atob(e.split(".")[1].replace(/_/g,"/").replace(/-/g,"+"))),o=r.exp-r.iat,u=performance.now()+1e3*o;return i.set(n,{jwt:e,expiration:u}),{jwt:e,expiration:u}}).catch(function(t){throw i.delete(n),t});return i.set(n,r),r}},97767:(t,n,e)=>{e.d(n,{J5:()=>w,RH:()=>g,U3:()=>p,bw:()=>y,cX:()=>E,iF:()=>_,iV:()=>I,jY:()=>h,k3:()=>A,tN:()=>b,uZ:()=>N,wT:()=>S,y5:()=>v,yM:()=>d,z1:()=>m});var r=e(43536),i=e(44110),o=e(56315),u=e(12345),a=e(96446),c=e(53372);function s(t,n){return[t,(null==n?void 0:n.filter)||"",(null==n?void 0:n.state)||(null==n?void 0:n.status)||"",(null==n?void 0:n.page)||1].join("-")}function l(t,n){var e;return[t,"active",null==n||null==(e=n.branches)?void 0:e.join(","),null==n?void 0:n.includeAll].join("-")}var f=(0,u.q)("devServers"),d=(0,u.B)("devServers",f);function g(t,n){return(0,c.Nt)(function(e,r,i){return i.devServer(t.get("id"),n).then(function(t){e(f.devServerSuccess(t.data))})})}function p(t,n){var e=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){var r;r=e[n],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return t}({perPage:15},n);return(0,c.Nt)(function(n,r,i){return n(f.devServersRequest(s(t,e))),i.devServers(t,e).then(function(r){return n(f.devServersSuccess(s(t,e),r.data,r.pagination))})})}function v(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=l(t,n);return(0,c.Nt)(function(r,i,o){return r(f.devServersRequest(e)),o.activeDevServers(t,n).then(function(o){var u=Object.values(o.data.reduce(function(t,n){return[n.live,n.latest].forEach(function(n){n&&!t[n.id]&&(t[n.id]=n)}),t},{}));return r(f.devServersSuccess(e,u,o.pagination)),_(i(),t,n)})})}function h(t,n,e){var i=t.get("id");return(0,c.Nt)(function(u,a,c){return c.createDevServer(i,n,e).then(function(n){u((0,o.VC)((0,r.x$)(t.toJS(),{id:n.data.id})))})})}function m(t,n){var e=t.get("id");return(0,c.Nt)(function(i,u,a){return a.shutdownDevServer(e,n).then(function(n){i((0,o.VC)((0,r.x$)(t.toJS())))})})}function y(t,n){var e=t.devServers.getIn(["entities",n]);return e&&e.merge(t.devServers.get(n))}function S(t,n,e){var r=e.perPage,i=t.devServers.getIn(["pages",s(n.get("id"),e),"ids"]),o=i&&i.map(function(n){return y(t,n)});return o&&r?o.take(r):o}function _(t,n,e){var r,o,u=l(n,e);return null!=(o=null==(r=t.devServers.getIn(["pages",u,"ids"]))?void 0:r.flatMap(function(n){var r=t.devServers.getIn(["entities",n]);return(null==e?void 0:e.includeAll)||"live"===r.get("state")?[r]:[]}))?o:(0,i.List)()}function b(t,n,e,r){var i,o=_(t,n,r).filter(function(t){return!((null==t?void 0:t.get("branch"))!==e||(null==r?void 0:r.after)&&new Date(t.get("created_at")).getTime()<r.after.getTime())&&!0});return(null==r?void 0:r.latest)?o.sort(function(t,n){return new Date(n.get("created_at")).getTime()-new Date(t.get("created_at")).getTime()}).first():null!=(i=o.find(function(t){return(null==t?void 0:t.get("state"))==="live"}))?i:o.first()}function I(t,n,e){return t.devServers.getIn(["pages",l(n,e),"isFetching"])}function A(t,n,e){return t.devServers.getIn(["pages",s(n,e)])}var w=function(t){return function(n){return n(f.devServerSuccess(t))}},E=function(t,n){return function(e){if(1===(n.page||1))return e(p(t.site_id,n))}},N=function(t,n){return function(e,r){var i=_(r(),t.get("id"),{includeAll:!0});return!(null==i?void 0:i.find(function(t){return(null==t?void 0:t.get("branch"))===n&&a.U$.includes(null==t?void 0:t.get("state"))}))}}},98379:(t,n,e)=>{e.d(n,{GW:()=>U,MU:()=>z,QF:()=>k,S1:()=>K,SV:()=>V,UC:()=>B,Wb:()=>J,_Z:()=>L,ak:()=>W,cv:()=>H,eV:()=>j,gA:()=>q,go:()=>G,vK:()=>Q,wd:()=>Y,ws:()=>F,wu:()=>x});var r=e(44110),i=e(66602),o=e(12345),u=e(42301),a=e(56020),c=e(53372),s="BUILD_STATUS_SUCCESS",l="BUILD_STATUS_PER_SITE_SUCCESS",f="BUILD_STATUS_PER_SITE_MULTIPLE_SUCCESS",d="BUILDS_PER_DAY_SUCCESS",g="BUILD_QUEUE_BUMP_REQUEST",p="BUILD_QUEUE_BUMP_SUCCESS",v="BUILD_QUEUE_BUMP_FAILURE",h="BUILDS_USAGE_ACCOUNT_TIMESERIES_SUCCESS",m="WS_BUILD_CREATED",y="WS_BUILD_MODIFIED",S="WS_BUILD_DELETED",_=function(t,n){return[t.get?t.get("id"):t.id,n].join("-")},b=(0,i.A)(s,function(t,n){return{id:t.get("id"),data:n}}),I=(0,i.A)(l,function(t,n){return{id:t.get("id"),data:n}}),A=(0,i.A)(f,function(t,n){return{id:t,data:n.map(function(t){return{from:t.from,to:t.to,sites:t.data}})}}),w=(0,i.A)(d,function(t,n){return{id:t.get("id"),data:n}}),E=(0,i.A)(g,function(t){return{buildId:t}}),N=(0,i.A)(p,function(t){return{buildId:t}}),C=(0,i.A)(v,function(t,n){return{buildId:t,error:n}}),O=(0,i.A)(m,function(t){return t}),T=(0,i.A)(y,function(t){return t}),R=(0,i.A)(S,function(t){return t}),P=(0,o.q)("builds"),U=(0,o.B)("builds",P,{handler:function(t,n){var e=n.type,i=n.payload;switch(e){case s:return t.set(i.id,(0,r.fromJS)(i.data));case l:return t.set("".concat(i.id,"-per-site"),(0,r.fromJS)(i.data));case f:return t.set("".concat(i.id,"-per-site-multiple"),(0,r.fromJS)(i.data));case d:return t.set("".concat(i.id,"-per-day"),(0,r.fromJS)(i.data));case g:var o=i.buildId;return t.withMutations(function(t){t.setIn(["entities",o,"isPushing"],!0).setIn(["entities",o,"errorOnQueueBump"],null)});case p:var a=i.buildId;return t.setIn(["entities",a,"isPushing"],!1);case v:var c=i.buildId,b=i.error;return t.withMutations(function(t){t.setIn(["entities",c,"errorOnQueueBump"],(0,r.fromJS)(b)).setIn(["entities",c,"isPushing"],!1)});case h:return t.set(_(n.payload,"buildsUsageAccountTimeseries"),(0,r.fromJS)(n.payload.counts));case"BUILDS_USAGE_ACCOUNT_TIMESERIES_LEGACY_SUCCESS":return t.set(_(n.payload,"buildsUsageAccountTimeseriesLegacy"),(0,r.fromJS)(n.payload.counts));case m:return(0,u.Lt)(t,i);case y:return(0,u.wJ)(t,i);case S:return(0,u.wK)(t,i);default:return null}}});function D(t){return t.get("id")}function k(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=D(t);return(0,c.Nt)(function(i,o,u){return e&&i(P.buildsRequest(r)),u.accountBuilds(t.get("slug"),n).then(function(t){return i(P.buildsSuccess(r,t.data,t.pagination))})})}function j(t){return(0,c.Nt)(function(n,e,r){return r.accountBuildStatus(t.get("slug")).then(function(e){return n(b(t,e.data))})})}function L(t,n){return(0,c.Nt)(function(e,r,i){return e(E(n)),i.accountBuildQueueBump(t.get("slug"),n).then(function(){return e(N(n))}).catch(function(t){throw e(C(n,t)),t})})}var M=(0,i.A)(h,function(t,n){var e=[],r=[],i=[];return n.forEach(function(t){var n=new Date(t.start).setUTCHours(0,0,0,0);e.push([n,t.values.memory_usage_mb_ms]),r.push([n,t.values.count]),i.push([n,t.values.total_billable_ms])}),{id:t,counts:{data:{memory:e,count:r,duration:i}}}});function F(t){var n=t.accountId,e=t.from,r=t.to;return(0,a.Jh)(function(t,i,o){return o.accountBuildsUsageTimeseries({id:n,from:e,to:r}).then(function(e){t(M(n,e.data))}).catch(function(t){return new c.LG(t)})})}function J(t,n){var e;return null==(e=t.builds)?void 0:e.get(_({id:n},"buildsUsageAccountTimeseries"))}function z(t,n){return t.builds.get(n.get("id"))}function B(t){return(0,c.Nt)(function(n,e,r){return r.accountBuildStatusPerSite({id:t.get("id")}).then(function(e){return n(I(t,e.data))})})}function G(t,n){return(0,c.Nt)(function(e,r,i){return Promise.all(n.map(function(n){var e,r;return i.accountBuildStatusPerSite({id:t,from:null==(e=n.from)?void 0:e.getTime(),to:null==(r=n.to)?void 0:r.getTime()}).then(function(t){return{from:n.from,to:n.to,data:t.data.data}})})).then(function(n){e(A(t,n))})})}function q(t,n){return t.builds.get("".concat(n.get("id"),"-per-site"))}function x(t){return(0,c.Nt)(function(n,e,r){return r.accountBuildsPerDay(t.get("slug")).then(function(e){n(w(t,e.data))})})}function V(t,n){return t.builds.get("".concat(n,"-per-site-multiple"))}function K(t,n){return t.builds.get("".concat(n.get("id"),"-per-day"))}function Y(t,n){if((e=H(t,n))&&e.get("isFetching"))return null;var e,r=t.builds.getIn(["pages",D(n),"ids"]);return r&&r.map(function(n){var e;return(e=t.builds.getIn(["entities",n]))&&e.set("build_id",e.get("id"))})}function H(t,n){return t.builds.getIn(["pages",D(n)])}var W=function(t,n){return function(e){var i=n.page,o=n.account_id;if(1===i){var u=D((0,r.fromJS)({id:o}));e(O(t.set("listKey",u)))}}},Q=function(t,n){return function(e){var i=D((0,r.fromJS)({id:n.account_id}));e("deleted"===t.get("state")?R(t.set("listKey",i)):T(t.set("listKey",i)))}}},99581:(t,n,e)=>{e.d(n,{$h:()=>P,Bh:()=>L,KN:()=>C,L9:()=>k,LN:()=>z,N:()=>B,S6:()=>J,YH:()=>M,c7:()=>T,i9:()=>R,j8:()=>O,oe:()=>j,sO:()=>F,wj:()=>U,zh:()=>D});var r=e(44110),i=e(66602),o=e(12345),u=e(85342),a=e(56020),c=e(53372),s=function(t,n){return[t.get?t.get("id"):t.id,n].join("-")},l="BANDWIDTH_USAGE_DOMAINS_SUCCESS",f="BANDWIDTH_USAGE_DOMAINS_HISTORIC_SUCCESS",d="BANDWIDTH_USAGE_DOMAINS_RANKING_SUCCESS",g="BANDWIDTH_USAGE_DOMAINS_TIMESERIES_SUCCESS",p="BANDWIDTH_USAGE_CONNECT_SUCCESS",v="BANDWIDTH_USAGE_CONNECT_HISTORIC_SUCCESS",h="BANDWIDTH_USAGE_CONNECT_RANKING_SUCCESS",m="BANDWIDTH_USAGE_CONNECT_TIMESERIES_SUCCESS",y=(0,o.q)("bandwidth"),S=(0,i.A)(l,function(t,n){return{id:t,bandwidth:n}}),_=(0,i.A)(f,function(t,n){return{id:t,bandwidth:n}}),b=(0,i.A)(d,function(t,n){return{id:t,bandwidth:n}}),I=(0,i.A)(g,function(t,n){return{id:t,bandwidth:{data:n.data.map(function(t){return[new Date(t.start).setUTCHours(0,0,0,0),t.accountBandwidth]})}}}),A=(0,i.A)(p,function(t,n){return{id:t,bandwidth:n}}),w=(0,i.A)(v,function(t,n){return{id:t,bandwidth:n}}),E=(0,i.A)(h,function(t,n){return{id:t,bandwidth:n}}),N=(0,i.A)(m,function(t,n){return{id:t,bandwidth:{data:n.map(function(t){return[new Date(t.start).setUTCHours(0,0,0,0),t.values.bandwidth]})}}});function C(t){var n=t.accountId,e=t.from,r=t.to;return(0,c.Nt)(function(t,i,o){return o.accountBandwidth({id:n,from:e,to:r}).then(function(e){t(S(n,e.data))}).catch(function(t){return new u.A(t)})})}function O(t,n){return(0,c.Nt)(function(e,r,i){return Promise.all(n.map(function(n){var e,r;return i.accountBandwidth({id:t,from:null==(e=n.from)?void 0:e.getTime(),to:null==(r=n.to)?void 0:r.getTime()}).then(function(t){return{from:n.from,to:n.to,data:t.data}})})).then(function(n){e(_(t,n))})})}function T(t,n,e){return(0,c.Nt)(function(r,i,o){return Promise.all(e.map(function(e,r){var i,u;return o.accountBandwidthRanking({id:t,limit:n,from:null==(i=e.from)?void 0:i.getTime(),to:null==(u=e.to)?void 0:u.getTime()}).then(function(t){return{from:e.from,to:e.to,data:t.data.data}})})).then(function(n){r(b(t,n))})})}function R(t){var n=t.accountId,e=t.from,r=t.to,i=t.resolution;return(0,c.Nt)(function(t,o,a){return a.accountDomainsBandwidthTimeseries({id:n,from:e,to:r,resolution:i}).then(function(e){t(I(n,e.data))}).catch(function(t){return new u.A(t)})})}function P(t){var n=t.accountId,e=t.from,r=t.to;return(0,c.Nt)(function(t,i,o){return o.accountConnectBandwidth({id:n,from:e,to:r}).then(function(e){t(A(n,e.data))}).catch(function(t){return new u.A(t)})})}function U(t,n){return(0,c.Nt)(function(e,r,i){return Promise.all(n.map(function(n,e){var r,o;return i.accountConnectBandwidth({id:t,from:null==(r=n.from)?void 0:r.getTime(),to:null==(o=n.to)?void 0:o.getTime()}).then(function(t){return{from:n.from,to:n.to,data:t.data}})})).then(function(n){e(w(t,n))})})}function D(t,n,e){return(0,c.Nt)(function(r,i,o){return Promise.all(e.map(function(e,r){var i,u;return o.accountConnectBandwidthDataLayers({id:t,limit:n,from:null==(i=e.from)?void 0:i.getTime(),to:null==(u=e.to)?void 0:u.getTime()}).then(function(t){return{from:e.from,to:e.to,data:t.data.data}})})).then(function(n){r(E(t,n))})})}function k(t){var n=t.accountId,e=t.from,r=t.to;return(0,a.Jh)(function(t,i,o){return o.accountConnectBandwidthTimeseries({id:n,from:e,to:r}).then(function(e){t(N(n,e.data))}).catch(function(t){return new u.A(t)})})}var j=(0,o.B)("bandwidth",y,{key:"slug",handler:function(t,n){switch(n.type){case l:return t.set(s(n.payload,"bandwidthUsageDomains"),(0,r.fromJS)(n.payload.bandwidth));case f:return t.set(s(n.payload,"bandwidthUsageDomainsHistoric"),(0,r.fromJS)(n.payload.bandwidth));case d:return t.set(s(n.payload,"bandwidthUsageDomainsRanking"),(0,r.fromJS)(n.payload.bandwidth));case g:return t.set(s(n.payload,"bandwidthUsageDomainsTimeseries"),(0,r.fromJS)(n.payload.bandwidth));case p:return t.set(s(n.payload,"bandwidthUsageConnect"),(0,r.fromJS)(n.payload.bandwidth));case v:return t.set(s(n.payload,"bandwidthUsageConnectHistoric"),(0,r.fromJS)(n.payload.bandwidth));case h:return t.set(s(n.payload,"bandwidthUsageConnectRanking"),(0,r.fromJS)(n.payload.bandwidth));case m:return t.set(s(n.payload,"bandwidthUsageConnectTimeseries"),(0,r.fromJS)(n.payload.bandwidth));default:return null}}});function L(t,n){var e;return null==(e=t.bandwidth)?void 0:e.get(s({id:n},"bandwidthUsageDomainsHistoric"))}function M(t,n){var e;return null==(e=t.bandwidth)?void 0:e.get(s({id:n},"bandwidthUsageDomainsRanking"))}function F(t,n){var e;return null==(e=t.bandwidth)?void 0:e.get(s({id:n},"bandwidthUsageDomainsTimeseries"))}function J(t,n){var e;return null==(e=t.bandwidth)?void 0:e.get(s({id:n},"bandwidthUsageConnectHistoric"))}function z(t,n){var e;return null==(e=t.bandwidth)?void 0:e.get(s({id:n},"bandwidthUsageConnectRanking"))}function B(t,n){var e;return null==(e=t.bandwidth)?void 0:e.get(s({id:n},"bandwidthUsageConnectTimeseries"))}}}]);