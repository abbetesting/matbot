"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2628],{4140:(e,t,n)=>{n.d(t,{Dv:()=>u,Sc:()=>i,cs:()=>a,lh:()=>s,lm:()=>c,nO:()=>l,ns:()=>d,vu:()=>f,zG:()=>o});var r=n(44110),o={github:"github",bitbucket:"bitbucket",bitbucket_self_hosted:"bitbucket_self_hosted",gitlab:"gitlab",gitlab_self_hosted:"gitlab_self_hosted",github_app:"github_app",github_enterprise:"github_enterprise",google:"google",email:"email",azure_devops:"azure_devops"},i=(0,r.fromJS)({github:{id:o.github,name:"GitHub",description:"Authenticate users with GitHub and access GitHub’s REST API",iconName:"github",labels:{api_id:"Client ID",client_id:"Client ID",secret:"Client secret"},active:!0,supports:{search:!0}},bitbucket:{id:o.bitbucket,name:"Bitbucket",description:"Authenticate users with Bitbucket and access their REST API",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Key",client_id:"Key",secret:"Secret"},active:!0,supports:{search:!0},hideGitUserFromRepoList:!0},bitbucket_self_hosted:{id:o.bitbucket_self_hosted,name:"Bitbucket Data Center and Server",shortName:"Bitbucket",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Application ID",client_id:"Client ID",secret:"Secret"},active:!1,selfhosted:!0,supports:{search:!0},hideGitUserFromRepoList:!0},gitlab:{id:o.gitlab,name:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},active:!0,supports:{search:!0}},gitlab_self_hosted:{id:o.gitlab_self_hosted,name:"GitLab self-managed",shortName:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},selfhosted:!0,supports:{search:!0},active:!1},github_app:{id:o.github_app,name:"GitHub App",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},active:!1},github_enterprise:{id:o.github_enterprise,name:"GitHub Enterprise",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},selfhosted:!0,active:!1},google:{id:o.google,name:"Google",iconColoredName:"google-colored",labels:{client_id:"Client ID",secret:"Client secret"},active:!1},email:{id:o.email,name:"Email",active:!1},azure_devops:{id:o.azure_devops,name:"Azure DevOps",iconName:"azure-devops",iconColoredName:"azure-devops-colored",active:!1,supports:{search:!0},hideGitUserFromRepoList:!0}}),a=i.toList().filter(function(e){return e.get("active")}),c=i.toList().filter(function(e){return e.get("selfhosted")}),u=function(e){return a.filterNot(function(t){return e&&e.find(function(e){return e.get("name")===t.get("id")})})},s=function(e){return i.get(e)||(0,r.Map)({id:e,name:e,active:!1})},l=function(e){if(!e)return"";var t=i.get(e);return null==t?void 0:t.get("iconName")},f=[o.github,o.github_app,o.github_enterprise],d=[o.bitbucket,o.bitbucket_self_hosted]},11080:(e,t,n)=>{n.d(t,{Ay:()=>q,D1:()=>E,Do:()=>T,FG:()=>I,M_:()=>P,Zl:()=>O,Zn:()=>w,pB:()=>A,r$:()=>x});var r,o,i=n(99895),a=n.n(i),c=n(92071),u=n(85342),s=n(29383),l=n(4140),f=n(94958);function d(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)})}}function h(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}function g(){try{var e=new URLSearchParams(window.location.search),t=e.get("utm_campaign"),n=e.get("utm_source"),r=e.get("utm_medium");return(t||n||r)&&{utm_campaign:t,utm_source:n,utm_medium:r}}catch(e){return null}}function w(){try{var e=(0,s.Hd)("nf.utm"),t=JSON.parse(e||"{}"),n=t.utm_campaign,r=void 0===n?"":n,o=t.utm_source,i=void 0===o?"":o,a=t.utm_medium,c=void 0===a?"":a;return(r||i||c)&&{utm_campaign:r,utm_source:i,utm_medium:c}}catch(e){}}function k(e){(0,s.J2)("nf.utm",JSON.stringify(e))}function O(){var e=[],t=g()||w();if(t)for(var n in k(t),t)e.push("".concat(n,"=").concat(t[n]));return e.join("&")}var S=g();S&&k(S);var j=function(){function e(t){h(this,e),m(this,"err",void 0),this.err=t}return v(e,[{key:"toString",value:function(){return this.err&&this.err.message}}]),e}(),_=(m(r={},l.zG.github_app,{width:1200,height:800,closeWindow:!1}),m(r,l.zG.github_enterprise,{width:1200,height:800,closeWindow:!1}),m(r,l.zG.github,{width:960,height:600,closeWindow:!0}),m(r,l.zG.gitlab,{width:960,height:600,closeWindow:!0}),m(r,l.zG.gitlab_self_hosted,{width:960,height:600,closeWindow:!0}),m(r,l.zG.bitbucket,{width:1024,height:600,closeWindow:!0}),m(r,l.zG.bitbucket_self_hosted,{width:1024,height:600,closeWindow:!0}),m(r,l.zG.azure_devops,{width:960,height:600,closeWindow:!0}),m(r,l.zG.email,{width:500,height:400,closeWindow:!0}),r);function P(e){return p(function(e){var t;return b(this,function(n){switch(n.label){case 0:return t=e.access_token,[4,fetch("/access-control/set-auth",{headers:{Authorization:"Bearer ".concat(t)},credentials:"include"})];case 1:if(200!==n.sent().status)throw Error("failed to set-auth for user");return[2]}})}).apply(this,arguments)}function I(){return document.cookie="_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=.netlify.com",document.cookie="_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=".concat(window.location.hostname),document.cookie="_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=".concat(window.location.hostname.split(".").slice(1).join(".")),P({access_token:"unset"})}function A(){return p(function(){var e;return b(this,function(t){switch(t.label){case 0:return[4,fetch("/access-control/generate-access-control-token",{credentials:"include"})];case 1:if(200!==(e=t.sent()).status)throw Error("failed to access control token for user");return[4,e.json()];case 2:return[2,t.sent().accessControlToken]}})})()}function x(){return document.cookie.includes("_nf-auth-hint")}function E(e){var t,n,r,i,a=e.provider,c=e.url,u=e.target,s=(t=_[void 0===a?"github":a]||_.github,n=Math.min(window.screen.width,t.width),r=t.height,i=(window.screen.width-n)/2,{top:Math.max((window.screen.height-r)/2,0),left:i,width:n,height:r}),l=s.top,f=s.left,d=s.width,p=s.height;return(o=window.open(void 0===c?"":c,void 0===u?"auth":u,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=".concat(d,",height=").concat(p,",top=").concat(l,",left=").concat(f)))&&o.focus(),o}function T(){o&&o.close()}let q=function(){function e(t){h(this,e),m(this,"base_url",void 0),m(this,"site_id",void 0),m(this,"useAuthWindow",void 0),this.site_id=t.site_id||t.siteId,this.base_url=t.base_url||t.apiBase||"https://api.netlify.com",this.useAuthWindow=t.useAuthWindow}return v(e,[{key:"open",value:function(e,t){var n=e.url,r=e.provider;this.handshake(r,t),E({provider:r,url:n})}},{key:"done",value:function(e){_[e.provider].closeWindow&&T()}},{key:"postMessage",value:function(e,t,n){try{o.postMessage(e,t)}catch(e){a().notify(e,function(e){e.context="netlify-auth ﹥ postMessage"}),c.L.addAction("CustomError",{error:e,errorType:"AuthPostMessageError",provider:n})}}},{key:"handshake",value:function(e,t){var n=this,r=function(o){var i=o.origin,a=o.data;i===n.base_url&&a==="authorizing:".concat(e)&&(window.removeEventListener("message",r,!1),n.authorize(e,t),n.postMessage(a,i,e))};window.addEventListener("message",r,!1)}},{key:"authorize",value:function(e,t){var n=this,r=function(o){var i=o.origin,a=o.data;if(i===n.base_url){if(0===a.indexOf("authorization:".concat(e,":success:"))){var c=JSON.parse(a.match(new RegExp("^authorization:".concat(e,":success:(.+)$")))[1]);window.removeEventListener("message",r,!1),n.done({provider:e}),t(null,c)}if(0===a.indexOf("authorization:".concat(e,":error:"))){var u=JSON.parse(a.match(new RegExp("^authorization:".concat(e,":error:(.+)$")))[1]);window.removeEventListener("message",r,!1),n.done({provider:e}),t(new j(u))}}};window.addEventListener("message",r,!1)}},{key:"getSiteID",value:function(){if(this.site_id)return this.site_id;var e=document.location.host.split(":")[0];return"localhost"===e?null:e}},{key:"authenticate",value:function(e,t){var n,r,o,i,a,c=this.getSiteID(),l=e.provider,d=!this.useAuthWindow&&e.redirect,p=O(),h=(0,s.Hd)("tracking_session_id");if(!l)return t(new j({message:"You must specify a provider when calling netlify.authenticate"}));if(!c)return t(new j({message:'You must set a site_id with netlify.configure({site_id: "your-site-id"}) to make authentication work from localhost'}));if(d&&"email"===l&&!e.email)return a=(e.signup?"/signup":"/login")+"/email",p&&(a+="?"+p),f.N.push(a);a=function(e){var t=e.provider,n=e.siteID,r=e.trackingSessionId,o=e.baseUrl,i=e.redirect,a=e.next,c=e.accountId,u=e.scope,s=e.login,l=e.beta_invite,f=e.skipOnboarding,d=e.reviewer,p=e.signup,h=e.utmParams,y="auth";i&&"email"===t&&(y=d||p?"auth/signup":"auth/login");var v=new URL(y,o);if(v.searchParams.append("provider",t),v.searchParams.append("site_id",n),v.searchParams.append("tracking_session_id",r),c&&v.searchParams.append("account_id",c),u&&v.searchParams.append("scope",u),!0===s&&v.searchParams.append("login","true"),l&&v.searchParams.append("beta_invite",l),f&&v.searchParams.append("skip_guided_onboarding","1"),i){var m="string"==typeof i&&/^http/.test(i)?window.encodeURIComponent(i):"".concat(window.location.origin).concat(!0===i?a||"/":i);v.searchParams.set("redirect",m)}if(a&&!1!==i){var b=new URL(a,window.location.origin).toString();v.searchParams.set("redirect",b),v.searchParams.set("use_redirect","true")}var g=v.toString();return h&&(g+="&".concat(h)),g}({provider:l,siteID:c,trackingSessionId:h||"",baseUrl:this.base_url,redirect:d,next:e.next,accountId:e.accountId,scope:e.scope,login:e.login,beta_invite:e.beta_invite,skipOnboarding:e.skipOnboarding,reviewer:e.reviewer,signup:e.signup,utmParams:p});var y={email:e.email,password:e.password,invite_code:e.invite_code,no_autosignup:!e.signup,redirect:window.location.origin};(e.reviewer&&(y.full_name=e.full_name,y.jobrole=e.jobrole,y.reviewer_signup=e.reviewer_signup,y.redirect=e.redirect),d)?"email"===l?(n={url:a,data:y,signup:e.signup},r=n.url,o=n.data,i=n.signup,fetch(r,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(function(e){return e.json()}).then(function(e){if("success"===e.state||e.redirect_uri)t(null,e.data||e);else{var n=e.message;i&&/No user found/.test(n)&&(e.message="An account with this email already exists"),t(new u.A(e))}}).catch(function(e){return t(new u.A(e))})):window.location.href=a:this.open({url:a,provider:l},t)}}]),e}()},13487:(e,t,n)=>{n.d(t,{Hq:()=>i.H,b2:()=>i.b,h1:()=>r.h,vJ:()=>o.v});var r=n(73700),o=n(81036),i=n(73270)},15644:(e,t,n)=>{n.d(t,{b:()=>r});function r(e){var t,n=document.querySelector("link[rel='icon'][type='image/x-icon']");n&&(null==(t=n.parentNode)||t.removeChild(n)),(document.querySelectorAll("link[rel='icon'][sizes]")||[]).forEach(function(t){var n=t.getAttribute("sizes");t.setAttribute("href","/favicon-".concat("prod","-").concat("remote","-").concat(e,"-").concat(n,".png"))})}},18701:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function c(e){o(a,r,i,c,u,"next",e)}function u(e){o(a,r,i,c,u,"throw",e)}c(void 0)})}}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}n.d(t,{MJ:()=>m}),n(99895),n(96359);var u={listFrameworks:function(e){return i(function(){return c(this,function(t){switch(t.label){case 0:return[4,n.e(6014).then(n.t.bind(n,95589,23))];case 1:return[2,t.sent().listFrameworks(e)]}})})()}},s={"jekyll with no gemfile":`It looks like this is a **Jekyll** project, but you don't have a **Gemfile**.
This will most likely lead to a broken build.
Check out our [Migrating your Jekyll project to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your project.`,"jekyll not in gemfile":`It looks like this is a **Jekyll** project, but your **Gemfile** doesn’t list
Jekyll as a dependency. This will most likely lead to a broken build.
Check out our [Migrating your Jekyll project to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your project.`,"error parsing package.json":`You have a malformed package.json in your folder. This will most likely lead to a
broken build when attempting to install your npm dependencies.`,"repository uses large media":`**This repository uses Netlify Large Media**

Repository files tracked by the Large Media service are stored with the original project. These files cannot be accessed in clones or forks. Contact the original repository owner for possible alternatives.`},l=function(e){var t=e.plugins,n=e.context,r=void 0===n?{}:n,o=void 0===t?[]:t;return Object.keys(r).forEach(function(e){r[e].plugins&&o.push.apply(o,a(r[e].plugins))}),a(new Set(o.map(function(e){return e.package})))},f=function(e){if(!e)return{};var t,n,r,o={cmd:void 0,dir:void 0,functions_dir:void 0,template:void 0};try{r=TOML.parse(e)}catch(e){return Bugsnag.notify(e,function(e){e.context="getNetlifyTomlSettings => TOML.parse",e.severity="info"}),o}(null==r?void 0:r.build)&&(o.cmd=r.build.command,o.dir=r.build.publish),o.functions_dir=(null==r||null==(t=r.build)?void 0:t.functions)||(null==r||null==(n=r.functions)?void 0:n.directory),(null==r?void 0:r.template)&&(o.template=r.template);var i=l(r);return i.length&&(o.plugins_installed=i),o},d=function(e,t){if(!t["package.json"])return{};try{r=JSON.parse(t["package.json"])}catch(e){return{}}var n,r,o=e.includes("yarn.lock")?"yarn":"npm run";return(null==r||null==(n=r.scripts)?void 0:n.build)?{cmd:"".concat(o," build")}:{}},p=function(e,t){var n,r,o=(null==(n=t[".nvmrc"])?void 0:n.trim())||"22";try{r=t["package.json"]?JSON.parse(t["package.json"]):{}}catch(e){r={}}return{pathExists:function(t){var n=t.startsWith("./")?t.slice(2):t;return e.includes(n)},packageJson:r,nodeVersion:o}},h=function(e){var t=function(e){var t=e.netlify,n=e.functions;if((!t||!Array.isArray(t))&&(!n||!Array.isArray(n)))return null;if(t){var r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value;if("netlify/functions"===u.path&&"dir"===u.type)return{functions_dir:u.path}}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}if(!n)return null}return{functions_dir:"functions"}}(e);return t||{}},y=function(e){var t,n,r=e.netlifyTomlSettings,o=e.packageJsonSettings,i=e.frameworksLibSettings,a=e.functionsSettings,c=e.visualEditorSettings,u={cmd:void 0,dir:void 0,template:void 0,functions_dir:void 0,plugins_installed:void 0,plugins_recommended:void 0,framework:void 0,frameworkName:void 0,visualEditorSettings:{hasConfig:!1}};return[r,o,i,a].forEach(function(e){e&&Object.keys(e).forEach(function(t){u[t]=u[t]||e[t]})}),!u.dir&&u.cmd&&(u.dir="dist/"),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},u),n=n={visualEditorSettings:c},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.reduce(function(t,r){return e.includes(r)&&!n.includes(r)?t:a(t).concat([{package:r}])},[])},m=function(e){var t=["stackbit.config.js","stackbit.config.cjs","stackbit.config.mjs","stackbit.config.ts"];return{hasConfig:null==e?void 0:e.some(function(e){return t.includes(e.name)||t.includes(e.path)})}}},18740:(e,t,n)=>{n.d(t,{A:()=>O});var r=n(85342),o=n(49262),i=n(77596),a=n(55154),c=n(45235),u=n(20625);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}function b(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var g="/api/experiments",w=["headers","parseJsonResponse","request","postRequest"],k=`We’re having some trouble connecting you to Netlify.

This error may be caused by an ad blocker or browser extension. You can try disabling blocking on this page or running in incognito`,O=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");return d(this,"token",void 0),d(this,"root",void 0),d(this,"mockRoot",void 0),d(this,"siteDomain",void 0),d(this,"siteId",void 0),d(this,"apiBase",void 0),this.token=e.get("accessToken"),this.apiBase=e.get("apiBase"),this.root=e.get("clientApiBase")||e.get("apiBase")||"https://api.netlify.com",this.mockRoot=e.get("mockApiBase"),this.siteDomain=e.get("siteDomain")||"netlify.app",this.siteId=e.get("siteId"),new Proxy(this,{get:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if("function"==typeof e[t]&&!w.includes(t.toString())){var i,c,u=(c=Reflect).get.apply(c,[e,t].concat(v(r))),s=t.toString();return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=(0,a.Df)("api-".concat(s,"-start")),i=u.apply(e,n);return i.then?new Promise(function(e,t){i.then(function(t){var n=(0,a.Df)("api-".concat(s,"-end"),{rejected:!1});return(0,a.QR)("api-".concat(s,"-complete"),o,n),e(t)}).catch(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=(0,a.Df)("api-".concat(s,"-end"),{rejected:!0});return(0,a.QR)("api-".concat(s,"-complete"),o,i),t.apply(void 0,v(n))})}):i}}return(i=Reflect).get.apply(i,[e,t].concat(v(r)))}})}return e=[{key:"headers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r={};return(this.token||n)&&!t&&(r.Authorization="Bearer ".concat(n||this.token)),p({"Content-Type":"application/json"},r,e)}},{key:"parseJsonResponse",value:function(e){var t=!1;return e.json().then(function(n){return t=!0,e.ok?{data:n,pagination:(0,u.nA)(e)}:Promise.reject(n)}).catch(function(n){return t?Promise.reject(n):Promise.reject({status:e.status})})}},{key:"request",value:function(e){return f(function(e){var t,n,i,a,c,u,s,l,f=arguments;return b(this,function(d){switch(d.label){case 0:if(t=this,i=!(n=f.length>1&&void 0!==f[1]?f[1]:{}).forceUseApiBase,!(n.forceUseApiBase&&(0,o.s$)()))return[3,2];return[4,(0,o.kP)()];case 1:a=d.sent(),d.label=2;case 2:return"delete"===(c=this.headers(n.headers||{},i,a))["Content-Type"]&&delete c["Content-Type"],u=n.forceUseApiBase&&this.apiBase?this.apiBase:this.root,n.retryWithMockServer&&this.mockRoot&&(u=this.mockRoot),s=n.noPrefix?u+e:u+(n.prefix||"/api/v1")+e,l={},i&&(l.credentials="include"),[2,fetch(s,h(p({},l,n),{headers:c})).then(function(e){if(n.raw&&e.ok)return e.arrayBuffer();var r=e.headers.get("Content-Type");return r&&r.match(/json/)?t.parseJsonResponse(e):e[r&&r.match(/(text|javascript|xml|svg)/i)?"text":"arrayBuffer"]().then(function(t){return e.ok?{data:t,status:e.status}:Promise.reject(e)})}).catch(function(e){var t;if(/Failed to fetch/.test(e))t=new r.A(k);else{var n=e.status,o=e.code,i=y(e,["status","code"]);t=new r.A(p({code:n||o},i))}return Promise.reject(t)})]}})}).apply(this,arguments)}},{key:"postRequest",value:function(e,t){var n={method:"POST"};return t&&(n.body=t),this.request(e,n)}},{key:"enableAnalytics",value:function(e){return this.request("/sites/".concat(e,"/analytics"),{method:"POST"})}},{key:"deleteAnalytics",value:function(e,t){return this.request("/sites/".concat(e,"/analytics/").concat(t),{method:"DELETE"})}},{key:"site",value:function(e){return this.request("/sites/".concat(e,".").concat(this.siteDomain))}},{key:"siteAvailability",value:function(e,t){return this.request("/site_availability/".concat(e),t)}},{key:"siteFirewallRuleSet",value:function(e){return this.request("/sites/".concat(e,"/firewall_rule_set"))}},{key:"updateSiteFirewallRuleSet",value:function(e,t){return this.request("/sites/".concat(e,"/firewall_rule_set"),{method:"PUT",body:JSON.stringify(t)})}},{key:"deleteSiteFirewallRuleSet",value:function(e){return this.request("/sites/".concat(e,"/firewall_rule_set"),{method:"DELETE"})}},{key:"getAccountTrafficRulesConfigs",value:function(e){return this.request("/accounts/".concat(e,"/traffic_rules_configs"))}},{key:"createAccountTrafficRulesConfig",value:function(e,t){return this.request("/accounts/".concat(e,"/traffic_rules_config/"),{method:"POST",body:JSON.stringify(t)})}},{key:"updateAccountTrafficRulesConfig",value:function(e,t,n){return this.request("/accounts/".concat(e,"/traffic_rules_config/").concat(t),{method:"PUT",body:JSON.stringify(n)})}},{key:"deleteAccountTrafficRulesConfig",value:function(e,t){return this.request("/accounts/".concat(e,"/traffic_rules_config/").concat(t),{method:"DELETE"})}},{key:"getAccountLevelTrafficRulesConfig",value:function(e,t){var n="/accounts/".concat(e,"/traffic_rules_config");return t&&(n+="?scope=".concat(t)),this.request(n,{method:"GET"})}},{key:"setAccountLevelTrafficRulesConfig",value:function(e,t,n){return this.request("/accounts/".concat(e,"/traffic_rules_config"),{method:"PUT",body:JSON.stringify({config_id:t,scope:n})})}},{key:"getSiteLevelTrafficRulesConfig",value:function(e,t){return this.request("/sites/".concat(e,"/traffic_rules_config?scope=").concat(t),{method:"GET"})}},{key:"setSiteLevelTrafficRulesConfig",value:function(e,t,n){return this.request("/sites/".concat(e,"/traffic_rules_config"),{method:"PUT",body:JSON.stringify({config_id:t,scope:n})})}},{key:"updateSiteCover",value:function(e,t){var n=new FormData;return n.append("file",t),this.request("/sites/".concat(e,"/cover"),{method:"POST",body:n,headers:{"Content-Type":"delete"}})}},{key:"deleteSiteCover",value:function(e){return this.request("/sites/".concat(e,"/cover"),{method:"DELETE"})}},{key:"unlinkSiteRepository",value:function(e){return this.request("/sites/".concat(e,"/unlink_repo"),{method:"PUT"})}},{key:"siteById",value:function(e){return this.request("/sites/".concat(e))}},{key:"sites",value:function(e){var t=e.page,n=e.perPage,r=e.searchTerm,o=e.searchGlobally,i=e.visibility,a=e.creator,c=e.sortBy,u=e.orderBy,s=e.labelIds,l=e.accountSlug,f=e.token,d=e.hasVisualEditor,p="";return!o&&l&&(p+="/".concat(l)),p+="/sites?filter=".concat("me"===a?"owner":"all","&sort_by=").concat(c||"published_at","&order_by=").concat(u||"asc","&page=").concat(t||1,"&per_page=").concat(n||15),r&&(p+="&name=".concat(r)),f&&(p+="&token=".concat(f)),i&&(p+="&visibility=".concat(i)),s&&(p+="&label_ids=".concat(s.join(","))),void 0!==d&&(p+="&visual_editor_active=".concat(d)),p+="&include_favorites=true",this.request(p)}},{key:"siteSnippets",value:function(e){return this.request("/sites/".concat(e,"/snippets"))}},{key:"siteSnippetRemove",value:function(e,t){return this.request("/sites/".concat(e,"/snippets/").concat(t),{method:"DELETE"})}},{key:"siteSnippetAdd",value:function(e,t){return this.postRequest("/sites/".concat(e,"/snippets"),JSON.stringify(t))}},{key:"siteBuildHooks",value:function(e){return this.request("/sites/".concat(e,"/build_hooks"))}},{key:"addBuildHook",value:function(e,t){return this.request("/sites/".concat(e,"/build_hooks"),{method:"POST",body:JSON.stringify(t)})}},{key:"removeBuildHook",value:function(e,t){return this.request("/sites/".concat(e,"/build_hooks/").concat(t),{method:"DELETE"})}},{key:"siteDevServerHooks",value:function(e){return this.request("/sites/".concat(e,"/dev_server_hooks"))}},{key:"addDevServerHook",value:function(e,t){return this.request("/sites/".concat(e,"/dev_server_hooks"),{method:"POST",body:JSON.stringify(t)})}},{key:"removeDevServerHook",value:function(e,t){return this.request("/sites/".concat(e,"/dev_server_hooks/").concat(t),{method:"DELETE"})}},{key:"branches",value:function(e){return this.request("/sites/".concat(e,"/deployed-branches"))}},{key:"getEnvVars",value:function(e){var t=e.accountId,n=e.siteId,r=void 0===n?"":n,o=e.scope,i=e.context,a=e.merge,c=[r&&"site_id=".concat(r),"scope=".concat(void 0===o?"all":o),"context=".concat(void 0===i?"all":i),(void 0===a||a)&&"level=all"].filter(Boolean).join("&");return this.request("/accounts/".concat(void 0===t?"":t,"/env?").concat(c))}},{key:"createEnvVars",value:function(e){var t=e.accountId,n=e.siteId,r=void 0===n?"":n,o=e.envVars,i=[r&&"site_id=".concat(r),"client=ui"].filter(Boolean).join("&");return this.request("/accounts/".concat(void 0===t?"":t,"/env?").concat(i),{method:"POST",body:JSON.stringify(void 0===o?[]:o)})}},{key:"updateEnvVar",value:function(e){var t=e.accountId,n=e.siteId,r=void 0===n?"":n,o=e.oldKey,i=e.newKey,a=e.is_secret,c=e.scopes,u=e.values,s=[r&&"site_id=".concat(r),"client=ui"].filter(Boolean).join("&");return this.request("/accounts/".concat(void 0===t?"":t,"/env/").concat(void 0===o?"":o,"?").concat(s),{method:"PUT",body:JSON.stringify({key:void 0===i?"":i,is_secret:void 0!==a&&a,scopes:void 0===c?[]:c,values:void 0===u?[]:u})})}},{key:"setEnvVarValue",value:function(e){var t=e.accountId,n=e.siteId,r=void 0===n?"":n,o=e.key,i=e.context,a=e.context_parameter,c=e.value,u=[r&&"site_id=".concat(r),"client=ui"].filter(Boolean).join("&");return this.request("/accounts/".concat(void 0===t?"":t,"/env/").concat(void 0===o?"":o,"?").concat(u),{method:"PATCH",body:JSON.stringify({context:void 0===i?"":i,context_parameter:a,value:void 0===c?"":c})})}},{key:"deleteEnvVar",value:function(e){var t=e.accountId,n=e.siteId,r=void 0===n?"":n,o=e.key,i=e.id,a=void 0===i?"":i,c=[r&&"site_id=".concat(r),"client=ui"].filter(Boolean).join("&");return this.request("/accounts/".concat(void 0===t?"":t,"/env/").concat(void 0===o?"":o).concat(a?"/value/".concat(a):"","?").concat(c),{method:"DELETE"})}},{key:"deploy",value:function(e){return this.request("/deploys/".concat(e))}},{key:"deploys",value:function(e,t){var n=t.page,r=t.perPage,o=t.filter,i=t.state,a=t.minimal,c=t.from,u=t.to,s="/sites/".concat(e,"/deploys?page=").concat(n||1,"&per_page=").concat(r||15);return o&&("deploy previews"===o?s+="&deploy-previews=true":s+="&branch=".concat(o)),i&&(s+="&state=".concat(i)),a&&(s+="&minimal=true"),c&&(s+="&from=".concat(c)),u&&(s+="&to=".concat(u)),this.request(s)}},{key:"deployLog",value:function(e){return this.request("/deploys/".concat(e,"/log")).then(function(e){var t;return(null==e||null==(t=e.data)?void 0:t.url)&&fetch(e.data.url).then(function(e){return e.json()})})}},{key:"deploySummary",value:function(e){return this.request("/deploys/".concat(e,"/summary"))}},{key:"deployCommitters",value:function(e){return this.request("/deploys/".concat(e,"/committers"),{prefix:g})}},{key:"createDevServer",value:function(e,t,n){return this.request("/sites/".concat(e,"/dev_servers").concat(t?"?branch=".concat(t):""),{method:"POST",body:JSON.stringify({clear_cache:!!n})})}},{key:"shutdownDevServer",value:function(e,t){return this.request("/sites/".concat(e,"/dev_servers?branch=").concat(t),{method:"DELETE",raw:!0})}},{key:"devServers",value:function(e,t){var n=t.page,r=t.perPage,o=t.filter,i=t.state,a=t.minimal,c=t.from,u=t.to,s="/sites/".concat(e,"/dev_servers?page=").concat(n||1,"&per_page=").concat(r||15);return o&&(s+="&branch=".concat(o)),i&&(s+="&state=".concat(i)),a&&(s+="&minimal=true"),c&&(s+="&from=".concat(c)),u&&(s+="&to=".concat(u)),this.request(s)}},{key:"activeDevServers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.branches,r=t.includeAll,o=new URLSearchParams;return null==n||n.forEach(function(e){o.append("branches[]",e)}),r&&o.set("include_all","true"),this.request("/sites/".concat(e,"/dev_servers/active?").concat(o.toString()))}},{key:"devServer",value:function(e,t){return this.request("/sites/".concat(e,"/dev_servers/").concat(t))}},{key:"lookupDevServer",value:function(e){return this.request("/dev_servers/lookup?domain=".concat(e),{method:"POST"})}},{key:"devServerMetrics",value:function(e,t,n,r){var o="/sites/".concat(e,"/dev_servers/").concat(t,"/metrics");return n&&(o+="?from=".concat(n)),r&&(o+="&to=".concat(r)),this.request(o)}},{key:"fetchPullRequest",value:function(e){return this.request("/cdp/deploys/".concat(e))}},{key:"deployActivity",value:function(e){return this.request("/cdp/deploys/".concat(e,"/events"))}},{key:"inviteCommitter",value:function(e,t){return this.request("/deploys/".concat(e,"/invite"),{prefix:g,method:"POST",body:JSON.stringify({committer:t})})}},{key:"deployPluginRuns",value:function(e){return this.request("/deploys/".concat(e,"/plugin_runs"))}},{key:"buildHooks",value:function(e){return this.request("/sites/".concat(e,"/build_hooks"))}},{key:"devServerHooks",value:function(e){return this.request("/sites/".concat(e,"/dev_server_hooks"))}},{key:"publishDeploy",value:function(e){return this.request("/deploys/".concat(e,"/restore"),{method:"POST"})}},{key:"triggerDeploy",value:function(e,t,n){return this.request("/sites/".concat(e,"/builds"),{method:"POST",body:JSON.stringify({clear_cache:t,template_id:n})})}},{key:"createDeployKey",value:function(){return this.request("/deploy_keys",{method:"POST"})}},{key:"getDeployKey",value:function(e){return this.request("/deploy_keys/".concat(e))}},{key:"createSite",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.account_slug;return this.request(t?"/".concat(t,"/sites"):"/sites",{method:"POST",body:JSON.stringify(e)})}},{key:"createDeploy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("/sites/".concat(e,"/deploys"),{method:"POST",body:JSON.stringify(t)})}},{key:"siteDeploy",value:function(e,t){return this.request("/sites/".concat(e,"/deploys/").concat(t))}},{key:"updateSite",value:function(e,t){return this.request("/sites/".concat(e),{method:"PUT",body:JSON.stringify(t)})}},{key:"analyzeSiteRepoContentForVisualEditing",value:function(e,t){var n,r={repoUrl:t.repoUrl,branch:t.branch,options:{runnableDir:null!=(n=t.runnableDir)?n:"",validateAppAccess:!1,validateContent:!0}};return this.request("/sites/".concat(e,"/visual_editor/analyze_repo"),{method:"POST",body:JSON.stringify(r)})}},{key:"enableSite",value:function(e){return this.request("/sites/".concat(e,"/enable"),{method:"PUT"})}},{key:"disableSite",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.request("/sites/".concat(e,"/disable"),{method:"PUT",body:JSON.stringify({reason:t})})}},{key:"deleteSite",value:function(e){return this.request("/sites/".concat(e),{method:"DELETE"})}},{key:"uploadFile",value:function(e,t,n,r){var o="/deploys/".concat(e,"/files").concat(t),i={"Content-Type":"application/octet-stream"};return r&&(i.Authorization="Bearer ".concat(r)),this.request(o,{method:"PUT",body:n,headers:i,forceUseApiBase:!0})}},{key:"waitForDeploy",value:function(e){var t=this;return new Promise(function(n,r){var o=function(){t.deploy(e).then(function(e){var t;if((null==(t=e.data)?void 0:t.state)==="ready")return n(e);setTimeout(o,1e3)}).catch(r)};o()})}},{key:"waitForSiteDeploy",value:function(e){var t=this;return new Promise(function(n,r){var o=function(){t.site(e).then(function(e){var t;if(null==(t=e.data)?void 0:t.deploy_id)return n(e);setTimeout(o,1e3)}).catch(r)};o()})}},{key:"dnsZones",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.request(e?"/dns_zones?account_slug=".concat(e,"&page=").concat(t):"/dns_zones?page=".concat(t))}},{key:"dnsZonePath",value:function(e){return"/dns_zones/".concat(e.replace(/\./g,"_"))}},{key:"dnsZone",value:function(e){return this.request(this.dnsZonePath(e))}},{key:"createDnsZone",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("/dns_zones",{method:"POST",body:JSON.stringify(h(p({},n),{name:e,account_slug:t}))})}},{key:"enableDnsZoneIPv6",value:function(e){var t=this.dnsZonePath(e);return this.request("".concat(t,"/enable-ipv6"),{method:"PUT"})}},{key:"destroyDnsZone",value:function(e){return this.request(this.dnsZonePath(e),{method:"DELETE"})}},{key:"transferDnsZone",value:function(e,t){var n=t.account_id,r=t.transfer_account_id,o=t.transfer_user_id;return this.request("".concat(this.dnsZonePath(e),"/transfer"),{method:"PUT",body:JSON.stringify({account_id:n,transfer_account_id:r,transfer_user_id:o})})}},{key:"addDomainAlias",value:function(e,t){return this.request("/sites/".concat(e,"/domain_alias"),{method:"POST",body:JSON.stringify({domain_alias:t})})}},{key:"removeDomainAlias",value:function(e,t){return this.request("/sites/".concat(e,"/domain_alias/").concat(t),{method:"DELETE"})}},{key:"domainsPath",value:function(e){return"/domains-next/".concat(e.replace(/\./g,"_"))}},{key:"toggleDomainAutoRenew",value:function(e,t,n){return this.request("".concat(this.domainsPath(e),"/auto-renew"),{method:"PUT",body:JSON.stringify({account_id:t,auto_renew:n})})}},{key:"dnsRecords",value:function(e){return this.request("".concat(this.dnsZonePath(e),"/dns_records"))}},{key:"verifyDnsRecord",value:function(e){return this.request("/dns_records/verify",{method:"POST",body:JSON.stringify(e)})}},{key:"dnsRecord",value:function(e,t){return this.request("".concat(this.dnsZonePath(e),"/dns_records/").concat(t))}},{key:"createDnsRecord",value:function(e,t){return this.request("".concat(this.dnsZonePath(e),"/dns_records"),{method:"POST",body:JSON.stringify(t)})}},{key:"destroyDnsRecord",value:function(e,t){return this.request("".concat(this.dnsZonePath(e),"/dns_records/").concat(t),{method:"DELETE"})}},{key:"listDeployFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.page,r=t.perPage,o=n&&r?"?page=".concat(n,"&per_page=").concat(r):"";return this.request("/deploys/".concat(e,"/files").concat(o))}},{key:"downloadDeployFile",value:function(e,t){return this.request("/deploys/".concat(e,"/files").concat(t),{forceUseApiBase:!0,raw:!0,headers:{"Content-Type":"application/vnd.bitballoon.v1.raw"}})}},{key:"largeMediaAssets",value:function(e,t){var n=t.page,r=t.perPage,o=t.filter;return this.request("/large_media_assets/?site_id=".concat(e,"&page=").concat(n||1,"&per_page=").concat(r||15).concat(o?"&name=".concat(o):""))}},{key:"user",value:function(){return this.request("/user")}},{key:"updateUser",value:function(e){return this.request("/user",{method:"PUT",body:JSON.stringify(e)})}},{key:"updateUserQuestionnaireTelemetry",value:function(e){return this.request("/users/".concat(e.userId,"/questionnaire"),{method:"PUT",body:JSON.stringify(e)})}},{key:"updateUserAvatar",value:function(e){var t=new FormData;return t.append("file",e),this.request("/users/avatar",{method:"POST",body:t,headers:{"Content-Type":"delete"}})}},{key:"deleteUserAvatar",value:function(){return this.request("/users/avatar",{method:"DELETE"})}},{key:"generateCreateAuthJwt",value:function(e){return this.request("/users/create_auth_jwt",{method:"POST",body:JSON.stringify({create_env:e})})}},{key:"receiptPdf",value:function(e){return this.request("/billing/receipts/".concat(e),{raw:!0,headers:{Accept:"application/pdf"}})}},{key:"updateBilling",value:function(e){return this.request("/billing",{method:"PUT",body:JSON.stringify(e)})}},{key:"paymentProviderToken",value:function(e){var t=e.sandbox,n=e.accountId,r=e.enterpriseException,o="/billing/client_token?sandbox=".concat(~~!!t,"&legacy=0");return n&&(o+="&account_id=".concat(n)),r&&(o+="&enterprise_exception=".concat(~~!!r)),o+="&token_type=rsa_signature",this.request(o,{method:"POST"})}},{key:"paymentMethod",value:function(e){return this.request("/billing/payment_methods/".concat(e))}},{key:"paymentMethodOrb",value:function(e){return this.request("/accounts/".concat(e,"/payment_methods"))}},{key:"createStripePaymentCustomer",value:function(e,t){return this.postRequest("/accounts/".concat(e,"/register_customer"),JSON.stringify({stripe_customer_id:t}))}},{key:"updateStripePaymentCustomer",value:function(e){return this.postRequest("/accounts/".concat(e,"/payment_methods/refresh"),JSON.stringify({}))}},{key:"saveStripePaymentMethod",value:function(e,t,n){return this.postRequest("/accounts/".concat(e,"/payment_methods"),JSON.stringify({stripe_payment_method_id:t,is_cc_ref:n}))}},{key:"deleteStripePaymentMethod",value:function(e){return this.request("/accounts/".concat(e,"/payment_methods"),{method:"DELETE"})}},{key:"savePaymentMethod",value:function(e){var t=e.customer_id,n=e.sandbox,r=e.enterpriseException;if(!t)return Promise.reject("Missing customer_id in attributes");var o="/accounts/payments?customer_id=".concat(t,"&gateway=zuora_").concat(n?"sandbox":"production");return r&&(o+="&enterprise_exception=".concat(~~!!r)),this.postRequest(o,JSON.stringify(e))}},{key:"removePaymentMethod",value:function(e){return this.request("/billing/payment_methods/".concat(e),{method:"DELETE"})}},{key:"payBalance",value:function(e){return this.request("/accounts/".concat(e,"/pay_balance"),{method:"POST"})}},{key:"accountDevServersSummary",value:function(e){return this.request("/accounts/".concat(e,"/dev_servers/summary"))}},{key:"members",value:function(e){return this.request("/sites/".concat(e,"/members"))}},{key:"updateProductionSite",value:function(e,t){return this.request("/sites/".concat(e),{method:"PATCH",body:JSON.stringify({production_site:t})})}},{key:"certificate",value:function(e){return this.request("/sites/".concat(e,"/ssl"))}},{key:"updateSsl",value:function(e,t,n){var r="/sites/".concat(e,"/ssl");return n&&(r+="/".concat(n)),this.postRequest(r,JSON.stringify(t))}},{key:"verifySsl",value:function(e){return this.request("/sites/".concat(e,"/ssl/verify_custom_domain"))}},{key:"acceptInvite",value:function(e){return this.postRequest("/invites/".concat(e,"/accept"))}},{key:"hooks",value:function(e){return this.request("/hooks?site_id=".concat(e))}},{key:"hookTypes",value:function(e){return this.request("/hooks/types?site_id=".concat(e))}},{key:"addHook",value:function(e){return this.request("/hooks",{method:"POST",body:JSON.stringify(e)})}},{key:"updateHook",value:function(e,t){return this.request("/hooks/".concat(e),{method:"PUT",body:JSON.stringify(t)})}},{key:"deleteHook",value:function(e){return this.request("/hooks/".concat(e),{method:"DELETE"})}},{key:"enableHook",value:function(e){return this.request("/hooks/".concat(e,"/enable"),{method:"POST"})}},{key:"siteForms",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.page,r=t.perPage,o="/sites/".concat(e,"/forms");return o+="?page=".concat(n||1,"&per_page=").concat(r||15),this.request(o)}},{key:"siteForm",value:function(e,t){return this.request("/sites/".concat(e,"/forms/").concat(t))}},{key:"formSubmissions",value:function(e,t){var n=t.formId,r=t.page,o=t.perPage,i=t.filter,a=n?"/sites/".concat(e,"/forms/").concat(n,"/submissions?"):"/sites/".concat(e,"/submissions?");return a+="state=".concat(i||"ham","&"),a+="page=".concat(r||1,"&per_page=").concat(o||15),this.request(a)}},{key:"markSubmissionAsHam",value:function(e,t){return this.request("/submissions/".concat(t,"/ham"),{method:"PUT"})}},{key:"markSubmissionAsSpam",value:function(e,t){return this.request("/submissions/".concat(t,"/spam"),{method:"PUT"})}},{key:"functions",value:function(e,t){var n="/sites/".concat(e,"/functions");return t&&(n+="?filter=".concat(encodeURIComponent(t))),this.request(n)}},{key:"fetchEdgeAccessToken",value:function(e,t){return this.request("/auth/edge-access",{noPrefix:!0,method:"POST",body:JSON.stringify({site_id:e,domain:t})})}},{key:"edgeFunctions",value:function(e){return this.request("/deploys/".concat(e,"/edge_functions"))}},{key:"authProviders",value:function(e){return this.request("/sites/".concat(e,"/authentication_providers"))}},{key:"createAuthProvider",value:function(e,t,n,r){return this.request("/sites/".concat(e,"/authentication_providers"),{method:"POST",body:JSON.stringify({name:t,provider:t,api_id:n,api_secret:r})})}},{key:"removeAuthProvider",value:function(e,t){return this.request("/sites/".concat(e,"/authentication_providers/").concat(t),{method:"DELETE"})}},{key:"setupMultiFactorAuth",value:function(){return this.request("/user/multifactor_auth/setup")}},{key:"enableMultiFactorAuth",value:function(e){var t=e.otp,n=e.token;return this.request("/user/multifactor_auth",{method:"POST",body:JSON.stringify({otp:t,token:n})})}},{key:"disableMultiFactorAuth",value:function(e){var t=e.otp;return this.request("/user/multifactor_auth",{method:"DELETE",body:JSON.stringify({otp:t})})}},{key:"verifyLogin",value:function(e){var t=e.otp,n=e.token;return this.request("/user/multifactor_auth/verify_login",{method:"POST",body:JSON.stringify({otp:t}),headers:{Authorization:"Bearer ".concat(n)}})}},{key:"application",value:function(e){return this.request("/oauth/applications/".concat(e))}},{key:"applications",value:function(){return this.request("/oauth/applications")}},{key:"createApplication",value:function(e){return this.request("/oauth/applications",{method:"POST",body:JSON.stringify(e)})}},{key:"updateApplication",value:function(e,t){return this.request("/oauth/applications/".concat(e),{method:"PUT",body:JSON.stringify(t)})}},{key:"removeApplication",value:function(e){return this.request("/oauth/applications/".concat(e),{method:"DELETE"})}},{key:"verifyUserByToken",value:function(e){var t,n=(t=e.split("-"),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(t,2)||m(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],o=n[1];return this.request("/auth/verify",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:r,code:o})})}},{key:"verifySamlUserByToken",value:function(e,t){return this.request("/auth/verify-saml",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:e,code:t})})}},{key:"verifyUser",value:function(e,t){return this.request("/users/".concat(e,"/confirm_email"),{method:"PUT",body:JSON.stringify({secret:t})})}},{key:"resetPasswordEmail",value:function(e){return this.request("/password_reset",{method:"POST",body:JSON.stringify({email:e})})}},{key:"resetPassword",value:function(e,t,n){return this.request("/password_reset",{method:"PUT",body:JSON.stringify({token:e,password:t,password_confirmation:n})})}},{key:"resendVerifyEmail",value:function(e,t){return this.request("/auth/resend-verify-email",{noPrefix:!0,method:"POST",body:JSON.stringify({email:e,saml_account_slug:t})})}},{key:"authorizeApplication",value:function(e){return this.request("/oauth/authorize",{noPrefix:!0,body:JSON.stringify({client_id:e.clientID,redirect_uri:e.redirectURI,response_type:e.responseType,scope:e.scope,state:e.state,grant_saml:e.grantSaml}),method:"POST"})}},{key:"authorizedApplications",value:function(e){var t="/oauth/applications/authorized";return e&&(t+="?administrator_id=".concat(e)),this.request(t)}},{key:"revokeAuthorizedApplication",value:function(e,t){var n="/oauth/applications/".concat(e,"/revoke");return t&&(n+="?administrator_id=".concat(t)),this.request(n,{method:"DELETE"})}},{key:"createPersonalToken",value:function(e){return this.postRequest("/oauth/applications/create_token",JSON.stringify(h(p({},e),{administrator_id:null})))}},{key:"ticket",value:function(e){return this.request("/oauth/tickets/".concat(e))}},{key:"authorizeTicket",value:function(e,t){var n="/oauth/tickets/".concat(e,"/authorize");return t&&(n+="?grant_saml=true"),this.request(n,{method:"POST"})}},{key:"createTemplate",value:function(e){return this.postRequest("/templates",JSON.stringify(e))}},{key:"verifyPubstorm",value:function(e){return this.postRequest("/pubstorm/verify",JSON.stringify(e))}},{key:"claimPubstorm",value:function(e){return this.postRequest("/pubstorm/claim",JSON.stringify(e))}},{key:"requestPubstormRecovery",value:function(e){return this.postRequest("/pubstorm/recover",JSON.stringify({email:e}))}},{key:"deployLogLocation",value:function(e){return this.request("/deploys/".concat(e,"/log"))}},{key:"deployLogAccessCheck",value:function(e){return this.request("/deploys/".concat(e,"/check_access"))}},{key:"lockDeploy",value:function(e){return this.postRequest("/deploys/".concat(e,"/lock"))}},{key:"unlockDeploy",value:function(e){return this.postRequest("/deploys/".concat(e,"/unlock"))}},{key:"retryDeploy",value:function(e,t){return this.postRequest("/deploys/".concat(e,"/retry"),JSON.stringify(t||{}))}},{key:"acceptDeploy",value:function(e){return this.postRequest("/deploys/".concat(e,"/accept"))}},{key:"rejectDeploy",value:function(e){return this.postRequest("/deploys/".concat(e,"/reject"))}},{key:"cancelDeploy",value:function(e){return this.postRequest("/deploys/".concat(e,"/cancel"))}},{key:"deleteDeploy",value:function(e){return this.request("/deploys/".concat(e),{method:"DELETE"})}},{key:"organizations",value:function(){return this.request("/organizations")}},{key:"organization",value:function(e){return this.request("/organizations/".concat(e))}},{key:"organizationAccounts",value:function(e){return this.request("/organizations/".concat(e,"/accounts"))}},{key:"organizationMembers",value:function(e){return this.request("/organizations/".concat(e,"/members"))}},{key:"inviteOrganizationMember",value:function(e,t){return this.postRequest("/organizations/".concat(e,"/members"),JSON.stringify({email:t}))}},{key:"deleteOrganizationMember",value:function(e,t){return this.request("/organizations/".concat(e,"/members/").concat(t),{method:"DELETE"})}},{key:"organizationInvoices",value:function(e){return this.request("/organizations/".concat(e,"/invoices"))}},{key:"organizationInvoice",value:function(e,t){return this.request("/organizations/".concat(e,"/invoices/").concat(t))}},{key:"organizationReceipts",value:function(e){return this.request("/organizations/".concat(e,"/receipts"))}},{key:"organizationReceipt",value:function(e,t){return this.request("/organizations/".concat(e,"/receipts/").concat(t),{raw:!0,headers:{Accept:"application/pdf"}})}},{key:"organizationClientToken",value:function(e){return this.request("/organizations/".concat(e,"/client_token"))}},{key:"organizationSamlConnection",value:function(e){return this.request("/organizations/".concat(e,"/workos"))}},{key:"organizationScimConnection",value:function(e){return this.request("/organizations/".concat(e,"/workos_scim"))}},{key:"organizationCreateAccount",value:function(e,t){return this.postRequest("/accounts",JSON.stringify({name:t,organization_id:e}))}},{key:"organizationSamlDashboard",value:function(e){return this.postRequest("/organizations/".concat(e,"/workos"),JSON.stringify({}))}},{key:"organizationSamlSettings",value:function(e){return this.request("/organizations/".concat(e,"/saml_settings"))}},{key:"organizationUpdateSamlSettings",value:function(e,t){return this.request("/organizations/".concat(e,"/saml_settings"),{method:"PUT",body:JSON.stringify(t)})}},{key:"organizationScimDashboard",value:function(e){return this.postRequest("/organizations/".concat(e,"/workos_scim"),JSON.stringify({}))}},{key:"organizationScimStatus",value:function(e,t){return this.request("/organizations/".concat(e,"/workos_scim"),{method:"PATCH",body:JSON.stringify({status:t})})}},{key:"organizationScimMappings",value:function(e){return this.request("/organizations/".concat(e,"/directory_sync_entities"))}},{key:"organizationScimAddMapping",value:function(e,t){var n=t.group_id,r=t.account_id,o=t.role,i=t.site_access,a=t.site_ids;return this.request("/organizations/".concat(e,"/directory_sync_entities/").concat(n,"/account_role_associations"),{method:"POST",body:JSON.stringify({account_id:r,role:o,site_access:i,site_ids:a})})}},{key:"organizationScimUpdateMapping",value:function(e,t){var n=t.group_id,r=t.account_id,o=t.role,i=t.site_access,a=t.site_ids;return this.request("/organizations/".concat(e,"/directory_sync_entities/").concat(n,"/account_role_associations/").concat(r),{method:"PATCH",body:JSON.stringify({role:o,site_access:i,site_ids:a})})}},{key:"organizationScimDeleteMapping",value:function(e,t){var n=t.group_id,r=t.account_id;return this.request("/organizations/".concat(e,"/directory_sync_entities/").concat(n,"/account_role_associations/").concat(r),{method:"DELETE"})}},{key:"organizationSamlDeleteConnection",value:function(e){return this.request("/organizations/".concat(e,"/workos"),{method:"DELETE"})}},{key:"organizationScimDeleteConnection",value:function(e){return this.request("/organizations/".concat(e,"/workos_scim"),{method:"DELETE"})}},{key:"organizationScimDeleteConnectionKeepingUsers",value:function(e){return this.request("/organizations/".concat(e,"/workos_scim/delete_directory_sync"),{method:"DELETE"})}},{key:"updateOrganization",value:function(e,t){return this.request("/organizations/".concat(e),{method:"PUT",body:JSON.stringify(t)})}},{key:"updateOrganizationLogo",value:function(e,t){var n=new FormData;return n.append("file",t),this.request("/organizations/".concat(e,"/logo"),{method:"POST",body:n,headers:{"Content-Type":"delete"}})}},{key:"updateOrganizationPaymentMethod",value:function(e,t){return this.postRequest("/organizations/".concat(e,"/payments"),JSON.stringify(t))}},{key:"updateOrganizationSecurityContacts",value:function(e,t){return this.request("/organizations/".concat(e,"/security_contacts"),{method:"PUT",body:JSON.stringify({contacts:t})})}},{key:"deleteOrganizationLogo",value:function(e){return this.request("/organizations/".concat(e,"/logo"),{method:"DELETE"})}},{key:"accounts",value:function(){return this.request("/accounts")}},{key:"accountsLightweight",value:function(){return this.request("/accounts?minimal=true")}},{key:"account",value:function(e){return this.request("/accounts/".concat(e))}},{key:"accountFirewallRuleSet",value:function(e){return this.request("/accounts/".concat(e,"/firewall_rule_set"))}},{key:"updateAccountFirewallRuleSet",value:function(e,t){return this.request("/accounts/".concat(e,"/firewall_rule_set"),{method:"PUT",body:JSON.stringify(t)})}},{key:"accountSiteLabels",value:function(e,t){var n="/accounts/".concat(e,"/site_labels?page=").concat(t.page||1);return t.perPage&&(n+="&per_page=".concat(t.perPage)),this.request(n)}},{key:"createAccountSiteLabel",value:function(e,t){return this.request("/accounts/".concat(e,"/site_labels"),{method:"POST",body:JSON.stringify(t)})}},{key:"updateAccountSiteLabel",value:function(e,t,n){return this.request("/accounts/".concat(e,"/site_labels/").concat(t),{method:"PUT",body:JSON.stringify(n)})}},{key:"deleteAccountSiteLabel",value:function(e,t){return this.request("/accounts/".concat(e,"/site_labels/").concat(t),{method:"DELETE"})}},{key:"updateSiteLabels",value:function(e,t,n){return this.request("/accounts/".concat(e,"/site_labels"),{method:"PUT",body:JSON.stringify({label_ids:t,site_id:n})})}},{key:"accountJwt",value:function(e){return this.request("/accounts/".concat(e,"/jwt"))}},{key:"accountBandwidth",value:function(e){var t=e.id,n=e.from,r=e.to;return this.request("/accounts/".concat(t,"/bandwidth?").concat((0,i.Vl)(n&&r?{from:n,to:r}:{})))}},{key:"accountBandwidthRanking",value:function(e){var t=e.id,n=e.limit,r=e.from,o=e.to,a=p({},n&&{limit:n},r&&{from:r},o&&{to:o});return this.request("/accounts/".concat(t,"/bandwidth/ranking?").concat((0,i.Vl)(a)))}},{key:"accountConnectBandwidth",value:function(e){var t=e.id,n=e.from,r=e.to;return this.request("/accounts/".concat(t,"/connect?").concat((0,i.Vl)(n&&r?{from:n,to:r}:{})))}},{key:"accountConnectBandwidthDataLayers",value:function(e){var t=e.id,n=e.from,r=e.to;return this.request("/accounts/".concat(t,"/connect/data_layers?").concat((0,i.Vl)(n&&r?{from:n,to:r}:{})))}},{key:"accountDomainsBandwidthTimeseries",value:function(e){var t=e.id,n=e.from,r=e.to,o=e.resolution;return this.request("/accounts/".concat(t,"/bandwidth/timeseries?").concat((0,i.Vl)(n&&r?{from:n,to:r,resolution:void 0===o?"month":o}:{})))}},{key:"accountEdgeFunctionsUsage",value:function(e){return this.request("/accounts/".concat(e,"/edge_functions"))}},{key:"accountCompliance",value:function(e){return this.request("/accounts/".concat(e,"/compliance"))}},{key:"accountCommitters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.billingPeriod?this.request("/accounts/".concat(e,"/committers?billing_period=current")):this.request("/".concat(e,"/committers"))}},{key:"createCommitter",value:function(e,t,n){return this.request("/".concat(e,"/committers"),{method:"POST",body:JSON.stringify({build_id:t,member_id:n})})}},{key:"updateCommitter",value:function(e,t,n){return this.request("/".concat(e,"/committers/").concat(t),{method:"PATCH",body:JSON.stringify({member_id:n})})}},{key:"deleteCommitter",value:function(e,t){return this.request("/".concat(e,"/committers/").concat(t),{method:"DELETE"})}},{key:"availablePlans",value:function(){return this.request("/plans")}},{key:"accountSubscriptionBase",value:function(e){return this.request("/accounts/".concat(e,"/subscription"))}},{key:"accountSubscriptionDomains",value:function(e){return this.request("/accounts/".concat(e,"/subscription/domains"))}},{key:"accountSubscriptionUsage",value:function(e){return this.request("/accounts/".concat(e,"/subscription/usage_costs"))}},{key:"updateAccountType",value:function(e,t){return this.request("/accounts/".concat(e,"/subscription"),{method:"PUT",body:JSON.stringify({type_id:t})})}},{key:"accountPlans",value:function(e){return this.request("/accounts/".concat(e,"/plans"))}},{key:"createAccount",value:function(e){return this.request("/accounts",{method:"POST",body:JSON.stringify(e)})}},{key:"cancelAccountScheduledDowngrade",value:function(e){return this.request("/accounts/".concat(e,"/cancel_scheduled_downgrade"),{method:"PUT"})}},{key:"deleteAccount",value:function(e){return this.request("/accounts/".concat(e),{method:"DELETE"})}},{key:"disableUser",value:function(){return this.request("/users/disable",{method:"POST"})}},{key:"updateAccount",value:function(e,t){return this.request("/accounts/".concat(e),{method:"PUT",body:JSON.stringify(t)})}},{key:"updateAccountLogo",value:function(e,t){var n=new FormData;return n.append("file",t),this.request("/accounts/".concat(e,"/logo"),{method:"POST",body:n,headers:{"Content-Type":"delete"}})}},{key:"deleteAccountLogo",value:function(e){return this.request("/accounts/".concat(e,"/logo"),{method:"DELETE"})}},{key:"updateAccountSecurityContacts",value:function(e,t){return this.request("/accounts/".concat(e,"/security_contacts"),{method:"PUT",body:JSON.stringify({contacts:t})})}},{key:"accountBuilds",value:function(e,t){return t=p({page:1,per_page:15},t),this.request("/".concat(e,"/builds?").concat((0,i.Vl)(t)))}},{key:"accountBuildStatus",value:function(e){return this.request("/".concat(e,"/builds/status"))}},{key:"accountBuildQueueBump",value:function(e,t){return this.postRequest("/".concat(e,"/builds/").concat(t,"/prioritize"))}},{key:"accountBuildStatusPerSite",value:function(e){var t=e.id,n=e.from,r=e.to,o=e.resolution;return this.request("/".concat(t,"/builds/per_site?").concat((0,i.Vl)(n&&r?{from:n,to:r,resolution:void 0===o?"month":o}:{})))}},{key:"accountBuildsPerDay",value:function(e){return this.request("/".concat(e,"/builds/per_day"))}},{key:"accountMember",value:function(e,t){return this.request("/".concat(e,"/members/").concat(t))}},{key:"accountMembers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,c._Q)(),r=t.roles,o=y(t,["roles"]),a=p({sort_by:"updated_at","roles[]":((null==r?void 0:r.length)?r:n).join(",")},o);return this.request("/".concat(e,"/members?").concat((0,i.Vl)(a)))}},{key:"accountReviewerMembers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p({sort_by:"created_at","roles[]":c.Yq},t);return this.request("/".concat(e,"/members?").concat((0,i.Vl)(n)))}},{key:"inviteAccountMember",value:function(e,t){var n=t.email,r=t.role,o=t.site_ids,i=t.site_access,a=t.build_id;return this.postRequest("/".concat(e,"/members"),JSON.stringify({email:n,role:r,site_ids:o,site_access:i,build_id:a}))}},{key:"removeAccountMember",value:function(e,t){return this.request("/".concat(e,"/members/").concat(t),{method:"DELETE"})}},{key:"updateAccountMember",value:function(e,t,n){var r=n.role,o=n.self_invite_state,i=n.site_access,a=n.site_ids;return this.request("/".concat(e,"/members/").concat(t),{method:"PUT",body:JSON.stringify({role:r,self_invite_state:o,site_access:i,site_ids:a})})}},{key:"accountBillingSummary",value:function(e){return this.request("/".concat(e,"/billing"))}},{key:"accountSubscriptions",value:function(e){return this.request("/".concat(e,"/billing/subscriptions"))}},{key:"accountInvoices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("/".concat(e,"/billing/invoices?").concat((0,i.Vl)(t)))}},{key:"accountReceipts",value:function(e){return this.request("/".concat(e,"/receipts"))}},{key:"accountReceiptPdf",value:function(e,t){return this.request("/".concat(e,"/receipts/").concat(t),{raw:!0,headers:{Accept:"application/pdf"}})}},{key:"accountReceiptHtml",value:function(e,t){return this.request("/".concat(e,"/receipts/").concat(t),{headers:{Accept:"text/html"}})}},{key:"transferSite",value:function(e,t){return this.postRequest("/sites/".concat(e,"/transfer?account_id=").concat(t))}},{key:"trafficSplits",value:function(e){return this.request("/sites/".concat(e,"/traffic_splits"))}},{key:"trafficSplit",value:function(e,t){return this.request("/sites/".concat(e,"/traffic_splits/").concat(t))}},{key:"createTrafficSplit",value:function(e,t){return this.postRequest("/sites/".concat(e,"/traffic_splits"),JSON.stringify(t))}},{key:"updateTrafficSplit",value:function(e,t,n){return this.request("/sites/".concat(e,"/traffic_splits/").concat(t),{method:"PUT",body:JSON.stringify(n)})}},{key:"startTrafficSplit",value:function(e,t){return this.postRequest("/sites/".concat(e,"/traffic_splits/").concat(t,"/publish"))}},{key:"stopTrafficSplit",value:function(e,t){return this.postRequest("/sites/".concat(e,"/traffic_splits/").concat(t,"/unpublish"))}},{key:"teamAudit",value:function(e){var t=e.accountId,n=e.page,r=e.perPage,o=e.logType,i=e.sortBy,a=e.sortOrder,c=["page=".concat(n||1),"per_page=".concat(r||15),o&&"log_type=".concat(o),i&&"sort_by=".concat(i),a&&"sort_order=".concat(a)].filter(Boolean);return this.request("/accounts/".concat(t,"/audit?").concat(c.join("&")))}},{key:"siteAudit",value:function(e){var t=e.siteId,n=e.page,r=e.perPage,o=e.search,i=["page=".concat(n||1),"per_page=".concat(r||15),o&&"query=".concat(o)].filter(Boolean);return this.request("/sites/".concat(t,"/audit?").concat(i.join("&")))}},{key:"addAuditLog",value:function(e){var t={audit_action:null==e?void 0:e.auditAction,account_id:null==e?void 0:e.accountId,site_id:null==e?void 0:e.siteId,traits:null==e?void 0:e.traits};return this.postRequest("/audit_logs",JSON.stringify(t))}},{key:"destroyAccessToken",value:function(){return this.request("/access_tokens/revoke",{method:"DELETE"})}},{key:"identity",value:function(e,t){return this.request("/sites/".concat(e,"/identity/").concat(t))}},{key:"createIdentity",value:function(e,t){return this.postRequest("/sites/".concat(e,"/identity"),JSON.stringify(t))}},{key:"updateIdentity",value:function(e,t,n){return this.request("/sites/".concat(e,"/identity/").concat(t),{method:"PUT",body:JSON.stringify(n)})}},{key:"deleteIdentity",value:function(e,t){return this.request("/sites/".concat(e,"/identity/").concat(t),{method:"DELETE"})}},{key:"identityUsers",value:function(e,t,n){var r=n.page,o=n.per_page,i=n.sort,a=n.filter;return this.request("/sites/".concat(e,"/identity/").concat(t,"/users?page=").concat(r||1,"&per_page=").concat(o||15,"&sort=").concat(i||"created_at").concat(a?"&filter=".concat(a):""))}},{key:"identityUser",value:function(e,t,n){return this.request("/sites/".concat(e,"/identity/").concat(t,"/users/").concat(n))}},{key:"createIdentityUser",value:function(e,t,n){return this.postRequest("/sites/".concat(e,"/identity/").concat(t,"/users"),JSON.stringify(n))}},{key:"updateIdentityUser",value:function(e,t,n,r){return this.request("/sites/".concat(e,"/identity/").concat(t,"/users/").concat(n),{method:"PUT",body:JSON.stringify(r)})}},{key:"deleteIdentityUser",value:function(e,t,n){return this.request("/sites/".concat(e,"/identity/").concat(t,"/users/").concat(n),{method:"DELETE"})}},{key:"sendIdentityInvites",value:function(e,t,n){return this.postRequest("/sites/".concat(e,"/identity/").concat(t,"/users/invite"),JSON.stringify(n))}},{key:"sendIdentityRecovery",value:function(e,t,n){return this.postRequest("/sites/".concat(e,"/identity/").concat(t,"/users/").concat(n,"/recover"))}},{key:"identityAudit",value:function(e){var t=e.page,n=e.perPage,r=e.search,o=e.siteId,i=e.identityId;return this.request("/sites/".concat(o,"/identity/").concat(i,"/audit?page=").concat(t||1,"&per_page=").concat(n||15).concat(r?"&query=".concat(r):""))}},{key:"getStripeIdentityVerificationSession",value:function(e){return this.request("/identity_verification?code=".concat(e))}},{key:"createStripeIdentityVerificationSession",value:function(e){return this.request("/identity_verification",{method:"POST",body:JSON.stringify({code:e})})}},{key:"services",value:function(e){return this.request("/sites/".concat(e,"/service-instances"))}},{key:"createService",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.postRequest("/sites/".concat(e,"/services/").concat(t,"/instances"),JSON.stringify(n))}},{key:"updateService",value:function(e,t,n,r){return this.request("/sites/".concat(e,"/services/").concat(t,"/instances/").concat(n),{method:"PUT",body:JSON.stringify(r)})}},{key:"deleteService",value:function(e,t,n){return this.request("/sites/".concat(e,"/services/").concat(t,"/instances/").concat(n),{method:"DELETE"})}},{key:"deleteForm",value:function(e,t){return this.request("/sites/".concat(e,"/forms/").concat(t),{method:"DELETE"})}},{key:"deleteFormSubmission",value:function(e){return this.request("/submissions/".concat(e),{method:"DELETE"})}},{key:"claim",value:function(e){var t=e.id,n=e.token;return this.postRequest(t?"/sites/".concat(t,"/claim"):"/sites/claim",JSON.stringify({token:n}))}},{key:"claimFromAccount",value:function(e){var t=e.id,n=e.token,r=e.accountSlug,o=t?"/".concat(r,"/sites/").concat(t,"/claim"):"/".concat(r,"/sites/claim");return this.postRequest(o,JSON.stringify({token:n}))}},{key:"updateSamlConfig",value:function(e,t,n){return this.request("/saml/".concat(e,"/parse-idp-metadata"),{method:"PUT",body:JSON.stringify({url:t,data:n})})}},{key:"samlSettings",value:function(e){return this.request("/accounts/".concat(e,"/saml_settings"))}},{key:"updateSamlSettings",value:function(e,t){return this.request("/accounts/".concat(e,"/saml_settings"),{method:"PUT",body:JSON.stringify(t)})}},{key:"deleteSamlConfig",value:function(e){return this.request("/saml/".concat(e),{method:"DELETE"})}},{key:"getSamlStartUrl",value:function(e){return this.request("/saml/account-lookup?id=".concat(e),{method:"GET"})}},{key:"siteUsage",value:function(e){return this.request("/sites/".concat(e,"/usage"))}},{key:"changeAddonPlan",value:function(e,t,n){return this.request("/usage_records/".concat(e,"/change_plan?plan=").concat(t,"&site_id=").concat(n),{method:"PUT"})}},{key:"searchDomain",value:function(e,t){return this.request("/domains-next/search?account_id=".concat(t,"&domain=").concat(e))}},{key:"searchDomains",value:function(e,t,n){return this.request("/domains-next/filtered_keyword_search?".concat(["keyword=".concat(e),"timeout=".concat(t),"account_id=".concat(n)].join("&")))}},{key:"buyDomain",value:function(e,t,n){return this.request("/domains-next",{method:"POST",body:JSON.stringify({account_id:t,domain:e,site_id:n})})}},{key:"dropToken",value:function(){return this.request("/drop/token",{method:"POST"})}},{key:"dropFiles",value:function(e,t){return this.request("/drop",{method:"POST",body:JSON.stringify({files:e,token:t})})}},{key:"dropClaim",value:function(e,t){return this.request("/drop/claim",{method:"POST",body:JSON.stringify({site:e,token:t})})}},{key:"authLink",value:function(e){var t=e.provider;return this.request("/auth/link?provider=".concat(t,"&site_id=").concat(this.siteId),{noPrefix:!0})}},{key:"authUnlink",value:function(e){var t=e.provider;return this.request("/auth/unlink?provider=".concat(t,"&site_id=").concat(this.siteId),{method:"POST",noPrefix:!0})}},{key:"updateSelfHostedGitConfig",value:function(e,t,n){var r="/accounts/".concat(e,"/").concat(n,"_config");return this.request(r,{method:"PUT",body:JSON.stringify(t)})}},{key:"deleteSelfHostedGitConfig",value:function(e,t){var n="/accounts/".concat(e,"/").concat(t,"_config");return this.request(n,{method:"DELETE"})}},{key:"logDrains",value:function(e){return this.request("/sites/".concat(e,"/log_drains"))}},{key:"createLogDrain",value:function(e){return f(function(e){var t,n,o=arguments;return b(this,function(i){switch(i.label){case 0:t=o.length>1&&void 0!==o[1]?o[1]:{},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.postRequest("/sites/".concat(e,"/log_drains"),JSON.stringify(t))];case 2:return[2,i.sent()];case 3:if(n=i.sent(),/^access denied$/i.test(n.message))throw new r.A("You don't have the necessary permissions to create a log drain.");throw n;case 4:return[2]}})}).apply(this,arguments)}},{key:"verifyLogDrain",value:function(e,t,n){return f(function(){var o;return b(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.postRequest("/sites/".concat(e,"/log_drains/").concat(t,"/verify"),JSON.stringify({token:n}))];case 1:return[2,i.sent()];case 2:if(o=i.sent(),/^access denied$/i.test(o.message))throw new r.A("You don't have the necessary permissions to verify a log drain.");throw o;case 3:return[2]}})}).call(this)}},{key:"updateLogDrain",value:function(e,t,n){return f(function(){var o;return b(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.request("/sites/".concat(e,"/log_drains/").concat(t),{method:"PUT",body:JSON.stringify(n)})];case 1:return[2,i.sent()];case 2:if(o=i.sent(),/^access denied$/i.test(o.message))throw new r.A("You don't have the necessary permissions to edit a log drain.");throw o;case 3:return[2]}})}).call(this)}},{key:"deleteLogDrain",value:function(e,t){return f(function(){var n;return b(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.request("/sites/".concat(e,"/log_drains/").concat(t),{method:"DELETE"})];case 1:return[2,o.sent()];case 2:if(n=o.sent(),/^access denied$/i.test(n.message))throw new r.A("You don't have the necessary permissions to delete a log drain.");throw n;case 3:return[2]}})}).call(this)}},{key:"slackWorkspace",value:function(e){return this.request("/slack/accounts/".concat(e))}},{key:"deleteSlackWorkspace",value:function(e){return this.request("/slack/accounts/".concat(e),{method:"DELETE"})}},{key:"slackSubscriptions",value:function(e){return this.request("/slack/accounts/".concat(e,"/subscriptions"))}},{key:"slackChannels",value:function(e,t){var n=null!=t?t:{},r=n.limit,o=n.cursor,i=[r&&"limit=".concat(r),o&&"cursor=".concat(o)].filter(Boolean);return this.request("/slack/accounts/".concat(e,"/channels?").concat(i.join("&")))}},{key:"createSlackSubscription",value:function(e,t){return this.request("/slack/accounts/".concat(e,"/subscriptions"),{method:"POST",body:JSON.stringify(t)})}},{key:"editSlackSubscription",value:function(e,t){return this.request("/slack/accounts/".concat(e,"/subscriptions/").concat(t.id),{method:"PUT",body:JSON.stringify(t)})}},{key:"deleteSlackSubscription",value:function(e,t){return this.request("/slack/accounts/".concat(e,"/subscriptions/").concat(t),{method:"DELETE"})}},{key:"graphJwt",value:function(e){return this.request("/sites/".concat(e,"/jwt"))}},{key:"securityKpis",value:function(e){return this.request("/".concat(e,"/security_kpis"))}},{key:"securityKpiFindingsCsv",value:function(e,t){return this.request("/".concat(e,"/security_kpis/").concat(t,"/findings.csv"))}},{key:"blob",value:function(e,t,n){var r="/blobs/".concat(e,"/").concat(t,"/").concat(n);return this.request(r,{headers:{accept:"application/json;type=signed-url"}})}},{key:"blobs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="/blobs/".concat(e,"/").concat(t,"?directories=true");return n&&(r+="&prefix=".concat(n)),this.request(r)}},{key:"listBlobStores",value:function(e){return this.request("/blobs/".concat(e))}},{key:"accountSitesSummary",value:function(e){return this.request("/accounts/".concat(e,"/sites_summary"))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()},19145:(e,t,n)=>{n.d(t,{e:()=>eF});var r,o=n(36870),i=n(86326),a=n(77926),c=function(e){var t=e.level,n=e.text;return t&&n?(0,o.jsx)(a.A,{error:"error"===t?n:void 0,info:"info"===t?n:void 0,warning:"warning"===t?n:void 0}):null},u={type:"alert",optionsSchema:{},render:function(e){var t=e.level,n=e.text;return(0,o.jsx)(c,{level:t,text:n})}},s=n(51101),l=n(68444);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)})}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var v=function(e){var t=e.title,n=e.id,r=e.variant,a=e.contextOptions,c=e.confirmationMessage,u=h((0,i.useState)(!1),2),f=u[0],d=u[1],v=h((0,i.useState)(!1),2),m=v[0],b=v[1];if(!t||!n)return null;var g=n.replace(/[^a-zA-Z0-9:]/g,"_"),w=function(){return p(function(){return y(this,function(e){switch(e.label){case 0:return d(!0),[4,a.surfaceHandler.postEventWithResponse("".concat(g,":click_UICALLBACK"),a.surfaceHandler.state)];case 1:return e.sent(),d(!1),[2]}})})()};return(0,o.jsxs)(o.Fragment,{children:[c&&(0,o.jsx)(l.Ay,{show:m,title:"Confirm",onHide:function(){return b(!1)},saveLabel:t,saveButtonVariant:r,onSave:function(){return p(function(){return y(this,function(e){switch(e.label){case 0:return[4,w()];case 1:return e.sent(),b(!1),[2]}})})()},children:(0,o.jsx)("p",{children:c})}),(0,o.jsx)(s.$n,{title:t,onClick:c?function(){return b(!0)}:w,id:g,variant:r,saving:f,className:"tw-mr-4 tw-mt-2",children:t})]})},m={type:"button",optionsSchema:{},render:function(e,t){var n=e.title,r=e.id,i=e.variant,a=e.confirmationMessage;return(0,o.jsx)(v,{title:n,id:r,variant:i,contextOptions:t,confirmationMessage:a})}},b=n(13284),g=function(e){var t=e.children;return t?(0,o.jsx)(b.A,{allowedElements:["a","p","br","code","pre","em","strong"],markdown:t}):null},w={type:"text",optionsSchema:{},render:function(e){var t=e.value;return(0,o.jsx)(g,{children:t})}},k=n(83505),O={type:"card",optionsSchema:{},render:function(e,t){var n,r=e.title,i=e.description,a=e.contents;return a?(0,o.jsx)(k.A,{title:r,description:i&&(0,o.jsx)("div",{className:"tw-mb-4",children:(0,o.jsx)(g,{children:i})}),children:(0,o.jsx)(k.A.Panel,{children:null==t||null==(n=t.renderElements)?void 0:n.call(t,a,t)})}):null}},S=n(82303),j=function(e){var t=e.code,n=e.language;return t&&n?(0,o.jsx)("div",{className:"tw-mt-4",children:(0,o.jsx)(S.A,{code:t,language:n})}):null},_={type:"code-snippet",optionsSchema:{},render:function(e){var t=e.code,n=e.language;return(0,o.jsx)(j,{code:t,language:n})}},P=n(35903),I=n(61606),A=function(e){var t=e.value,n=e.label;return(0,o.jsx)(I.A,{label:n,value:t,placeholder:"Not set"})},x={type:"display",optionsSchema:{},render:function(e){return(0,o.jsx)(A,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e))}},E=n(59868),T=n(65900),q=n(24760),D=n(92488),N=n(27578),C=n(15154),R=n(57079);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}var z=function(e){var t,n,r,a=e.packageContext,c=e.site,u=e.title,l=e.description,f=e.targetPackage,d=e.illustration,p=e.surfaceHandler,h=function(){var e;return(e=function(){var e,t;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(n){switch(n.label){case 0:if(t=(null==(e=null==c?void 0:c.get("plugins"))?void 0:e.toJS())||[],!S)return[3,3];return[4,p.onDisable()];case 1:return n.sent(),t=t.filter(function(e){return e.package!==f}),[4,y((0,T.hj)(c,{plugins:t}))];case 2:return n.sent(),[3,8];case 3:w(!0),n.label=4;case 4:return n.trys.push([4,,7,8]),[4,p.onEnable()];case 5:return n.sent(),[4,y((0,E.sN)(c,f,t,!1))];case 6:return n.sent(),[3,8];case 7:return w(!1),[7];case 8:return[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){U(i,r,o,a,c,"next",e)}function c(e){U(i,r,o,a,c,"throw",e)}a(void 0)})})()},y=(0,N.wA)(),v=(a||{}).friendlyName,m=(t=(0,i.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return L(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=m[0],w=m[1];if(!c||!f)return null;var k=(0,q.Lq)(c),O=(0,o.jsx)(g,{children:l}),S=null!=(r=null==c||null==(n=c.get("plugins"))?void 0:n.toJS().some(function(e){return e.package===f}))&&r,j=S?"Disable":"Enable",_="".concat(j," ").concat(v);return S?(0,o.jsxs)(R.A,{title:_,description:O,deleteLabel:j,onDelete:h,challenge:{label:"Type in the project’s name to confirm",value:k},children:[O,(0,o.jsxs)("p",{children:["Are you sure you want to remove ",v," from ",k,"?"]})]}):(0,o.jsx)(C.A,{title:u,illustration:d,action:(0,o.jsx)(s.$n,{onClick:h,saving:b,children:_}),children:O})},F=function(e,t){if(t)try{return new URL(t).pathname}catch(n){return[D.r0,e,t].filter(Boolean).join("/")}},M={type:"enablement",optionsSchema:{},render:function(e,t){var n=e.title,r=e.description,i=e.illustration,a=e.targetPackage,c=t.site,u=t.packageContext,s=t.surfaceHandler;return i=F(null==u?void 0:u.key,i),(0,o.jsx)(z,{title:n,description:r,illustration:i,site:c,packageContext:u,targetPackage:a,surfaceHandler:s})}},J=n(29785),V=n(63243);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){W(i,r,o,a,c,"next",e)}function c(e){W(i,r,o,a,c,"throw",e)}a(void 0)})}}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){G(e,t,n[t])})}return e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var X=function(e){var t={};return e.forEach(function(e,n){if(!Reflect.has(t,n)){t[n]=e;return}Array.isArray(t[n])||(t[n]=[t[n]]),t[n].push(e)}),t},Y=function(e){var t=e.id,n=e.title,r=e.description,a=e.surfaceInputsData,c=e.saveLabel,u=e.cancelLabel,s=e.savingLabel,l=e.renderElements,f=e.hideCancel,d=e.surfaceHandler,p=e.sdkVersion,h=e.variant,y=e.readOnly,v=e.reloadConfig,m=Object.entries(a).reduce(function(e,n){var r=K(n,2),o=r[0],i=r[1];return(!p||!t||o.startsWith(t))&&(e[o]=i),e},{}),b=K((0,i.useState)(m),1)[0],w=K((0,i.useState)(b),2),O=w[0],S=w[1],j=K((0,i.useState)(!1),2),_=j[0],P=j[1];if((0,i.useEffect)(function(){d.save(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{surfaceInputsData:$({},e.surfaceInputsData,O)}})},[O]),!t)return null;var I=function(e){var t=e.name,n=e.value;S(function(e){var r,o;return r=$({},e),o=null!=(o=G({},t,n))?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}),r})},A=function(e){return H(function(){var n;return Z(this,function(r){switch(r.label){case 0:return P(!0),n=X(new FormData(e.target)),[4,d.onSurfaceSave(t,$({},a,n))];case 1:return r.sent(),v&&v(),P(!1),[2]}})})()};return"default"===(void 0===h?"default":h)?(0,o.jsx)("section",{className:"card card-settings",children:(0,o.jsx)(V.A,{title:n,description:r,children:(0,o.jsx)(J.A,{onSave:A,saveLabel:null!=c?c:"Save",cancelLabel:null!=u?u:"Cancel",saving:_,onCancel:f?void 0:function(){return H(function(){return Z(this,function(e){switch(e.label){case 0:return S(b),[4,d.onFormCancel(t)];case 1:return e.sent(),[2]}})})()},children:(0,o.jsx)("div",{className:"tw-mt-4",children:l({onChange:I,surfaceInputsData:O})})})})}):(0,o.jsxs)(k.A,{title:n,description:r&&(0,o.jsx)(g,{children:r}),onSave:A,onCancel:function(){return S(b)},saving:_,saveLabel:c,savingLabel:s,readOnly:void 0!==y&&y,children:[(0,o.jsx)(k.A.DefaultView,{className:"table-body",children:l({displayOnly:!0,surfaceInputsData:O})}),(0,o.jsx)(k.A.FormView,{className:"table-body",children:l({onChange:I,surfaceInputsData:O})})]})},Q={type:"form",optionsSchema:{},render:function(e,t){var n=e.title,r=e.description,i=e.contents,a=e.id,c=e.saveLabel,u=e.cancelLabel,s=e.savingLabel,l=e.variant,f=e.hideCancel,d=e.readOnly;if(!i)return null;var p=t.surfaceHandler,h=t.surfaceInputsData,y=t.renderElements,v=t.sdkVersion,m=t.reloadConfig;f&&"settings"===l&&console.warn("hideCancel is not supported for the `settings` variant");var b=K(v?v.split(".").map(Number):[0,0,0],3),g=b[0],w=b[1],k=b[2];return g<1&&w<=4&&k<7&&(l="settings"),(0,o.jsx)(Y,{sdkVersion:v,title:n,id:a,description:r,surfaceHandler:p,surfaceInputsData:h,renderElements:function(e){return null==y?void 0:y(i,$({},t,e))},saveLabel:c,cancelLabel:u,savingLabel:s,variant:l,hideCancel:f,readOnly:d,reloadConfig:m})}},ee=n(51468),et=n(19717),en=n(67448),er=function(e){return e.map(function(e){if("string"==typeof e)return{value:e,label:e};var t,n,r=e.value,o=e.label;return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e),n=n={label:void 0===o?r:o},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t})},eo=function(e,t){return e.findLast(t)},ei=en.z.array(en.z.string()).optional(),ea=function(e){var t=ei.safeParse(e);return!!t.success||(console.warn('"value" is not a valid checkbox value type',t.error),!1)},ec=function(e){var t=void 0===e?"undefined":e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e,n="string"===t||"undefined"===t;return n||console.warn('"value" is not a valid input value type. Received:',t),n},eu=function(e){var t=e.type,n=e.id,r=e.label,i=e.options,a=e.helpText,c=e.required,u=e.onChange,s=e.selected,l=e.leftLabel,f=e.floatingLabel,d=n||r,p=function(e){var r=e.target,o=r.value,i=r.checked,a=new Set(s);"radio"===t&&a.clear(),i?a.add(o):a.delete(o),u({name:n,value:Array.from(a)})};return(0,o.jsx)(et.A,{leftLabel:l,floatingLabel:f,name:n,label:r,helpText:a,controlled:!0,control:(0,o.jsx)("fieldset",{className:"tw-flex tw-flex-col tw-gap-4",children:i.map(function(e){var n=e.value,r=e.label;return(0,o.jsx)(ee.A,{type:t,name:d,value:n,label:r,checked:s.includes(n),required:c&&!s.length,onChange:p},n)})})})},es={type:"input-checkbox",optionsSchema:{},render:function(e,t){var n,r=e.id,i=e.value,a=e.label,c=(e.type,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["id","value","label","type"])),u=t.displayOnly,s=t.surfaceInputsData,l=t.onChange,f=er(i),d=f.filter(function(e){return!!e.isSelected}),p=null!=(n=s[r])?n:d.map(function(e){return e.value});if(!ea(p))return null;if(u){var h=f.filter(function(e){var t=e.value;return p.includes(t)});return(0,o.jsx)(A,{label:a,value:h.map(function(e){return e.label}).join(", ")})}return(0,o.jsx)(eu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({id:r,type:"checkbox",label:a,options:f,selected:p,onChange:l},c))}},el=n(77596),ef=n(45741),ed=function(e){var t=e.id,n=e.label,r=e.value,i=e.placeholder,a=e.helpText,c=e.required,u=e.onChange,s=e.leftLabel,l=e.floatingLabel,f=e.onValidate,d=e.validation;return(0,o.jsx)(ef.A,{leftLabel:s,floatingLabel:l,name:t,label:n,value:r,placeholder:i,helpText:a,required:c,onChange:function(e){return u({name:t,value:e.target.value})},controlled:!0,onValidate:function(e){return(null==d?void 0:d.pattern)&&!new RegExp(null==d?void 0:d.pattern).test(e)?{valid:!1,error:null==d?void 0:d.message}:f?f(e):{valid:!0}}})},ep={type:"input-password",optionsSchema:{},render:function(e,t){var n,r=e.id,i=e.value,a=e.label,c=e.validation,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["id","value","label","validation"]),s=t.displayOnly,l=t.surfaceInputsData,f=t.onChange,d=null!=(n=l[r])?n:i;return ec(d)?s?(0,o.jsx)(A,{label:a,value:d&&el.QE}):(0,o.jsx)(ed,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({id:r,label:a,value:d,validation:c,onChange:f},u)):null}},eh={type:"input-radio",optionsSchema:{},render:function(e,t){var n,r=e.id,i=e.value,a=e.label,c=(e.type,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["id","value","label","type"])),u=t.displayOnly,s=t.onChange,l=t.surfaceInputsData,f=er(i),d=eo(f,function(e){return!!e.isSelected}),p=l[r];if(!ea(p))return null;var h=p?p[0]:null==d?void 0:d.value;return u?(0,o.jsx)(A,{label:a,value:h&&(null==(n=eo(f,function(e){return e.value===h}))?void 0:n.label)}):(0,o.jsx)(eu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({type:"radio",id:r,label:a,options:f,selected:[h].filter(Boolean),onChange:s},c))}},ey=function(e){var t=e.id,n=e.type,r=e.label,i=e.value,a=e.helpText,c=e.required,u=e.placeholder,s=e.onChange,l=e.leftLabel,f=e.floatingLabel,d=e.min,p=e.max,h=e.onValidate,y=e.validation;return(0,o.jsx)(et.A,{type:void 0===n?"text":n,leftLabel:l,floatingLabel:f,name:t,label:r,value:i,placeholder:u,helpText:a,required:c,min:d,max:p,onChange:function(e){return s({name:t,value:e.target.value})},controlled:!0,onValidate:function(e){return(null==y?void 0:y.pattern)&&!new RegExp(null==y?void 0:y.pattern).test(e)?{valid:!1,error:null==y?void 0:y.message}:h?h(e):{valid:!0}}})},ev={type:"input-text",optionsSchema:{},render:function(e,t){var n,r=e.id,i=e.value,a=e.label,c=(e.type,e.fieldType),u=e.validation,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["id","value","label","type","fieldType","validation"]),l=t.displayOnly,f=t.surfaceInputsData,d=t.onChange,p=null!=(n=f[r])?n:i;return ec(p)?l?(0,o.jsx)(A,{label:a,value:p}):(0,o.jsx)(ey,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({id:r,type:c,label:a,value:p,validation:u,onChange:d},s)):null}},em=function(e){var t=e.href,n=e.text,r=e.target,i=e.block;if(!t||!n)return null;var a=!t.match(/^(https?:\/\/)?app\.netlify\.com/);return(0,o.jsx)(s.N_,{href:t,external:a,action:a,target:r,block:i,children:n})},eb={type:"link",optionsSchema:{},render:function(e){var t=e.href,n=e.text,r=e.target,i=e.block;return(0,o.jsx)(em,{href:t,text:n,target:r,block:i})}},eg=function(e){var t=e.items;return t?(0,o.jsx)("ol",{className:"tw-max-w-170 tw-ps-2",children:t.map(function(e,t){return(0,o.jsx)("li",{children:e},t)})}):null},ew={type:"ordered-list",optionsSchema:{},render:function(e){var t=e.items;return(0,o.jsx)(eg,{items:t})}},ek=function(e){var t=e.items;return t?(0,o.jsx)("ul",{className:"tw-max-w-170",children:t.map(function(e,t){return(0,o.jsx)("li",{className:(0,s.cn)("tw-my-4",!e.icon&&"tw-ml-6 tw-list-disc"),children:(0,o.jsxs)("div",{className:e.icon&&"tw-flex tw-flex-row tw-items-start",children:[e.icon&&(0,o.jsx)(s.ks,{name:"success"===e.icon?"status-checkmark":"warning-triangle","aria-label":"success"===e.icon?"Success":"Warning",className:"tw-mr-[7px] tw-mt-1"}),e.text]})},t)})}):null},eO={type:"unordered-list",optionsSchema:{},render:function(e){var t=e.items;return(0,o.jsx)(ek,{items:t})}},eS=n(43536),ej=n(57309),e_=n(59622);function eP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eI(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}var eA=function(e){var t,n,r,a=e.integrationName,c=e.description,u=e.contextOptions,l=u.surfaceHandler,f=u.integrationSlug,d=u.site,p=u.account,h=null!=(r=null==(n=l.state)?void 0:n.integrationContext)?r:{},y=h.serverUrl,v=h.netlifyToken,m=h.siteName,b=h.accountSlug,g=(t=(0,i.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eP(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eP(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=g[0],k=g[1];return(0,o.jsx)("div",{className:"tw-mt-4",children:(0,o.jsx)(e_.A,{title:"Danger zone",description:"Irreversible and destructive actions",children:(0,o.jsx)(ej.A,{title:"Disable ".concat(a),action:(0,o.jsx)(s.$n,{variant:"danger",onClick:function(){var e;return(e=function(){var e,t,n,r,o,i;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(a){switch(a.label){case 0:return k(!0),t=null!=y?y:"https://netlify-integration-".concat(f,".netlify.app"),n=new URLSearchParams,d&&n.append("siteId",d.get("id")),p&&n.append("teamId",p.get("id")),[4,fetch(new URL("/.netlify/functions/handler/on-disable?".concat(n.toString()),t).toString(),{method:"DELETE",headers:{"netlify-token":v}})];case 1:return a.sent(),r=/\/(sites|teams)\/[^/]+\/integrations\/([^/]+)/,(o=null==(e=window.location.pathname.match(r))?void 0:e[2])?(i=m?(0,eS.l2)({name:m},"integrations",o):(0,eS.$A)({slug:b},"integrations",o),window.location.href=i):window.location.reload(),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eI(i,r,o,a,c,"next",e)}function c(e){eI(i,r,o,a,c,"throw",e)}a(void 0)})})()},children:"Disable"}),loading:w,children:(0,o.jsx)("p",{children:null!=c?c:"Disable the ".concat(a," integration ").concat(d?"from your project":"for your team",".")})})})})},ex={type:"disable-integration",optionsSchema:{},render:function(e,t){var n=e.description,r=e.integrationName;return r&&t.integrationSlug?(0,o.jsx)(eA,{contextOptions:t,integrationName:r,description:n}):null}},eE={type:"section",optionsSchema:{},render:function(e,t){var n,r=e.title,i=e.description,a=e.contents;return a?(0,o.jsx)("div",{className:"tw-mt-4",children:(0,o.jsx)(e_.A,{title:void 0===r?"":r,description:i&&(0,o.jsx)(g,{children:i}),children:null==t||null==(n=t.renderElements)?void 0:n.call(t,a,t)})}):null}},eT=n(57130);function eq(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}var eD=function(e){var t=e.id,n=e.label,r=e.options,i=e.selected,a=e.placeholder,c=e.helpText,u=e.required,s=e.leftLabel,l=e.surfaceHandler,f=e.menuIsOpen,d=e.surfaceInputsData,p=e.onChange;return(0,o.jsx)(et.A,{leftLabel:s,name:t,label:n,helpText:c,controlled:!0,control:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("input",{type:"hidden",name:t,defaultValue:i}),(0,o.jsx)(eT.A,{name:t,value:i,options:r,placeholder:a,menuIsOpen:f,required:u,onChange:function(e){var n;return(n=function(){var n;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(r){switch(r.label){case 0:if(n=e.target.value.value,!l)return[3,2];return[4,l.onSurfaceInteraction(t,n,d)];case 1:r.sent(),r.label=2;case 2:return p({name:t,value:n}),[2]}})},function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){eq(i,r,o,a,c,"next",e)}function c(e){eq(i,r,o,a,c,"throw",e)}a(void 0)})})()}})]})})},eN={type:"select",optionsSchema:{},render:function(e,t){var n,r,i,a=e.id,c=e.label,u=e.options,s=e.menuIsOpen,l=e.leftLabel,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["id","label","options","menuIsOpen","leftLabel"]),d=t.displayOnly,p=t.surfaceInputsData,h=t.surfaceHandler,y=t.onChange,v=er(u),m=eo(v,function(e){return!!e.isSelected}),b=null!=(i=p[a])?i:null==m?void 0:m.value;if(!ec(b))return null;if(d){var g=eo(v,function(e){return e.value===b});return(0,o.jsx)(A,{label:c,value:b&&(null==g?void 0:g.label)})}return(0,o.jsx)(eD,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({id:a,label:c,options:v,selected:b,leftLabel:l,surfaceInputsData:p,surfaceHandler:h,menuIsOpen:s},f),r=r={onChange:y},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))}};function eC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eR=(eC(r={},w.type,w),eC(r,O.type,O),eC(r,M.type,M),eC(r,eN.type,eN),eC(r,ev.type,ev),eC(r,ep.type,ep),eC(r,eh.type,eh),eC(r,es.type,es),eC(r,x.type,x),eC(r,Q.type,Q),eC(r,eE.type,eE),eC(r,m.type,m),eC(r,eb.type,eb),eC(r,P.M.type,P.M),eC(r,eO.type,eO),eC(r,ew.type,ew),eC(r,ex.type,ex),eC(r,"disable-section",ex),eC(r,_.type,_),eC(r,u.type,u),r);function eL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function ez(e,t){var n=e.trim().split(".").filter(Boolean);return n.reduce(function(e,r,o){if(0===o)switch(n[0]){case"$PKG":e=t.packageContext;break;case"$EL":e=t.surfaceInputsData}else{var i;e=(void 0===e?"undefined":(i=e)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)!="object"||null===e?null:e[r]}return e},null)}var eF=function(e){var t=e.config,n=e.surfaceRouteConfig,r=e.surfaceConfig,a=e.envVars,c=e.site,u=e.account,s=e.surfaceData,l=e.displayOnly,f=e.outset,d=e.onChange,p=e.integrationSlug,h=e.integrationId,y=e.surfaceInputsData,v=e.surfaceHandler,m=e.reloadConfig,b={enabled:!0,key:(null==t?void 0:t.packageId)||"",name:(null==t?void 0:t.package)||"",friendlyName:(null==t?void 0:t.friendlyName)||""};return(0,o.jsx)(o.Fragment,{children:function e(t,n,r){var o,a,c=(o=eU({},n),a=a={renderElements:e},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(a)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(a,e))}),o);return t.map(function(e){var t=eU({},e);t.id||console.warn('No "id" found for element:',t);var r=t.persistAs;if(r&&(t=function(e,t,n){var r,o=function(e){if(Array.isArray(e))return e}(r=e.split("."))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return eL(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eL(e,t)}}(r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o.slice(1).join(".");if("$ENV"!==i)return console.warn("WFUI - persistAs key other than $ENV is not supported:",i),n;var c=t.surfaceHandler.getEnvVarValue(a);return"select"!==n.type||n.label||(n.label=a),n.type.startsWith("input")&&!n.label&&(n.label=a),c||console.log("WFUI - No value found for env var: ",e),n}(r,n,t)),t.if&&(t=function(e,t){var n=eU({},e),r=e.if,o=!1;if(r&&t&&(r.truthy&&ez(r.truthy,t)&&(o=!0),r.falsy&&(ez(r.falsy,t)||(o=!0)),r.equals&&ez(r.equals[0],t)===r.equals[1]&&(o=!0),r.has)){var i,a,c=r.has,u=c.type,s=c.name;"plugin"===u&&(null==(a=t.site)||null==(i=a.get("plugins"))?void 0:i.toJS().some(function(e){return e.package===s}))&&(o=!0)}return o&&(null==r?void 0:r.then)&&(n=eU({},n,r.then)),n}(t,n)),"hidden"===t.display)return null;var o=eR[t.type];if(!o)return console.error("workflow ui element unknown: ".concat(JSON.stringify(t))),null;var a=o.render(t,c);return a?(0,i.cloneElement)(a,{key:t.id,outset:n.outset}):null})}(n,{envVars:a,site:c,account:u,packageContext:b,surfaceData:s,displayOnly:l,outset:f,onChange:d,integrationSlug:p,surfaceInputsData:y,surfaceRouteConfig:n,surfaceConfig:r,surfaceHandler:v,sdkVersion:null==t?void 0:t.sdkVersion,integrationId:h,reloadConfig:m})})}},20424:(e,t,n)=>{n.d(t,{U:()=>i});var r=n(36870),o=n(33650),i=function(e){var t=e.error,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["error"]);return(0,r.jsx)(o.A,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({error:t},n))}},20625:(e,t,n)=>{function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{jp:()=>a,nA:()=>i,vz:()=>o});var o=function(e){var t={};return e&&(t.next=e),t},i=function(e){var t=e.headers.get("Link");if(!t)return null;var n={};t=t.split(",");for(var o=0,i=t.length;o<i;o++)c=t[o].replace(/(^\s*|\s*$)/,"").split(";"),u=(d=function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(c,2)||function(e,t){if(e){if("string"==typeof e)return r(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],s=d[1],f=(l=u.match(/\bpage=(\d+)/))&&Number(l[1]),s.match(/next/)?(n.next=f,n.current=f-1):s.match(/prev/)?(n.prev=f,n.current=f+1):s.match(/last/)&&(n.last=f);var a=Number(e.headers.get("Total"));if(a){var c,u,s,l,f,d,p,h,y=Number(null==(h=t[0])||null==(p=h.match(/per_page=(\d+)/))?void 0:p[1]);y>0&&(n.page_count=Math.ceil(a/y),n.total=a)}return n},a=function(e){return null==e?void 0:e.get("current")}},24760:(e,t,n)=>{n.d(t,{B$:()=>M,BS:()=>j,B_:()=>K,F4:()=>g,HN:()=>X,LQ:()=>D,Lq:()=>L,Nk:()=>B,RP:()=>z,R_:()=>A,Sd:()=>$,TF:()=>T,Tr:()=>I,UB:()=>Y,V2:()=>U,VE:()=>V,X$:()=>G,Z4:()=>b,ZD:()=>R,aH:()=>w,bL:()=>J,d5:()=>eo,ff:()=>v,fz:()=>N,gP:()=>er,h5:()=>O,mS:()=>m,o3:()=>Z,og:()=>en,pD:()=>ee,pq:()=>E,qO:()=>y,rq:()=>P,sC:()=>Q,sO:()=>x,s_:()=>C,t0:()=>q,tU:()=>F,uw:()=>k,x9:()=>W,yW:()=>_,yY:()=>H,zZ:()=>et});var r,o=n(43536),i=n(44110),a=n(90016),c=n(43134),u=n(4140),s=n(47975);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e){if(Array.isArray(e))return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}var y="success",v="error",m="in-progress",b="blank",g="disabled",w="suspended",k="Manually disabled by user",O={SUCCESS:y,ERROR:v,IN_PROGRESS:m,BLANK:b,DISABLED:g,SUSPENDED:w},S=(d(r={},y,"Project is live"),d(r,v,"Project deploy failed"),d(r,m,"Project deploy in progress"),d(r,b,"Project has not yet been deployed"),d(r,g,"Project is disabled"),d(r,w,"Project is suspended"),r);function j(e){return eo(e)?w:er(e)?g:e.get("deploy_id")?y:e.get("error_message")?v:e.get("build_id")||"current"!==e.get("state")?m:b}function _(e){return S[j(e)]}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!F(e)&&(!!t||(0,s.Ts)(x(e)))}function I(e){var t=c.A.siteDomain,n=e.get("name")||e.get("subdomain");return"".concat(n,".").concat(t)}function A(e){var t;return e.get("custom_domain")?e.get("url"):(t=e.get("default_domain")||I(e),"https://".concat(t))}function x(e){return e&&e.getIn(["build_settings","provider"])}function E(e){var t=x(e);return t&&u.Sc.getIn([t,"name"])||t}function T(e){return/^gitlab/.test(x(e))?"merge request":"pull request"}function q(e){return/^gitlab/.test(x(e))?"MR":"PR"}function D(e){return!!e.getIn(["build_settings","repo_branch"])}function N(e){return D(e)&&1!==(e.getIn(["build_settings","allowed_branches"])||(0,i.List)()).size}function C(e,t){var n,r;return"https://".concat((n=e,r=t,"".concat(r,"--").concat(I(n))))}function R(e){return e.get("custom_domain")}function L(e){return e.get("account_subdomain")||e.get("name")}function U(e){return e.get("id")||e.get("site_id")}function z(e){var t,n,r=f(n=((t=e).get("default_domain")||I(t)).split("."))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||h(n)||p();return(r[0],r.slice(1)).join(".")}function F(e){return!((null==e?void 0:e.getIn(["build_settings","repo_url"]))||(null==e?void 0:e.get("repo_url"))||(null==e?void 0:e.get("deploy_hook")))}function M(e){return!F(e)&&["trusty","production",null].includes(null==e?void 0:e.get("build_image"))}function J(e){return!F(e)&&"xenial"===(null==e?void 0:e.get("build_image"))}function V(e){return!!(null==e?void 0:e.getIn(["build_settings","stop_builds"]))}var B=function(e){return!!(null==e?void 0:e.get("has_password"))},W=function(e){return!!(null==e?void 0:e.get("sso_login"))},H=function(e){return B(e)||W(e)},G=function(e){return(null==e?void 0:e.get("password_context"))||a.c.all},$=function(e){return(null==e?void 0:e.get("sso_login_context"))||a.c.all};function K(e){return e.getIn(["build_settings","provider"])===u.zG.github&&"Organization"===e.getIn(["build_settings","repo_owner_type"])&&!e.getIn(["build_settings","public_repo"])}var Z=function(e){var t=[],n={deploy_preview_custom_domain:"Deploy Preview",branch_deploy_custom_domain:"branch deploy"};if(Object.entries(e).reverse().forEach(function(e){var r=f(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,2)||h(e,2)||p(),i=r[0],a=r[1],c=n[i];a.forEach(function(e){if(null==e?void 0:e.includes("has invalid characters"))return t.push("Additional subdomain for ".concat(c,"s should only contain letters, numbers, hyphens, or dots. It must end with a letter or number."));if(null==e?void 0:e.includes("exceeds the permitted length of 225 chars"))return t.push("The combined length of your ".concat(c," domain exceeds the permitted length of 225 characters."));if(null==e?void 0:e.includes("exceeds the permitted length of 63 chars"))return t.push("Additional subdomain for ".concat(c,"s exceeds the permitted subdomain length of 63 characters."));if(null==e?void 0:e.includes("the subdomain or apex domain has not been added to this project's team with Netlify DNS"))return t.push("The ".concat(c," domain is not set up to use Netlify DNS."));if(null==e?void 0:e.includes("This automatic deploy subdomain is already used on project ")){var n="This automatic deploy subdomain is already used on project ",r=n.replace("automatic deploy subdomain","".concat(c," domain")),i=e.split(n)[1],a=(0,o.l2)({name:i},"domain-management#automatic-deploy-subdomains");return t.push("".concat(r,"[").concat(i,"](").concat(a,")"))}return t.push(e)})}),t.length>0)return t.join(`

`)},X=function(e){return(null==e?void 0:e.get("visual_editor_active"))?null==e?void 0:e.getIn(["primary_create_project","create_project_id"]):void 0},Y=function(e){return e.getIn(["primary_create_project","uses_dev_server"])},Q=function(e){return e.getIn(["primary_create_project","branch"])},ee={bolt:{name:"Bolt",getUrl:function(){return"https://bolt.new"},iconName:"stackblitz-logo"},windsurf_deployment:{name:"Windsurf",getUrl:function(e){return e?"https://codeium.com/redirect/netlify/".concat(e,"/details"):"https://windsurf.com/"}},same:{name:"Same",getUrl:function(){return"https://same.new/"}},pearai:{name:"PearAI",getUrl:function(){return"https://trypear.ai/"}}},et=function(e){var t,n=null==(t=e.get("created_via"))?void 0:t.toLowerCase();return n?ee[n]:void 0},en=function(e){return!!(null==e?void 0:e.get("disabled"))},er=function(e){return!!en(e)&&(null==e?void 0:e.get("disabled_reason"))===k},eo=function(e){return en(e)&&!er(e)}},27180:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(69398),o=n(85927),i=n(2957),a=n(41443),c=n(94958);function u(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,r.init)("af6750c6");let l=new(function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");s(this,"instance",void 0),s(this,"didInit",!1),this.instance=window.CommandBar}return e=[{key:"getInstanceForTesting",value:function(){throw Error("Only use getInstanceForTesting in tests")}},{key:"launch",value:function(e){var t;return(t=function(e){var t,n,r,u,s,l,f,d,p,h,y,v,m,b,g,w,k;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(O){return(t=this,n=e.accountSlug,r=e.accountPlanType,u=e.dispatch,s=e.themePreference,l=e.setThemePreference,f=e.user,d=e.toggleNavCollapse,this.didInit)?[2]:(p=f.get("id"))?(this.didInit=!0,h=f.get("command_bar_signed_user_id"),y=i.B9.Dark,v=i.B9.Light,m=i.B9.OS,this.instance.addMetadata("accountSlug",n),this.instance.addRecords("add",[{label:"Add project from git",route:"/start"},{label:"Add project from a template",route:"/start-with-template"},{label:"Add project by manual deploy (drag and drop)",route:"/drop"}]),this.instance.addRecords("docs",[],{onInputChange:a._L}),this.instance.addRecords("support",[],{onInputChange:a.Rc}),this.instance.addMetadata("theme",s),this.setTheme((0,o.O)(s)),this.instance.addCallback("theme",function(e,n){var r=(0,o.O)(n.theme)===y?v:y;l(r),t.instance.addMetadata("theme",r),t.setTheme(r)}),this.instance.addCallback("theme-os",function(){l(m);var e=(0,o.O)(m);t.instance.addMetadata("theme",e),t.setTheme(e)}),w=null!=(g=null==(b=f.get("email"))?void 0:b.endsWith("@netlify.com"))&&g,this.instance.addMetadata("internal",w),this.instance.setUserProperties({isNetlifyEmployee:w,accountId:null!=(k=f.get("account_id"))?k:"",accountSlug:n,accountPlanType:r,email:b}),this.instance.addCallback("toggleNavigation",d),this.instance.addEventSubscriber(function(e,t){return(0,a.N6)(u,{eventType:e,eventData:t,userId:p,accountSlug:n})}),this.instance.addRouter(function(e){return c.N.push(e)}),[2,this.instance.boot(p,{},{hmac:h})]):(console.error("Attempted to launch command bar without a user id"),[2])})},function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)})}).apply(this,arguments)}},{key:"setTheme",value:function(e){this.instance.setTheme("netlify-theme-".concat(e))}},{key:"setSummonHotkey",value:function(e){this.instance.setSummonHotkey(e)}},{key:"open",value:function(){this.instance.open()}},{key:"shutdown",value:function(){this.instance.shutdown(),this.didInit=!1}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}())},30020:(e,t,n)=>{n.d(t,{b:()=>g});var r=n(36870),o=n(86326),i=n(27578),a=n(57309),c=n(56674),u=n(33650),s=n(19145),l=n(89907),f=n(35433),d=n(70998);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){var t,n,p,g=e.surfaceName,w=e.packageKey,k=e.envVars,O=e.site,S=e.account,j=e.notFoundFallbackComponent,_=e.renderErrorFallback,P=e.host,I=e.routeSplat,A=e.surfaceData,x=e.displayOnly,E=e.exposedFunctions,T=e.outset,q=e.isPreview,D=e.integrationInfo,N=e.dataLayerId,C=e.configurationId,R=e.name,L=e.prefix,U=e.reloadConfig,z=e.projectId,F=null==S?void 0:S.get("id"),M=(0,i.wA)(),J=b((0,o.useState)(!1),2),V=J[0],B=J[1],W=b((0,o.useState)(null),2),H=W[0],G=W[1],$=b((0,o.useState)(null),2),K=$[0],Z=$[1],X=(0,o.useMemo)(function(){return O&&F?{reader:(0,l.q)({site:O,envVars:k}),writer:(0,l.Q)({accountId:F,site:O,dispatch:M,envVars:k})}:void 0},[F,M,k,O]),Y=b((0,o.useState)({}),2)[1],Q=b((0,o.useState)(function(){return new f.Ay({queryParams:new URLSearchParams(window.location.search),surfaceName:g,exposedFunctions:E,envVarHandlers:X,surfaceData:A,accountId:F,accountSlug:null==S?void 0:S.get("slug"),integrationSlug:null==H?void 0:H.integrationSlug,integrationId:null==D?void 0:D.id,useIdentity:null==H?void 0:H.useIdentity,siteName:null==O?void 0:O.get("name"),siteUrl:null==O?void 0:O.get("url"),branch:null==O?void 0:O.getIn(["build_settings","repo_branch"]),serverUrl:P,sdkVersion:null==D?void 0:D.sdkVersion,extensionV1Migrated:null==D?void 0:D.v1Migrated,isPreview:q,dataLayerId:N,configurationId:C,name:R,prefix:L,projectId:z},function(){return Y({})})}),1)[0];return((0,o.useEffect)(function(){Q.updateSurfaceHandlerProps({exposedFunctions:E,surfaceData:A,envVarHandlers:X})},[Q,E,A,X]),(0,o.useEffect)(function(){return function(){Q.cleanup()}},[Q]),(0,o.useEffect)(function(){var e;(e=function(){var e,t,n,r,o,i;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(a){switch(a.label){case 0:return[4,(0,d.j8)({surfaceName:g,host:P,packageKey:w,routeSplat:I,integrationSlug:null==D?void 0:D.slug})];case 1:if(!(e=a.sent())||(t=e.config,n=e.surfaceRouteConfig,r=e.surfaceConfig,o=e.matchedRouteKey,i=e.elementDirectory,!t||!n||!r))return B(!0),[2];return[4,Q.onConfigLoaded({config:t,surfaceConfig:r,surfaceRouteConfig:n,matchedRouteKey:o,elementDirectory:i,siteId:null==O?void 0:O.get("id"),integrationId:null==D?void 0:D.id,host:P})];case 2:return a.sent(),G(t||null),B(!0),[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,c,"next",e)}function c(e){h(i,r,o,a,c,"throw",e)}a(void 0)})})().catch(function(e){Z(e),B(!0)})},[w,I,g,Q,P,O,D]),V)?K&&!D?(0,r.jsx)("div",{className:T,children:(null==_?void 0:_(K))||(0,r.jsx)(u.A,{error:K})}):(null==K?void 0:K.message)===f.rX?(0,r.jsx)("div",{className:T,children:!q&&j||"To preview an integration that requires OAuth, make sure you select the team that owns the integration. "}):(K||!H)&&D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:null==D?void 0:D.name}),(0,r.jsxs)(a.A,{children:[(0,r.jsx)(a.A.Title,{children:"Enabled"}),(0,r.jsxs)("p",{children:["This integration has been enabled for this"," ",O?"project":"team","."]})]})]}):H&&(null==(t=Q.state)?void 0:t.surfaceConfig)&&(null==(n=Q.state)?void 0:n.surfaceRouteConfig)?(0,r.jsx)(s.e,{integrationSlug:H.integrationSlug,integrationId:null==D?void 0:D.id,config:H,surfaceRouteConfig:Q.state.surfaceRouteConfig,envVars:k,account:S,site:O,displayOnly:x,outset:T,onChange:function(e){var t=e.name,n=e.value;Q.save(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.surfaceInputsData;return m(v({},e),{surfaceInputsData:m(v({},r),y({},t,n))})})},surfaceInputsData:null!=(p=Q.state.surfaceInputsData)?p:{},surfaceConfig:Q.state.surfaceConfig,surfaceData:Q.state.surfaceData,surfaceHandler:Q,reloadConfig:U}):(0,r.jsx)("div",{className:T,children:j||"surface package not found"}):(0,r.jsx)(a.A,{children:(0,r.jsx)(c.A,{})})}},35433:(e,t,n)=>{n.d(t,{rX:()=>O,lE:()=>S,Ay:()=>_});var r=n(70728),o=n(92488),i=n(35903);function a(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}var c=n(70998);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if(Array.isArray(e))return e}function l(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function m(e,t){return s(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,t)||w(e,t)||h()}function b(e){return s(e)||p(e)||w(e)||h()}function g(e){return function(e){if(Array.isArray(e))return u(e)}(e)||p(e)||w(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}function k(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var O="Integration ID is required for identity",S=function(e,t){return'iframe[data-surface-name="'.concat(e,"-").concat(t,'"]')};function j(e,t){return f(function(){var n,r;return k(this,function(o){switch(o.label){case 0:return[4,fetch(e)];case 1:if(!(r=o.sent()).ok)throw Error('WFUI - Unable to load script content for "'.concat(e,'"'));if(!(null==(n=r.headers.get("content-type"))?void 0:n.includes("javascript")))throw Error('WFUI - Script "'.concat(e,'" was not javascript'));return[4,r.text()];case 2:return[2,{content:o.sent(),type:t}]}})})()}let _=function(){var e;function t(e,n){var r=e.surfaceName,o=e.exposedFunctions,a=e.envVarHandlers,c=e.surfaceData,u=e.accountId,s=e.accountSlug,l=e.siteName,p=e.queryParams,h=e.serverUrl,y=e.isPreview,v=e.branch,m=e.siteUrl,b=e.sdkVersion,g=e.extensionV1Migrated,w=e.dataLayerId,O=e.configurationId,S=e.name,j=e.prefix,_=e.projectId;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");d(this,"surfaceName",void 0),d(this,"state",void 0),d(this,"updater",null),d(this,"mounted",!0),d(this,"iframeEndpoint",null),d(this,"iframe",null),d(this,"exposedFunctions",void 0),d(this,"envVarHandlers",void 0),d(this,"elementDirectory",new Map),d(this,"accountData",void 0),d(this,"siteName",void 0),d(this,"siteUrl",void 0),d(this,"branch",void 0),d(this,"queryParams",void 0),d(this,"serverUrl",void 0),d(this,"isPreview",void 0),d(this,"sdkVersion",void 0),d(this,"extensionV1Migrated",void 0),d(this,"dataLayerId",void 0),d(this,"configurationId",void 0),d(this,"name",void 0),d(this,"prefix",void 0),d(this,"projectId",void 0),d(this,"getOAuthConnection",function(e,t){return f(function(){var n,r;return k(this,function(o){switch(o.label){case 0:return n="".concat(t,"_integration_provider"),i.Y.includes(e)&&(n=e),[4,fetch("/.netlify/functions/identeer-proxy/connections/".concat(n))];case 1:if(!(r=o.sent()).ok)return[3,3];return[4,r.json()];case 2:return[2,o.sent().token];case 3:return[2,void 0]}})})()}),c&&(this.state={surfaceData:c}),this.surfaceName=r,this.updater=n,this.exposedFunctions=o,this.envVarHandlers=a,this.accountData={accountId:u,accountSlug:s},this.siteName=l,this.siteUrl=m,this.branch=v,this.queryParams=p,this.serverUrl=h,this.isPreview=y,this.sdkVersion=b,this.extensionV1Migrated=g,this.dataLayerId=w,this.configurationId=O,this.name=S,this.prefix=j,this.projectId=_}return e=[{key:"updateSurfaceHandlerProps",value:function(e){var t=e.exposedFunctions,n=e.envVarHandlers,r=e.surfaceData;t&&(this.exposedFunctions=t),r&&(this.state||(this.state={}),this.state.surfaceData=r),n&&(this.envVarHandlers=n)}},{key:"save",value:function(e){if(this.mounted){var t,n="function"==typeof e?e(this.state):e;this.state=y({},this.state,n),null==(t=this.updater)||t.call(this)}}},{key:"getEnvVarValue",value:function(e){if(!this.envVarHandlers)return null;var t=this.envVarHandlers.reader.getEnvVar(e);return t?t.envVar.values[0].value:null}},{key:"onConfigLoaded",value:function(e){return f(function(e){var t,n,r,i,u,s,l,d,p,h,w,_,P,I,A,x,E,T,q,D,N,C,R,L,U,z,F;return k(this,function(M){switch(M.label){case 0:if(t=this,n=e.surfaceConfig,r=e.surfaceRouteConfig,i=e.elementDirectory,u=e.config,s=e.matchedRouteKey,l=e.siteId,d=e.host,p=e.integrationId,_=u.useIdentity,!(P=u.integrationSlug))return[3,4];return(I=new Headers).append("Content-Type","application/json"),A=null!=l?l:this.accountData.accountId,(this.sdkVersion||this.extensionV1Migrated)&&(I.append("Api-Version","2"),A=this.accountData.accountId),[4,fetch("/integration-auth",{method:"POST",headers:I,body:JSON.stringify({ownerId:A,integrationSlug:this.isPreview?"netlify-preview":P})})];case 1:if(!(x=M.sent()).ok)return[3,3];return[4,x.json()];case 2:return w=M.sent().token,[3,4];case 3:T=/\/(sites|teams)\/[^/]+\/integrations\/([^/]+)/,(q=null==(E=window.location.pathname.match(T))?void 0:E[2])&&(D=this.siteName?"/projects/".concat(this.siteName,"/integrations/").concat(q):"/teams/".concat(this.accountData.accountSlug,"/integrations/").concat(q),window.location.href=D),M.label=4;case 4:if(this.state=v(y({},this.state),{surfaceConfig:n,surfaceRouteConfig:r,integrationContext:{siteId:l,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:w,isConnected:void 0,serverUrl:this.serverUrl,dataLayerId:this.dataLayerId,configurationId:this.configurationId,prefix:this.prefix,name:this.name,projectId:this.projectId}}),this.elementDirectory=i,(0,c.zd)(this.surfaceName,this),N={},i.forEach(function(e){var n=e.persistAs,r=e.id;if(n&&r){var o=b(n.split(".")),i=o[0],a=o.slice(1);if("$ENV"!==i)return void console.warn("WFUI - persistAs key other than $ENV is not supported:",i);var c=a.join("."),u=t.getEnvVarValue(c);N[r]=u}}),C=void 0,!_)return[3,6];if(!P||!p)throw Error(O);return[4,this.getOAuthConnection(P,p)];case 5:C=M.sent(),M.label=6;case 6:if(R=v(y({},this.state),{integrationContext:{siteId:l,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:w,providerOAuthToken:C,isConnected:!!C||void 0,serverUrl:this.serverUrl,dataLayerId:this.dataLayerId,configurationId:this.configurationId,prefix:this.prefix,name:this.name,projectId:this.projectId},surfaceInputsData:N}),!(null==(h=n.surfaceScripts)?void 0:h.length))return this.save(R),[2];return[4,function(e){return f(function(e){var t,n,r,i,a,c,u,s,l,d,p,h,y,v,b,w,O,_,P,I,A,x,E,T,q,D,N,C,R,L,U,z,F,M;return k(this,function(J){switch(J.label){case 0:if(t=e.surfaceName,n=e.surfaceScripts,r=e.queryParams,i=e.integrationContext,a=e.host,!(null==n?void 0:n.length)||document.querySelector(S(t,null==i?void 0:i.integrationSlug)))return[2,null];return[4,Promise.all([j("/workflow-ui/netlify-context.js","text/javascript"),function(e){return f(function(e){var t,n;return k(this,function(r){switch(r.label){case 0:return t=e.surfaceScripts,n=e.host,[4,Promise.all((null==t?void 0:t.flatMap(function(e){return f(function(){var t,r;return k(this,function(i){switch(i.label){case 0:try{t=new URL(e,window.location.origin)}catch(t){return console.log("WorkflowUI - Invalid path given. Please ensure it is a valid path (ie. no path traversal):",e),[2,null]}if(t.origin===window.location.origin)return console.log("WorkflowUI - Script paths must be absolute. Please ensure the path is correct:",e),[2,null];if(r=RegExp("netlify-integration-([a-zA-Z0-9-]+).netlify.app"),"localhost"!==t.hostname&&!r.test(t.hostname)&&!o.tc.test(t.toString()))return console.log("WorkflowUI - Script paths must be from localhost, a live preview server or a netlify-integration-*.netlify.app domain. Please ensure the path is correct:",e),[2,null];return n&&(t=new URL(t.pathname,n)),[4,j(t.toString(),"module")];case 1:return[2,i.sent()]}})})()}))||[])];case 1:return[2,r.sent().filter(Boolean)]}})}).apply(this,arguments)}({surfaceScripts:n,host:a})])];case 1:if(h=(p=m.apply(void 0,[J.sent(),2]))[0],!(y=p[1]).length)return[2,null];return i&&(v={href:window.location.href,hash:window.location.hash,search:(null==r?void 0:r.toString())||""}),b=document.createElement("iframe"),document.body.appendChild(b),P=null!=(_=null==(O=null!=(w=null==(c=b.contentWindow)?void 0:c.document)?w:b.contentDocument)?void 0:O.head)?_:document.createElement("head"),(I=document.createElement("meta")).setAttribute("charset","UTF-8"),(A=document.createElement("meta")).setAttribute("http-equiv","Content-Security-Policy"),A.setAttribute("content","style-src * 'unsafe-inline'; script-src 'self' 'unsafe-inline' ".concat(o.V8)),P.appendChild(I),P.appendChild(A),E=null!=(x=null==O?void 0:O.body)?x:document.createElement("body"),q=(T=null!=i?i:{}).siteId,D=T.siteName,N=T.integrationSlug,C=T.isPreview,R=T.accountName,L=T.accountId,U=T.serverUrl,z=C&&N||null==(u=window.location.pathname.match(/\/integrations\/([^/]+)/))?void 0:u[1],F=C?"/ui/preview/".concat(N,"{{route}}?server=").concat(U):D?"/projects/".concat(D,"/integrations/").concat(z,"/").concat(N,"{{route}}"):"/teams/".concat(R,"/integrations/").concat(z,"/").concat(N,"{{route}}"),M=function(e,t){var n,r,o=new URL(e,null==(n=window.top)?void 0:n.location.origin);return new URLSearchParams(null!=(r=null==t?void 0:t.search)?r:"").forEach(function(e,t){"server"!==t&&o.searchParams.append(t,e)}),t.isPreview&&t.siteId&&(o.searchParams.has("_previewSiteId")?o.searchParams.set("_previewSiteId",t.siteId):o.searchParams.append("_previewSiteId",t.siteId)),t.isPreview&&t.accountId&&(o.searchParams.has("_previewAccountId")?o.searchParams.set("_previewAccountId",t.accountId):o.searchParams.append("_previewAccountId",t.accountId)),o.toString()},[v&&{node:P,type:"text/javascript",content:`
      let integrationNavigation = `.concat(JSON.stringify(v),`; 
      const preservedNames = {
      isPreview: `).concat(JSON.stringify(C),`,
      siteId: `).concat(JSON.stringify(q),`,
      accountId: `).concat(JSON.stringify(L),`,
      search: `).concat(JSON.stringify(v.search),`,
    };

      integrationNavigation.navigateTo = (route) => {
        const integrationTemplate = `).concat(JSON.stringify(F),`;

        const integrationHref = integrationTemplate.replace('{{route}}', route);
        const createIntegrationUrl = `).concat(M.toString(),`;
        window.top?.location.assign(createIntegrationUrl(integrationHref, preservedNames));
      };
          
      integrationNavigation.navigateExternally = (url) => {
          window.top?.location.assign(url); 
      };
      `)}].concat(g([h].concat(g(y)).map(function(e){var t=e.content;return{node:E,type:e.type,content:t}}))).filter(Boolean).forEach(function(e){var t,n,r,o,i;n=(t={node:e.node,content:e.content,type:e.type}).node,r=t.content,o=t.type,(i=document.createElement("script")).setAttribute("type",o),i.textContent=r,n.appendChild(i)}),null==(s=b.contentWindow)||s.dispatchEvent(new Event("load")),null==(l=b.sandbox)||l.add("allow-scripts"),null==(d=b.sandbox)||d.add("allow-top-navigation"),b.setAttribute("data-surface-name","".concat(t,"-").concat(null==i?void 0:i.integrationSlug)),b.setAttribute("data-testid","workflowui-".concat(t)),b.setAttribute("style","display: none;"),[2,b]}})}).apply(this,arguments)}({surfaceScripts:n.surfaceScripts,surfaceName:this.surfaceName,queryParams:this.queryParams,host:d,integrationContext:P?{integrationSlug:P,isPreview:this.isPreview,siteId:l,siteName:this.siteName,accountName:this.accountData.accountSlug,accountId:this.accountData.accountId,serverUrl:this.serverUrl,dataLayerId:this.dataLayerId,configurationId:this.configurationId,prefix:this.prefix,name:this.name,projectId:this.projectId}:void 0})];case 7:if(!(L=M.sent()))return this.save(R),[2];return this.iframe=L,this.iframeEndpoint=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.terminate,o=void 0===r||r,i=n.targetOrigin,c=void 0===i?"*":i;if("undefined"==typeof window)throw Error("You can only run fromIframe() in a browser context, but no window was found.");var u=new WeakMap;function s(n){var r;n.source===e.contentWindow&&(null==(r=n.data)?void 0:r.eventName)==="WFUI_IFRAME_LOADED"&&(window.removeEventListener("message",s),t())}var l=new Promise(function(e){t=e,window.addEventListener("message",s)});return{postMessage:function(t,n){var r;return(r=function(){var r;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(o){switch(o.label){case 0:return[4,l];case 1:return o.sent(),null==(r=e.contentWindow)||r.postMessage(t,c,n),[2]}})},function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function c(e){a(i,n,o,c,u,"next",e)}function u(e){a(i,n,o,c,u,"throw",e)}c(void 0)})})()},addEventListener:function(t,n){var r=function(t){t.source===e.contentWindow&&n(t)};u.set(n,r),window.addEventListener(t,r)},removeEventListener:function(e,t){var n=u.get(t);null!=n&&(u.delete(t),window.removeEventListener(e,n))},terminate:function(){window.removeEventListener("message",s),o&&e.remove()}}}(this.iframe,{terminate:!0,targetOrigin:"*"}),this.iframeEndpoint.addEventListener("message",function(e){e.data.eventName.replace("_RESULT","").endsWith("_UICALLBACK")&&e.data.uiState&&t.save(e.data.uiState)}),this.iframeEndpoint.addEventListener("message",function(e){return f(function(){var t,n,r,o,i,a,c,u,s;return k(this,function(l){switch(l.label){case 0:if("WFUI_CALL_EXPOSED_FUNCTION"!==e.data.eventName)return[3,5];r=(n=e.data).functionName,o=n.args,i=n.id,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,null==(u=this.exposedFunctions)?void 0:(c=u)[r].apply(c,g(o))];case 2:return a={status:"success",data:l.sent()},[3,4];case 3:return console.error("oops",s=l.sent()),a={status:"error",data:s},[3,4];case 4:null==(t=this.iframeEndpoint)||t.postMessage({eventName:"WFUI_ASYNC_REQUEST_SETTLES",response:a,id:i}),l.label=5;case 5:return[2]}})}).call(t)}),this.exposedFunctions&&this.iframeEndpoint.postMessage({eventName:"WFUI_SEND_EXPOSED_FUNCTIONS",surfaceName:this.surfaceName,exposedFunctions:Object.keys(this.exposedFunctions)}),U=v(y({},this.state),{integrationContext:{siteId:l,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:w,providerOAuthToken:C,isConnected:!!C||void 0,serverUrl:this.serverUrl,dataLayerId:this.dataLayerId,configurationId:this.configurationId,prefix:this.prefix,name:this.name,projectId:this.projectId},surfaceInputsData:N}),z=P?this.sdkVersion&&this.sdkVersion.startsWith("2")?"WFUI_LOAD_".concat(this.surfaceName,"_").concat(s):"WFUI_LOAD_".concat(s):"WFUI_LOAD",[4,this.postEventWithResponse(z,U)];case 8:return F=M.sent(),this.save(null!=F?F:U),[2]}})}).apply(this,arguments)}},{key:"onSurfaceInteraction",value:function(e,t,n){return f(function(){var r;return k(this,function(o){switch(o.label){case 0:if(!this.state)return console.error("onSurfaceInteraction called with no ui state"),[2];return this.state=v(y({},this.state),{surfaceInputsData:y({},this.state.surfaceInputsData,n)}),[4,this.postEventWithResponse("WFUI_INTERACTION_".concat(e,":onChange"),this.state,t)];case 1:return(r=o.sent())&&this.save(r),[2,this.state]}})}).call(this)}},{key:"onFormCancel",value:function(e){return f(function(){var t;return k(this,function(n){switch(n.label){case 0:return[4,this.postEventWithResponse("WFUI_CANCEL_".concat(e,":cancel"),this.state)];case 1:return(t=n.sent())&&this.save(t),[2]}})}).call(this)}},{key:"onSurfaceSave",value:function(e,t){return f(function(){var n,o,i,a,c,u,s,l;return k(this,function(f){switch(f.label){case 0:if(n=this,!this.state)return console.error("onSurfaceSave called with no ui state"),[2,this.state];return t&&(this.state=v(y({},this.state),{surfaceInputsData:t})),[4,this.postEventWithResponse("WFUI_SAVE_".concat(e,":submit"),this.state)];case 1:if((o=f.sent())&&this.save(o),!this.envVarHandlers)return[2,this.state];return a=(i=this.envVarHandlers).reader,c=i.writer,u=[],s=[],Object.entries(null!=(l=this.state.surfaceInputsData)?l:{}).forEach(function(e){var t=m(e,2),o=t[0],i=t[1],c=n.elementDirectory.get(o);if(null==c?void 0:c.persistAs){var l=r._E.map(function(e){return e.value}),f=b(c.persistAs.split(".")),d=f[0],p=f.slice(1);if("$ENV"===d.toUpperCase()){var h=p.join(".");if(!h)return void console.error("No environment variable key specified for element",c);if(Array.isArray(i))throw Error("".concat(o," should not be an array type for an environment variable"));var y={key:h,scopes:l,values:[{context:"all",value:i}]};a.isExistingEnvVar(h)?u.push(y):s.push(y)}else console.warn("Unknown persistAs key:",d)}}),[4,Promise.all([c.createEnvVars(s),c.updateEnvVars(u)])];case 2:return f.sent(),[2,this.state]}})}).call(this)}},{key:"onDisable",value:function(){return f(function(){var e,t,n;return k(this,function(r){switch(r.label){case 0:if(!this.state)return console.error("onDisable called with no ui state"),[2];return[4,this.postEventWithResponse("WFUI_PKG_DISABLED",this.state)];case 1:if(e=r.sent(),this.save(v(y({},e),{surfaceInputsData:{}})),!this.envVarHandlers)return[2];return t=this.envVarHandlers.writer,n=[],this.elementDirectory.forEach(function(e){if(e.persistAs){var t=b(e.persistAs.split(".")),r=t[0],o=t.slice(1);if("$ENV"===r.toUpperCase()){var i=o.join(".");if(!i)return void console.error("No environment variable key specified for element",e);n.push(i)}else console.warn("Unknown persistAs key:",r)}}),[4,t.deleteEnvVars(n)];case 2:return r.sent(),[2]}})}).call(this)}},{key:"onEnable",value:function(){return f(function(){var e;return k(this,function(t){switch(t.label){case 0:if(!this.state)return console.error("onEnable called with no ui state"),[2];return[4,this.postEventWithResponse("WFUI_PKG_ENABLED",this.state)];case 1:return(e=t.sent())&&this.save(e),[2]}})}).call(this)}},{key:"cleanup",value:function(){var e;null==(e=this.iframeEndpoint)||e.terminate(),this.iframe=null,this.mounted=!1,this.updater=null,(0,c.ah)(this.surfaceName)}},{key:"postEventWithResponse",value:function(e,t,n){var r=this;return this.iframeEndpoint?new Promise(function(o){var i=function(t){var n,a;(null==(n=t.data)?void 0:n.eventName)==="".concat(e,"_RESULT")&&(o(function(e){if(e){var t={surfaceRouteConfig:e.surfaceRouteConfig,surfaceConfig:e.surfaceConfig,surfaceInputsData:e.surfaceInputsData,integrationContext:e.integrationContext};return Object.entries(t).forEach(function(e){var n=m(e,2),r=n[0];n[1]||delete t[r]}),t}}(t.data.uiState)),null==(a=r.iframeEndpoint)||a.removeEventListener("message",i))};r.iframeEndpoint?(r.iframeEndpoint.addEventListener("message",i),r.iframeEndpoint.postMessage({eventName:e,uiState:t,interactionValue:n})):o(void 0)}):Promise.resolve(void 0)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()},35903:(e,t,n)=>{n.d(t,{M:()=>w,Y:()=>b});var r=n(36870),o=n(51101),i=n(86326),a=n(17250),c=n(13243),u=n(27578),s=n(77926),l=n(57309),f=n(56674),d=n(68444);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,c,"next",e)}function c(e){h(i,r,o,a,c,"throw",e)}a(void 0)})}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var b=["planetscale"],g=function(e){var t,n,p=e.providerName,h=e.connectWithMessage,g=e.disconnectFromMessage,w=e.disconnectWarning,k=e.contextOptions,O=e.sdkVersion,S=k.surfaceHandler,j=k.integrationSlug,_=k.integrationId,P=window.location.pathname.startsWith("/ui/preview"),I=null!=(n=null==(t=S.state)?void 0:t.integrationContext)?n:{},A=I.serverUrl,x=I.providerOAuthToken,E=I.netlifyToken,T=I.siteId,q=I.accountId,D=v((0,i.useState)(),2),N=D[0],C=D[1],R=!!x,L=v((0,i.useState)(!1),2),U=L[0],z=L[1],F=v((0,i.useState)(!1),2),M=F[0],J=F[1],V=null!=w?w:"Are you sure you want to disconnect from your ".concat(p," account?"),B="Disconnect from ".concat(p),W=(0,c.$Z)(),H=W.data,G=W.isLoading,$=(0,u.d4)(function(e){return(0,a.PR)(e)}),K=function(){var e="".concat(_,"_integration_provider");return j&&b.includes(j)&&(e=j),e};return((0,i.useEffect)(function(){if(H){var e=K();C(!!(null==H?void 0:H.find(function(t){return t.slug===e})))}},[H]),!1===N)?(0,r.jsx)(s.A,{error:P?"This integration is not configured for OAuth. To configure OAuth, please go to your [integration settings](/teams/".concat($.get("slug"),"/integrations/private/").concat(j,"/edit)."):"There was a problem loading the OAuth identity provider’s configuration."}):U||G?(0,r.jsx)(l.A,{children:(0,r.jsx)(f.A,{className:"tw-mt-2"})}):void 0===R?(0,r.jsx)(l.A,{children:(0,r.jsx)(f.A,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Ay,{show:M,saveLabel:"Disconnect",savingLabel:"Disconnecting",title:B,onSave:function(){return y(function(){var e,t,n,r,o,i;return m(this,function(a){switch(a.label){case 0:if(z(!0),t=(e=v(O.split(".").map(Number),3))[0],n=e[1],r=e[2],o=K(),!(t>=1&&n>=0&&r>=8))return[3,2];return(i=new URL("/.netlify/functions/handler/on-disconnect",null!=A?A:"https://netlify-integration-".concat(o,".netlify.app"))).searchParams.set("siteId",T),i.searchParams.set("teamId",q),[4,fetch(i,{method:"POST",headers:{"netlify-token":E,"provider-oauth-token":x}})];case 1:a.sent(),a.label=2;case 2:return[4,fetch("/.netlify/functions/identeer-proxy/disconnect/".concat(o))];case 3:return a.sent(),window.location.reload(),[2]}})})()},onHide:function(){return J(!1)},saveButtonVariant:"danger",children:(0,r.jsx)("p",{children:V})}),(0,r.jsxs)(l.A,{title:R?"Your Netlify account is connected to ".concat(p):"Connect your Netlify account to ".concat(p),children:[!R&&(0,r.jsx)("p",{children:h}),R&&(0,r.jsx)("p",{children:g}),R?(0,r.jsx)(o.$n,{className:"tw-mt-4 tw-w-max",onClick:function(){return J(!0)},children:"Disconnect"}):(0,r.jsx)(o.$n,{className:"tw-mt-4 tw-w-max",onClick:function(){return y(function(){var e,t,n,r;return m(this,function(o){switch(o.label){case 0:return z(!0),(e=new URLSearchParams).append("redirect_uri",window.location.href),t=K(),[4,fetch("/.netlify/functions/identeer-proxy/auth/".concat(t,"?").concat(e.toString()))];case 1:if(!(n=o.sent()).ok)return[3,3];return[4,n.json()];case 2:r=o.sent().auth_url,window.open(r,"_self"),o.label=3;case 3:return[2]}})})()},children:"Connect"})]})]})},w={type:"connection",optionsSchema:{},render:function(e,t){var n=e.connectWithMessage,o=e.providerFriendlyName,i=e.disconnectFromMessage,a=e.disconnectWarning,c=t.sdkVersion,u=t.integrationSlug,s=t.integrationId;return n&&i&&o&&u&&s&&c?(0,r.jsx)(g,{connectWithMessage:n,disconnectFromMessage:i,disconnectWarning:a,providerName:o,contextOptions:t,sdkVersion:c}):null}}},44151:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(85342),o=n(55154),i=n(20625);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function f(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=["headers","parseJsonResponse","request","postRequest"],p=`We’re having some trouble connecting you to Netlify.

This error may be caused by an ad blocker or browser extension. You can try disabling blocking on this page or running in incognito`,h=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");return u(this,"root",void 0),this.root="/access-control/create-api",new Proxy(this,{get:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("function"==typeof e[t]&&!d.includes(t.toString())){var a,c,u=(c=Reflect).get.apply(c,[e,t].concat(f(r))),s=t.toString();return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=(0,o.Df)("api-".concat(s,"-start")),a=u.apply(e,n);return a.then?new Promise(function(e,t){a.then(function(t){var n=(0,o.Df)("api-".concat(s,"-end"),{rejected:!1});return(0,o.QR)("api-".concat(s,"-complete"),i,n),e(t)}).catch(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=(0,o.Df)("api-".concat(s,"-end"),{rejected:!0});return(0,o.QR)("api-".concat(s,"-complete"),i,a),t.apply(void 0,f(n))})}):a}}return(a=Reflect).get.apply(a,[e,t].concat(f(r)))}})}return e=[{key:"headers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({"Content-Type":"application/json"},{},e)}},{key:"parseJsonResponse",value:function(e){var t=!1;return e.json().then(function(n){return t=!0,e.ok?{data:n,pagination:(0,i.nA)(e)}:Promise.reject(l(s({},n),{status:e.status}))}).catch(function(n){return t?Promise.reject(n):Promise.reject({status:e.status})})}},{key:"request",value:function(e){var t;return(t=function(e){var t,n,o,i=arguments;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(a){return t=this,n=i.length>1&&void 0!==i[1]?i[1]:{},"delete"===(o=this.headers(n.headers||{}))["Content-Type"]&&delete o["Content-Type"],[2,fetch(this.root+e,l(s({},{credentials:"include"},n),{headers:o})).then(function(e){if(n.raw&&e.ok)return e.arrayBuffer();var r=e.headers.get("Content-Type");return r&&r.match(/json/)?t.parseJsonResponse(e):e[r&&r.match(/(text|javascript|xml|svg)/i)?"text":"arrayBuffer"]().then(function(t){return e.ok?{data:t}:Promise.reject(e)})}).catch(function(e){var t;if(/Failed to fetch/.test(e))t=new r.A(p);else if("AbortError"===e.name)t=e;else{var n,o=e.status,i=e.code,a=e.message;t=new r.A({code:null!=(n=null!=o?o:i)?n:500,message:a})}return Promise.reject(t)})]})},function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)})}).apply(this,arguments)}},{key:"postRequest",value:function(e,t){var n={method:"POST"};return t&&(n.body=t),this.request(e,n)}},{key:"projects",value:function(e){return this.postRequest("/core/projects",JSON.stringify({projectIds:e}))}},{key:"project",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).signal;return this.request("/project/".concat(e),{signal:t})}},{key:"updateProject",value:function(e,t){return this.request("/project/".concat(e),{method:"PUT",body:JSON.stringify({project:t})})}},{key:"generateProjectId",value:function(){return this.request("/project/generate",{method:"GET"})}},{key:"redeployProject",value:function(e,t){var n=t.environmentName,r=t.force,o=t.previewToken;return this.postRequest("/project/".concat(e,"/redeploy"),JSON.stringify({environmentName:void 0===n?void 0:n,force:void 0!==r&&r,previewToken:void 0===o?void 0:o}))}},{key:"stopProject",value:function(e){return this.postRequest("/project/".concat(e,"/stop"))}},{key:"restartPreview",value:function(e){return this.request("/project/".concat(e,"/restart-preview"))}},{key:"updateProjectEnvVars",value:function(e,t){return this.postRequest("/project/".concat(e,"/env-vars"),JSON.stringify(t))}},{key:"logout",value:function(){return this.request("/auth/logout")}},{key:"projectAction",value:function(e,t){return this.postRequest("/project/".concat(e,"/action?type=").concat(t),JSON.stringify({action:t}))}},{key:"connectedOrganization",value:function(e){return this.request("/organization/connected/".concat(e))}},{key:"analyzeRepo",value:function(e,t,n,r){return this.postRequest("/project/analyze-repo",JSON.stringify({repoUrl:e,branch:t,options:n,token:r}))}},{key:"ensureUser",value:function(){return this.postRequest("/core/ensure-user")}},{key:"getUser",value:function(){return this.request("/user/my")}},{key:"provisionContent",value:function(e){return this.postRequest("/project/provision-content",JSON.stringify(e))}},{key:"validateSanityToken",value:function(){return this.request("/auth/sanity/token")}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()},45235:(e,t,n)=>{n.d(t,{HY:()=>g,ME:()=>f,Rr:()=>P,VD:()=>S,X0:()=>m,XG:()=>j,XR:()=>b,Yq:()=>u,_Q:()=>d,dU:()=>v,fD:()=>c,gN:()=>o,hQ:()=>i,hR:()=>s,k:()=>_,mG:()=>a,mg:()=>p,p_:()=>r,qZ:()=>l,qn:()=>k,r0:()=>w,u8:()=>y,wW:()=>h});var r="Organization Owner",o="Owner",i="Developer",a="Billing Admin",c="Git Contributor",u="Reviewer",s="Publisher",l="Content Editor",f="Developer Lite",d=function(){return[o,i,a,s,l,f]},p=function(e){return e===r},h=function(e){return[r,o].includes(e)},y=function(e){return e===o},v=function(e){return[i,"Collaborator"].includes(e)},m=function(e){return[a,"Controller"].includes(e)},b=function(e){return e===s||e===l},g=function(e){return e===s},w=function(e){return e===l},k=function(e){return e===u},O=function(e,t){var n=e.find(function(e){return e.role===t});return n?n.counts.total:0},S=function(e){var t=e.memberRoles,n=e.excludeActive,r=void 0!==n&&n;return t.reduce(function(e,t){var n;return t.billable?(null==(n=t.counts)?void 0:n.active)!==void 0?r?e:e+t.counts.active:e+t.counts.total:e},0)},j=function(e){return O(e,u)},_=function(e){var t;return null==(t=e.find(function(e){return e.role===c}))?void 0:t.counts},P=function(e){var t,n;return(null==(n=e.find(function(e){return e.role===c}))||null==(t=n.counts)?void 0:t.active)||0}},47936:(e,t,n)=>{n.d(t,{O:()=>h});var r=n(29511);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)})}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}function p(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var h=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function n(e,t){var r,o,i;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return o=u(o=n),c(r=function(e,t){var n;if(t&&("object"==((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,d()?Reflect.construct(o,[],u(this).constructor):o.apply(this,i)),"git",void 0),c(r,"details",void 0),c(r,"fileCache",void 0),c(r,"dirCache",void 0),c(r,"pending",void 0),r.git=e,r.details=t,r.fileCache=new Map,r.dirCache=new Map,r.pending=new Map,r}return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&f(n,e),t=[{key:"changeBranch",value:function(e){this.details.branch=e,this.fileCache=new Map,this.dirCache=new Map,this.pending=new Map}},{key:"getEnvironment",value:function(){return"browser"}},{key:"isAbsolute",value:function(e){return e.startsWith("/")}},{key:"resolve",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.join.apply(this,function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return this.isAbsolute(r)?r:this.join(this.cwd,r)}},{key:"fileExists",value:function(e){return a(function(){return p(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.readFile(e)];case 1:return t.sent(),[2,!0];case 2:return t.sent(),[2,!1];case 3:return[2]}})}).call(this)}},{key:"readDir",value:function(e,t){return a(function(){var n,r,o,i,a;return p(this,function(u){switch(u.label){case 0:if(n=this.resolve(e).replace(/^\//,""),!(r=this.dirCache.get(n)))return[3,1];return o=r,[3,5];case 1:if(!(i=this.pending.get(n)))return[3,3];return[4,Promise.resolve(i)];case 2:return o=u.sent(),[3,5];case 3:return a=this.git.dir(l(s({},this.details),{filepath:n})).then(function(e){return e.data}),this.pending.set(n,a),[4,a];case 4:o=u.sent(),this.dirCache.set(n,o),this.pending.delete(n),u.label=5;case 5:if(!t)return[2,o.map(function(e){return e.name})];return[2,o.reduce(function(e,t){return l(s({},e),c({},t.name,"dir"===t.type?"directory":"file"))},{})]}})}).call(this)}},{key:"readFile",value:function(e){return a(function(){var t,n,r,o,i;return p(this,function(a){switch(a.label){case 0:if(t=this.resolve(e).replace(/^\//,""),n=this.fileCache.get(t))return[2,n];if(!(r=this.pending.get(t)))return[3,2];return[4,Promise.resolve(r)];case 1:return[2,a.sent()];case 2:return o=this.git.read(l(s({},this.details),{filepath:t})).then(function(e){return e.data}),this.pending.set(t,o),[4,o];case 3:return i=a.sent(),this.fileCache.set(t,i),this.pending.delete(t),[2,i]}})}).call(this)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,t),n}(r.Q2)},47975:(e,t,n)=>{n.d(t,{Gg:()=>h,Ts:()=>O,X2:()=>y,YJ:()=>v,tj:()=>S});var r=n(55359),o=n.n(r),i=n(70728),a=n(4140);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}var d=l(["custom","nextjs","gatsby","jekyll","hugo","eleventy","vuepress","gridsome","nuxt","sapper","hexo","astro"]).concat(["astro"]),p=function(e){return e?"next"===e?"nextjs":d.find(function(t){return t===e})||"custom":"custom"},h="STACKBIT_API_SECRET",y=function(e){var t,n,r,a,c,s,d,h,y,v,m,b=e.formSettings,g=e.repo,w=e.site,S=e.gitAccessToken,j=e.environmentVariables,_=e.cms,P=e.frameworkName,I=e.generateProjectIdToken,A=e.legacyContentSources,x=b.visualEditorSettings,E=b.branch,T=b.env,q=b.base;if(!x)return{};var D=w.name,N=w.id,C=w.account_id,R=p(P),L=null==(t=g.visualEditorRepoAnalysis)?void 0:t.data,U=null==j?void 0:j.reduce(function(e,t){var n=t.key,r=t.values,o=t.is_secret,a=void 0!==o&&o,c=(0,i.Uy)(r),u=c.production,s=c.all;return e[n]={value:a?"":u||s,isValid:!0,secure:a},e},{}),z=null==A?void 0:A.flatMap(function(e){return Object.entries(e.envVars.toJS())}).reduce(function(e,t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(t,2)||f(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1];return e[r]={value:o,isValid:!0,secure:!1},e},{}),F=T?Object.keys(T):[];z&&F.push.apply(F,l(Object.keys(z)));var M=u({},U,z),J=F.length>0?F.reduce(function(e,t){return e[t]={value:T?T[t]:M[t],isValid:!0,secure:!1},e},M):void 0;return(null==L||null==(n=L.validation)?void 0:n.hasConfig)||(y=k({ssgName:R,cmsValues:_?[_]:(null==A?void 0:A.map(function(e){return e.value}))||[]})),{generateProjectIdToken:I,gitAccessToken:S,coreAccountId:C,previewBranch:x.previewBranch,publishBranch:E,projectParameters:{name:D,cmsData:{cmsName:null},config:y,generateConfig:!(null==L||null==(r=L.validation)?void 0:r.hasConfig),ssgData:{ssgName:null!=R?R:"custom",ssgDir:null!=q?q:"",runnableDir:null!=q?q:""},envVars:J,settings:{appConfigEnv:"prod"},deployData:{deployName:"netlify",sharedUser:!1,siteId:N}},repoInfo:{selectedGitRepo:{name:g.name,owner:{login:g.owner}},isExternalRepo:!!(null==(a=w.build_settings)?void 0:a.provider)&&!O(w.build_settings.provider),useExistingRepo:!0,selectedRepoUrl:g.repo_url,selectedRepoAccessToken:null!=(v=x.repoInfo.selectedRepoAccessToken)?v:"",selectedBranch:E,stackbitYmlFound:null==L||null==(c=L.validation)?void 0:c.hasConfig,stackbitYmlValid:!!((null==L||null==(s=L.validation)?void 0:s.hasConfig)&&o()(null==L||null==(d=L.validation)?void 0:d.config)&&o()(null==L||null==(h=L.validation)?void 0:h.content)),isValidated:!0,isAnalyzed:!0,themeConfig:null!=(m=null==L?void 0:L.config)?m:{}}}},v=function(e){var t=e.baseDir;return{projectParameters:{ssgData:{runnableDir:null!=t?t:""}}}},m=`
import { defineStackbitConfig } from '@stackbit/types';

export default defineStackbitConfig({})`,b={stackbitVersion:"~0.6.0",nodeVersion:"18",ssgName:"",contentSources:[]},g=["contentful","sanity","datoCms","contentstack"],w={contentful:{postInstallCommand:"@stackbit/cms-contentful",import:"import { ContentfulContentSource } from '@stackbit/cms-contentful';",contentSource:`
        new ContentfulContentSource({
            spaceId: process.env.CONTENTFUL_SPACE_ID!,
            environment: process.env.CONTENTFUL_ENVIRONMENT || 'master',
            previewToken: process.env.CONTENTFUL_PREVIEW_TOKEN!,
            accessToken: process.env.CONTENTFUL_MANAGEMENT_TOKEN!
        }),
`},sanity:{postInstallCommand:"@stackbit/cms-sanity",import:`import { SanityContentSource } from '@stackbit/cms-sanity';
import path from 'path';`,contentSource:`
        new SanityContentSource({
            projectId: process.env.SANITY_PROJECT_ID!,
            token: process.env.SANITY_ACCESS_TOKEN!,
            dataset: process.env.SANITY_DATASET || 'production',
            rootPath: __dirname,
            studioPath: path.resolve(__dirname, 'studio'),
            studioUrl: process.env.SANITY_STUDIO_URL || ''
        }),
`},datoCms:{postInstallCommand:"@stackbit/cms-datocms",import:"import { DatoCMSContentSource } from '@stackbit/cms-datocms';",contentSource:`
        new DatoCMSContentSource({
            apiToken: process.env.DATOCMS_API_TOKEN!,
            projectId: process.env.DATOCMS_PROJECT_ID!
        }),
`},contentstack:{postInstallCommand:"@stackbit/cms-contentstack",import:"import { ContentstackContentSource } from '@stackbit/cms-contentstack';",contentSource:`
        new ContentstackContentSource({
            apiKey: process.env.CONTENTSTACK_API_KEY!,
            managementToken: process.env.CONTENTSTACK_MANAGEMENT_TOKEN!,
            authtoken: process.env.CONTENTSTACK_AUTHTOKEN,
            branch: process.env.CONTENTSTACK_BRANCH!,
            publishEnvironmentName: process.env.CONTENTSTACK_PUBLISH_ENV || 'production',
            skipFetchOnStartIfCache: true
        }),
    `}},k=function(e){var t=e.ssgName,n=e.cmsValues;n&&0!==n.length||(n=["noCms"]);var r=s(u({},b),{ssgName:void 0===t?"custom":t}),o=m,i="",a="npm i --no-save @stackbit/types",c=!0,l=!1,f=void 0;try{for(var d,p=n[Symbol.iterator]();!(c=(d=p.next()).done);c=!0)!function(){var e=d.value;if(g.some(function(t){return t===e})){var t=w[e];t&&(i=i.concat(t.contentSource),a=a.concat(" ".concat(t.postInstallCommand)),o=o.replace(/^/,"".concat(t.import,`
`)))}}()}catch(e){l=!0,f=e}finally{try{c||null==p.return||p.return()}finally{if(l)throw f}}var h=JSON.stringify(s(u({},r),{postInstallCommand:a}),null,4);return i&&(h=h.replace(/\[\]/g,"[".concat(i,"    ]"))),h=o.replace(/defineStackbitConfig\(\{\}\)/,"defineStackbitConfig(".concat(h.trim(),")")).trim()},O=function(e){var t=[a.zG.azure_devops,a.zG.gitlab,a.zG.gitlab_self_hosted];return!!e&&!t.includes(e)},S=function(e){var t,n,r=e.template,o=e.cmsData,i=e.visualEditorRepoAnalysisData,a=e.accountId,c=e.frameworkName,u=i.config;return(null==u||null==(t=u.import)?void 0:t.deployStudio)&&(u.import.deployStudio=!1),{coreAccountId:a,previewBranch:i.previewBranch,publishBranch:i.defaultBranch,projectParameters:{name:r.slug,cmsData:o,config:u,ssgData:{ssgName:p(c),ssgDir:"",runnableDir:""},settings:{appConfigEnv:"prod"},deployData:{deployName:"netlify",sharedUser:!1}},repoInfo:{selectedGitRepo:{name:r.slug,owner:{}},useExistingRepo:!0,selectedRepoUrl:r.sourceCodeUrl,selectedBranch:i.defaultBranch,stackbitYmlFound:!0,stackbitYmlValid:!0,isValidated:!0,isAnalyzed:!0,themeConfig:null!=(n=i.config)?n:{}}}}},52386:(e,t,n)=>{function r(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function c(e){r(a,o,i,c,u,"next",e)}function u(e){r(a,o,i,c,u,"throw",e)}c(void 0)})}}function i(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}n.d(t,{_$:()=>c,d9:()=>u,jH:()=>a});var a=function(e){var t=e.customerName,n=e.customerEmail,r=e.paymentMethodId;return o(function(){var e,o,a,c;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,fetch("/.netlify/functions/create-payment-customer",{method:"POST",body:JSON.stringify({customerName:t,customerEmail:n,paymentMethodId:r})})];case 1:if((e=i.sent()).ok)return[3,3];return[4,e.json()];case 2:return[2,{status:"error",error:i.sent().message}];case 3:return[4,e.json()];case 4:return a=(o=i.sent()).customer,c=o.paymentStatus,[2,{status:"success",data:{customer:a,paymentStatus:c,setupIntentId:o.setupIntentId,clientSecret:o.clientSecret}}];case 5:return[2,{status:"error",error:i.sent()}];case 6:return[2]}})})()},c=function(e){var t=e.customerId,n=e.paymentMethodId;return o(function(){var e,r,o,a;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,fetch("/.netlify/functions/update-payment-customer",{method:"POST",body:JSON.stringify({customerId:t,paymentMethodId:n})})];case 1:if((e=i.sent()).ok)return[3,3];return[4,e.json()];case 2:return[2,{status:"error",error:i.sent().message}];case 3:return[4,e.json()];case 4:return o=(r=i.sent()).customer,a=r.paymentStatus,[2,{status:"success",data:{customer:o,paymentStatus:a,setupIntentId:r.setupIntentId,clientSecret:r.clientSecret}}];case 5:return[2,{status:"error",error:i.sent()}];case 6:return[2]}})})()},u=function(e){var t=e.customerId,n=e.paymentMethodId,r=e.setupIntentId;return o(function(){var e;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),[4,fetch("/.netlify/functions/update-payment-customer-3ds-challenge",{method:"POST",body:JSON.stringify({customerId:t,paymentMethodId:n,setupIntentId:r})})];case 1:if((e=o.sent()).ok)return[3,3];return[4,e.json()];case 2:return[2,{status:"error",error:o.sent().message}];case 3:return[4,e.json()];case 4:return[2,{status:"success",data:{customer:o.sent().customer}}];case 5:return[2,{status:"error",error:o.sent()}];case 6:return[2]}})})()}},53635:(e,t,n)=>{n.d(t,{V:()=>c});var r=n(11080);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=function(e){var t,n;return(null!=(n=null==(t=(0,r.Zl)())?void 0:t.split("&"))?n:[]).some(function(t){return e.some(function(e){return t.split("=")[1]===e})})},a=function(e,t){if(!e)return!1;var n=!0,r=!1,i=void 0;try{for(var a,c=e.entries()[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var u=function(){var e,n=(e=a.value,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];if(t.some(function(e){return e===n}))return{v:!0}}();if("object"==(u&&"undefined"!=typeof Symbol&&u.constructor===Symbol?"symbol":typeof u))return u.v}}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return!1},c=function(e){var t=e.featureFlagValues,n=e.nextSearchParams;return i(t.utm)||a(n,t.utm)}},54390:(e,t,n)=>{n.d(t,{h1:()=>_,J5:()=>u,nZ:()=>s,yl:()=>l,lM:()=>p});var r=n(36870),o=n(30143),i=n.n(o),a=n(81036),c=n(92488),u=function(e){return i().satisfies(""===e?"1.0.0":e,">= 2.0.0")?"extension-ui":"integration-ui"},s=function(e){var t;return"integration-ui"===u(null!=(t=e.sdkVersion)?t:"")},l=function(e){var t;return"extension-ui"===u(null!=(t=e.sdkVersion)?t:"")},f=function(e){switch(e){case a.v.SiteConfiguration:case a.v.SiteGeneralConfiguration:case a.v.TeamConfiguration:return c._m;default:return null}},d=function(e){var t=f(e);if(null===t)throw Error("Surface ".concat(e," is not supported by Integration UI"));return t},p=function(e){var t=e===c._m?[a.v.SiteConfiguration,a.v.SiteGeneralConfiguration]:null;if(null===t)throw Error("Surface ".concat(e," is not supported by Integration UI"));return t},h=n(20424),y=n(75025),v=n(73700),m=n(73270),b=n(7942),g=n(82432),w=n(80841),k=n(17250),O=n(30020),S=n(40954),j=(0,g.Ng)(function(e){return{account:(0,k.PR)(e)}})(function(e){var t=e.account,n=e.error,o=void 0===n?h.U:n,i=e.extensionSlug,a=e.loader,c=void 0===a?y.Z:a,u=e.surface,s=e.site,l=(0,b.bF)({accountId:null==t?void 0:t.get("id"),slug:i}),f=(0,w.g)();return l.isFetching?(0,r.jsx)(c,{}):l.isError?(0,r.jsx)(o,{error:l.error}):null===l.data||void 0===l.data?(0,r.jsx)(o,{error:"Failed to load extension data."}):(0,r.jsx)(O.b,{account:t,site:s,host:l.data.hostSiteUrl,integrationInfo:l.data,notFoundFallbackComponent:(0,r.jsx)("div",{className:"tw-relative tw-mx-auto tw-max-w-170 tw-text-center",children:(0,r.jsx)(S.A,{title:(0,r.jsx)("h2",{className:"tw-text-xl",children:"Page not found"})})}),packageKey:"to-be-removed",routeSplat:f.splat,surfaceName:d(u)})}),_=function(e){var t,n=e.accountId,o=e.userId,i=e.className,a=e.error,c=void 0===a?h.U:a,s=e.extensionSlug,l=e.loader,f=void 0===l?y.Z:l,d=e.siteId,p=e.site,g=e.surface,w=e.title,k=(0,b.bF)({accountId:n,slug:s});if(k.isFetching)return(0,r.jsx)(f,{});if(k.isError)return(0,r.jsx)(c,{error:k.error});if(null===k.data||void 0===k.data)return(0,r.jsx)(c,{error:"Failed to load extension data."});var O=u(null!=(t=k.data.sdkVersion)?t:""),S=(0,m.H)(g,k.data);return(0,r.jsxs)(r.Fragment,{children:["extension-ui"===O&&S&&(0,r.jsx)(v.h,{accountId:n,userId:o,className:i,extensionSlug:s,siteId:d,surface:g,title:w}),"integration-ui"===O&&(0,r.jsx)(j,{extensionSlug:k.data.slug,surface:g,site:p})]})}},55154:(e,t,n)=>{n.d(t,{My:()=>B,Q:()=>W,IX:()=>V,Jw:()=>J,QR:()=>P,Df:()=>_,p2:()=>G,$3:()=>H});var r,o=n(92071),i=n(90451),a=n(6430),c=n(29383),u=["api-aws.netlify.com","api.netlify.com","api-staging.netlify.com","www.netlify.com","www.netlify.app","app.netlifystg.com","app.netlifystg.app","app.netlify.com","analytics.services.netlify.com","analytics-staging.services.netlify.com","supportapi.services.netlify.com","list-v2--netlify-plugins.netlify.app","localhost","d33wubrfki0l68.cloudfront.net"],s=["commandbar","github","zuora","bitbucket","gitlab","gravatar"];function l(e){return null!=e&&new URL(e||"",window.location.origin).origin===window.location.origin}var f="viewInitialRender",d="viewDataFullyLoaded",p="viewChanged",h=["user"],y="featureLoadTimingListener",v="featureSpecificDFLListener";n(45557);var m=[],b=0,g=[],w=[],k=window,O=window.location;function S(e){m.push(e),g.length>0&&requestIdleCallback(function(){g=g.filter(function(e){var t=e.whenMadeCallback,n=I(e.markNamesToWaitFor,m,e.startOffset,e.verifyMark);return!n||(t(n),!1)})},{timeout:2e3}),w.forEach(function(t){return t(e)})}function j(){return{pageUrl:O.href,pageIsIframed:k.top!==k.self}}function _(e,t){var n=k.performance.mark(e),r=null==t?void 0:t.overrideTimeMarked;n||(n=performance.getEntriesByName(e).pop());var o={name:e,props:t,timeMarked:(!r||0===r)&&r||(null==n?void 0:n.startTime)||performance.now(),index:b++,env:j()};return S(o),o}function P(e,t,n){var r=k.performance.mark(e);r||(r=performance.getEntriesByName(e).pop());var o={name:e,duration:n.timeMarked-t.timeMarked,timeMarked:(null==r?void 0:r.startTime)||performance.now(),index:b++,env:j()};return S(o),o}function I(e,t,n,r){var o=t.reduce(function(t,o,i){return void 0!==n&&i<n||e.includes(o.name)&&(!r||r(o))&&(t[o.name]=o),t},{});return Object.keys(o).length===e.length?o:null}function A(e){var t=e.markNamesToWaitFor,n=e.whenMadeCallback,r=e.startOffset,o=e.verifyMark,i=e.listenerClass,a=I(t,m,r,o);a?requestIdleCallback(function(){n(a)},{timeout:2e3}):g.push({whenMadeCallback:n,markNamesToWaitFor:t,startOffset:r,verifyMark:o,listenerClass:i})}function x(e){g=g.filter(function(t){return t.listenerClass!==e})}function E(e){w.push(e)}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function q(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}window._rum=window._rum||{},window._rum.markers={getAllMarks:function(){return m},markTime:_,markMeasurement:P,whenAllMarksMade:A,onMarkAdded:E};var D=[];window._rum=window._rum||{},window._rum.timings=[];var N=[],C="unset",R=!0;function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function z(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=!window.Cypress,M=0;function J(){var e,t,n="abb8711a-ca04-44e2-bbd6-df0e07a7f3f8",r="pubd771a23f8cb1e4f45f24b5fd37e11a96",h="netlify-react-ui";F&&n&&r&&h&&!window.Cypress&&(o.L.init({applicationId:n,clientToken:r,site:"datadoghq.com",service:h,version:"6840612d0e967100081ca097",env:"production",sessionSampleRate:100,trackUserInteractions:!1,trackViewsManually:!0,trackResources:!0,trackLongTasks:!0,enableExperimentalFeatures:["feature_flags"],beforeSend:function(e,t){var n;return("error"!==e.type||(null==(n=e.error)?void 0:n.source)!=="report")&&(!function(e,t){var n={};e.view&&e.view.url.includes("#")&&(e.view.url=e.view.url.split("#")[0]),(null==(y=e.view)||null==(h=y.referrer)?void 0:h.includes("#"))&&(e.view.referrer=e.view.referrer.split("#")[0]);var r=e.resource;if(r&&r.url&&r.url.includes("#")&&(r.url=r.url.split("#")[0]),"resource"===e.type){var o=function(e){if(null==e)return!1;var t=new URL(e||"",window.location.origin);return t.hostname.toLowerCase().endsWith(".netlify.com")||u.includes(t.hostname.toLowerCase())||l(e)}(e.resource.url);if(n=q(T({},n),{requestIsInternal:o,requestIsSameOrigin:l(e.resource.url),requestIsExternalDep:!o&&function(e){if(null==e)return!1;var t=new URL(e||"",window.location.origin);return s.some(function(e){return t.hostname.toLowerCase().includes(e)})}(e.resource.url),requestApiType:null!=(p=e.resource.url)&&new URL(p||"",window.location.origin).pathname.startsWith("/.netlify/functions/")?"function":"server"}),(null==r?void 0:r.url.includes("#access_token"))&&(n.resourceHasAccessToken=!0),(null==r?void 0:r.url.includes("#token"))&&(n.resourceHasToken=!0),"performanceEntry"in t&&void 0!==t.performanceEntry&&(n=T({},n,function(e){if(!e)return{};var t,n,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},e,(t=null==e?void 0:e.serverTiming,n={},Array.isArray(t)&&t.forEach(function(e){var t=e.name,r=e.duration,o=e.description;r&&(n["st_".concat(t,"_duration")]=r),o&&(n["st_".concat(t,"_desc")]=o)}),n));return delete r.name,delete r.serverTiming,delete r.entryType,r}(t.performanceEntry))),"fetch"===e.resource.type||"xhr"===e.resource.type){var a=null==t?void 0:t.response,c=(0,i.Fi)(),f=null,d=null;if((null==a?void 0:a.headers)&&(f=a.headers.get("x-request-id"),d=a.headers.get("x-nf-srv-version")),(null==(v=t.performanceEntry)?void 0:v.startTime)&&o){var p,h,y,v,m,b=function(e){if(0!==D.length){if(1===D.length)return D[0].featureName;var t=D.reduceRight(function(t,n,r){return t||0!==r||(t=n),!t&&e>n.viewStartTime&&(t=n),t},void 0);return t?t.featureName:void 0}}(null==(m=t.performanceEntry)?void 0:m.startTime);c!==b&&(n.featureName=b,n.respondedAfterViewChange=!0)}n=q(T({},n),{requestId:f,requestNFServerVersion:d})}}else"view"!==e.type||N.includes(e.view.id)||(C=e.view.id,N.push(e.view.id),R="initial_load"===e.view.loading_type);e.context=T({},e.context,n)}(e,t),!0)}}),o.L.setGlobalContextProperty("suspiciousUsage",a.S),o.L.addTiming("deviceLoadCount",(e="ntl_device_loads",t=(parseInt((0,c._S)(e)||"0",10)||0)+1,Promise.resolve().then(function(){(0,c.AP)(e,t)}),t)),E(function(e){if(e.name===p){var t,n,r,a=[f],c=(0,i.f5)(null==(t=e.props)?void 0:t.featureName),u=c.name;(null==c||null==(n=c.networkingRules)?void 0:n.skipMeasuringCriticalPathData)||a.push(d),(null==(r=e.props)?void 0:r.featureName)&&D.push({featureName:u,viewStartTime:e.timeMarked}),x(y),A({listenerClass:y,markNamesToWaitFor:a,startOffset:m.length-1,whenMadeCallback:function(t){var n,r,i=t[f],a=t[d],c=R?0:e.timeMarked,s=i.timeMarked-c,l=a?a.timeMarked-c:-1,p=a?a.timeMarked-i.timeMarked:-1;o.L.addTiming("viewInitialRender",s),o.L.addTiming("viewDataFullyLoaded",l),o.L.addTiming("viewIRDFLDelta",p),a&&(null==(n=a.props)?void 0:n.viewDFLTimedOut)===!0&&o.L.addAction("DataFullyLoadedTimeout",{featureName:u,viewInitialRender:s,viewDataFullyLoaded:l,delta:p}),window._rum.timings.push({featureName:u,viewInitialRender:s,viewDataFullyLoaded:l,delta:p,viewDFLTimedOut:!!(null==a||null==(r=a.props)?void 0:r.viewDFLTimedOut)})},verifyMark:function(e){var t;return(null==(t=e.props)?void 0:t.viewId)===C}})}}))}function V(e){var t=e.routePath,n=(0,i.rc)(t),o=(0,i.f5)(n),a=C,u=$(),s=!1,l=!1;return{markInitialRender:function(e){s||(s=!0,_(f,U({viewId:a,featureName:n},e||{})))},markDataFullyLoaded:function(e){l||(l=!0,_(d,U({viewId:a,featureName:n},e||{})))},whenDataFullyLoaded:function(e){var t,i=e.whenDFLCallback,a=e.timeout;x(v);var s=[],l={viewDFLTimedOut:!1};u&&(0,c._S)("nf-session")&&(s=z(s).concat(z(h)));var f=null==o||null==(t=o.networkingRules)?void 0:t.criticalPathAPICalls;if(f&&(Array.isArray(f)?s=z(s).concat(z(f)):"function"==typeof f&&(s=z(s).concat(z(f())))),window._rum.waiters.push({featureName:n,apiMarksToWaitFor:s}),0===s.length){null==i||i(l);return}var d=setTimeout(function(){l.viewDFLTimedOut=!0,null==i||i(l),i=null},void 0===a?15e3:a);A({listenerClass:v,markNamesToWaitFor:s.map(function(e){return"api-".concat(e,"-complete")}),startOffset:u?0:null==r?void 0:r.index,whenMadeCallback:function(){clearTimeout(d),null==i||i(l),i=null}})}}}function B(e,t){F&&o.L.setGlobalContextProperty(e,t)}function W(e){var t=e.id,n=e.plan,r=e.accountId,i=e.email;if(F){var a={id:t,plan:n,accountId:r};"string"==typeof i&&(a.isInternalUser=i.endsWith("@netlify.com")),o.L.setUser(a)}}function H(e){if(F){M++;var t=(0,i.zX)(e);o.L.setGlobalContextProperty("featureName",t),o.L.startView(e),r=_(p,{urlTrackPath:e,featureName:(0,i.rc)(e)}),_(p,{urlTrackPath:e,featureName:t}),o.L.addTiming("viewDepth",M)}}function G(e){if(F){var t="internal-nav";$()&&(t="page-load-nav");var n={pathname:window.location.pathname,errorPageType:e,navType:t};o.L.addAction("ErrorPageHit",n),_("errorPageHit",n)}}window._rum=window._rum||{},window._rum.waiters=[];var $=function(){return M<=1}},56832:(e,t,n)=>{n.d(t,{y:()=>s});var r=n(11080),o=n(61371);function i(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){console.error(e)}var u={socketeer:function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");switch(a(this,"path",void 0),a(this,"subscribeMsg",void 0),a(this,"ws",null),e.resource){case o.A.BUILD:this._initBuildLog(e);break;case o.A.FUNCTION:this._initFunctionLog(e);break;case o.A.EDGE_FUNCTION:this._initEdgeFunctionLog(e);break;case o.A.DEV_SERVER:this._initDevServerLog(e);break;default:throw Error("unknown log type")}}return e=[{key:"_initBuildLog",value:function(e){this.path="/build/logs",this.subscribeMsg={deploy_id:e.deployId,site_id:e.siteId}}},{key:"_initDevServerLog",value:function(e){this.path="/dev-server/logs",this.subscribeMsg={dev_server_id:e.devServerId,site_id:e.siteId}}},{key:"_initFunctionLog",value:function(e){this.path="/function/logs",this.subscribeMsg={account_id:e.awsAccountId,function_id:e.functionId,site_id:e.siteId,from:e.fromDatetime,to:e.toDatetime}}},{key:"_initEdgeFunctionLog",value:function(e){this.path="/edge-function/logs",this.subscribeMsg={deploy_id:e.deployId,site_id:e.siteId,since:new Date(Date.now()-3e5).toISOString(),use_v2:e.useV2}}},{key:"_getAccessControlToken",value:function(){var e;return(e=function(){var e;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(t){return(e=this,(0,r.r$)())?[2,(0,r.pB)().then(function(t){e.subscribeMsg&&t&&(e.subscribeMsg.access_token=t)},function(e){console.error(e)})]:[2,Promise.resolve()]})},function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)})}).call(this)}},{key:"listen",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,r="".concat("wss://socketeer.services.netlify.com").concat(this.path);this.ws=new WebSocket(r),this.ws.addEventListener("open",function(){t._getAccessControlToken().then(function(){var e;null==(e=t.ws)||e.send(JSON.stringify(t.subscribeMsg))}).catch(function(e){console.error(e)})}),this.ws.addEventListener("message",function(t){var r=t.data;try{var o=JSON.parse(r),i=o.ts,c=o.message,u=o.type,s=o.request_id,l=o.level,f=o.request_path,d=o.function,p=o.section;if("start"===u)return;e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}({ts:i,type:u,log:c,requestId:s,level:l,requestPath:f,functionName:d},p&&{section:p}))}catch(e){n(e)}}),this.ws.addEventListener("error",n)}},{key:"close",value:function(){this.ws&&this.ws.readyState!==WebSocket.CLOSED&&(this.ws.close(),this.ws=null)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()};function s(e){var t=u[e.type];return t&&new t(e)}},58963:(e,t,n)=>{n.d(t,{Ay:()=>v});var r=n(85342),o=n(77596),i=n(14989),a=n(20625);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)})}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var y=(0,o.lF)((0,i.Md)(new Date)),v=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");l(this,"apiVersion",void 0),l(this,"root",void 0),this.apiVersion="v2",this.root="".concat(e.get("analyticsClientApiBase"),"/").concat(this.apiVersion)}return e=[{key:"headers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f({"Content-Type":"application/json"},e)}},{key:"parseJsonResponse",value:function(e){var t=!1;return e.json().then(function(n){return t=!0,e.ok?n:Promise.reject(new r.A(n||"Error fetching analytics data"))}).catch(function(n){return t?Promise.reject(n):Promise.reject({status:e.status})})}},{key:"parsePaginatedJsonResponse",value:function(e){var t=!1;return e.json().then(function(n){t=!0;var o=(0,a.vz)(null==n?void 0:n.next);return e.ok?{pagination:o,data:n}:Promise.reject(new r.A(n||"Error fetching analytics data"))}).catch(function(n){return t?Promise.reject(n):Promise.reject({status:e.status})})}},{key:"request",value:function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.parseJsonResponse,a=d(o,["parseJsonResponse"]),c=i||this.parseJsonResponse,u=this.headers(a.headers||{});return fetch(this.root+e,(t=f({},{credentials:"include"},a),n=n={headers:u},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)).then(c).catch(function(e){var t=e.status,n=e.code,o=d(e,["status","code"]);return Promise.reject(new r.A(f({code:t||n},o)))})}},{key:"pageviews",value:function(e,t){var n=t.from,r=t.to,o=t.resolution;return this.request("/".concat(e,"/pageviews?from=").concat(n,"&to=").concat(r,"&timezone=").concat(y,"&resolution=").concat(void 0===o?"day":o))}},{key:"uniqueVisitors",value:function(e,t){var n=t.from,r=t.to,o=t.resolution;return this.request("/".concat(e,"/visitors?from=").concat(n,"&to=").concat(r,"&timezone=").concat(y,"&resolution=").concat(void 0===o?"day":o))}},{key:"topLocations",value:function(e,t){var n=t.from,r=t.to;return t.resolution,this.request("/".concat(e,"/ranking/countries?from=").concat(n,"&to=").concat(r,"&timezone=").concat(y))}},{key:"topSources",value:function(e,t){var n=t.from,r=t.to;return this.request("/".concat(e,"/ranking/sources?from=").concat(n,"&to=").concat(r,"&timezone=").concat(y,"&limit=").concat(6))}},{key:"topPages",value:function(e,t){var n=t.from,r=t.to;return this.request("/".concat(e,"/ranking/pages?from=").concat(n,"&to=").concat(r,"&timezone=").concat(y,"&limit=").concat(15))}},{key:"bandwidthUsed",value:function(e,t){var n=t.from,r=t.to,o=t.resolution;return this.request("/".concat(e,"/bandwidth?from=").concat(n,"&to=").concat(r,"&timezone=").concat(y,"&resolution=").concat(void 0===o?"day":o))}},{key:"realUserMetric",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,o=r.from,i=r.to,a=r.resolution,c=["from=".concat(o),"to=".concat(i),"timezone=".concat(y),"resolution=".concat(void 0===a?"hour":a),n&&"device_type=".concat(n)].filter(Boolean);return this.request("/".concat(e,"/rum/").concat(t,"?").concat(c.join("&")))}},{key:"notFound",value:function(e,t){var n=t.from,r=t.to;return this.request("/".concat(e,"/ranking/not_found?from=").concat(n,"&to=").concat(r,"&timezone=").concat(y,"&limit=").concat(15))}},{key:"historicalFunctionLogs",value:function(e){return s(function(){var t,n,r,i,a,c,u,s,l,d;return h(this,function(p){return t=e.branch,n=e.site_id,r=e.name,i=e.from,a=e.to,c=e.next_cursor,u=e.search,s=e.deploy_id,l=(0,o.Vl)(f({},c&&{cursor:c},u&&{search:u},i&&{from:String(i)},a&&{to:String(a)},s&&{deploy_id:s})),d=t?"branch/".concat((0,o.lF)(t),"/"):"",[2,this.request("/sites/".concat(n,"/").concat(d,"function_logs/").concat((0,o.lF)(r),"?").concat(l),{parseJsonResponse:this.parsePaginatedJsonResponse})]})}).call(this)}},{key:"historicalEdgeFunctionLogs",value:function(e){return s(function(){var t,n,r,i,a,c,u;return h(this,function(s){return t=e.site_id,n=e.from,r=e.to,i=e.next_cursor,a=e.search,c=e.deploy_id,u=(0,o.Vl)(f({},i&&{cursor:i},a&&{search:a},n&&{from:String(n)},r&&{to:String(r)},c&&{deploy_id:c})),[2,this.request("/sites/".concat(t,"/edge_function_logs?").concat(u),{parseJsonResponse:this.parsePaginatedJsonResponse})]})}).call(this)}},{key:"accountBuildsUsageTimeseries",value:function(e){var t=e.id,n=e.from,r=e.to,i=e.resolution;return this.request("/accounts/".concat(t,"/usage_insights/builds?").concat((0,o.Vl)(n&&r?{from:n,to:r,resolution:void 0===i?"day":i}:{})))}},{key:"accountConnectBandwidthTimeseries",value:function(e){var t=e.id,n=e.from,r=e.to,i=e.resolution;return this.request("/accounts/".concat(t,"/usage_insights/connect?").concat((0,o.Vl)(n&&r?{from:n,to:r,resolution:void 0===i?"day":i,timezone:y}:{})))}},{key:"accountFunctionsUsageTimeseries",value:function(e){var t=e.id,n=e.from,r=e.to,i=e.resolution;return this.request("/accounts/".concat(t,"/usage_insights/functions?").concat((0,o.Vl)(n&&r?{from:n,to:r,resolution:void 0===i?"day":i,timezone:y}:{})))}},{key:"accountEdgeFunctionsUsageTimeseries",value:function(e){var t=e.id,n=e.from,r=e.to,i=e.resolution;return this.request("/accounts/".concat(t,"/usage_insights/edge_functions?").concat((0,o.Vl)(n&&r?{from:n,to:r,resolution:void 0===i?"day":i,timezone:y}:{})))}},{key:"accountBackgroundFunctionsUsageTimeseries",value:function(e){return e.id,e.from,e.to,e.resolution,Promise.resolve({data:p(Array(90).keys()).map(function(e){return new Date(new Date().setUTCHours(0,0,0,0)).setDate(new Date().getDate()-e)}).reverse().map(function(e){return{start:e,values:{count:Math.round(1e4*Math.random()),memory_usage_mb_ms:Math.round(1e5*Math.random())}}})})}},{key:"accountBlobsUsageTimeseries",value:function(e){return e.id,e.from,e.to,e.resolution,Promise.resolve({data:p(Array(90).keys()).map(function(e){return[new Date(new Date().setUTCHours(0,0,0,0)).setDate(new Date().getDate()-e),1e4*Math.random()]}).reverse()})}},{key:"accountWebRequestsTimeseries",value:function(e){var t=e.id,n=e.from,r=e.to,i=e.resolution;return this.request("/accounts/".concat(t,"/usage_insights/web_requests?").concat((0,o.Vl)(n&&r?{from:n,to:r,resolution:void 0===i?"day":i,timezone:y}:{})))}},{key:"siteBlockedWebRequests",value:function(e){var t=e.siteId,n=e.from,r=e.to,o=e.resolution,i=new URLSearchParams({from:"".concat(n),to:"".concat(r),resolution:o,timezone:y});return this.request("/".concat(t,"/blocked_web_requests?").concat(i.toString()))}},{key:"accountImageCdnUsageTimeseries",value:function(e){var t=e.id,n=e.from,r=e.to,i=e.resolution;return this.request("/accounts/".concat(t,"/usage_insights/image_transformations?").concat((0,o.Vl)(n&&r?{from:n,to:r,resolution:void 0===i?"day":i,timezone:y}:{})))}},{key:"functionsInvocations",value:function(e){var t=e.siteId,n=e.from,r=e.to,o=e.resolution,i=e.branch,a=e.func,c=e.byStatus,u=e.type,s=e.context,l=void 0===s?void 0:s,f="usage_hour,count";return c?f+=",status":f+=",successes,errors",this.request("/sites/".concat(t,"/site_usage_metrics/").concat(u,"?from=").concat(n,"&to=").concat(r).concat(i?"&branch=".concat(i):"").concat(a&&"all"!==a?"&name=".concat(a):"").concat(l?"&context=".concat(l):"","&resolution=").concat(void 0===o?"hour":o,"&filter=").concat(f))}},{key:"functionsMetrics",value:function(e){var t=e.siteId,n=e.from,r=e.to,o=e.filter,i=e.resolution,a=e.branch,c=e.func,u=e.type,s=e.context,l=o?"&filter=".concat(o.join(",")):"";return this.request("/sites/".concat(t,"/site_usage_metrics/").concat(u,"?from=").concat(n,"&to=").concat(r).concat(a?"&branch=".concat(a):"").concat(c&&"all"!==c?"&name=".concat(c):"").concat(s?"&context=".concat(s):"","&resolution=").concat(i).concat(l))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}()},61371:(e,t,n)=>{n.d(t,{A:()=>r});let r={BUILD:"build",DEV_SERVER:"devServer",FUNCTION:"function",EDGE_FUNCTION:"edgeFunction"}},69895:(e,t,n)=>{n.d(t,{bb:()=>eA,eC:()=>eE,Ow:()=>eT,fI:()=>eq,g3:()=>ex});var r=n(17250),o=n(78028),i=n(4140),a=n(77596);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var l="https://dev.azure.com";function f(e){return{login:e.id,full_name:e.displayName,name:e.displayName,id:e.id}}function d(e){return{id:e.accountId,api_id:e.accountName,login:e.accountName,full_name:e.accountName}}function p(e){return e.value.map(d)}var h=["git.push","git.pullrequest.created","git.pullrequest.merged","git.pullrequest.updated"];function y(e){return m(e.name)}function v(e){var t;return null==(t=e.value)?void 0:t.map(y)}function m(e){return null==e?void 0:e.replace(/^refs\/heads\//,"")}function b(e){var t;return null==(t=e.value)?void 0:t.filter(function(e){return"blob"===e.gitObjectType}).map(function(e){return s(u({},e),{path:e.path.replace(/^\//,"")})})}function g(e){return e.content}var w=function(){var e;function t(e,n,r,o){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");c(this,"token",void 0),c(this,"root",void 0),c(this,"apiVersion",void 0),c(this,"addDeployKey",function(e,t,n){return Promise.resolve(t)}),this.token=e,this.root=n||"https://app.vssps.visualstudio.com",this.apiVersion=o||"7.0"}return e=[{key:"headers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Headers(u({"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)},e))}},{key:"parseJsonResponse",value:function(e,t){return e.json().then(function(n){var r;return e.ok?{data:t?t(n):n,pagination:(r=e.headers.get("x-ms-continuationtoken"))?{next:r}:null}:Promise.reject(n)})}},{key:"request",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.headers(n.headers||{}),o=(0,a.Vl)(s(u({},n.queryParams||{}),{"api-version":this.apiVersion}));return fetch("".concat(n.root||this.root).concat(e,"?").concat(o),u({method:n.method||"GET",headers:r},n.body&&{body:n.body})).then(function(e){var r,o;return(null==(o=e.headers)||null==(r=o.get("Content-Type"))?void 0:r.match(/json/))?t.parseJsonResponse(e,n.format):e.text().then(function(e){return{data:e}})})}},{key:"user",value:function(){return this.request("/_apis/profile/profiles/me",{format:f})}},{key:"organizations",value:function(e){var t=e.userLogin;return this.request("/_apis/accounts",{queryParams:{memberId:t},format:p})}},{key:"repos",value:function(e){var t=e.organization;return this.request("/".concat((0,a.lF)(t),"/_apis/git/repositories"),{root:l,format:function(e){var n;return null==(n=e.value)?void 0:n.map(function(e){var n,r,o;return{id:e.id,api_id:e.id,full_name:"".concat(t,"/").concat(e.project.name,"/_git/").concat(e.name),full_name_encoded:"".concat(t,"/").concat((0,a.lF)(e.project.name),"/_git/").concat((0,a.lF)(e.name)),full_name_ui:"".concat(t,"/").concat(e.project.name,"/").concat(e.name),name:e.name,default_branch:m(e.defaultBranch),private:(null==(n=e.project)?void 0:n.visibility)!=="public",project_name:null==(r=e.project)?void 0:r.name,project_id:null==(o=e.project)?void 0:o.id,organization_name:t,repo_url:e.webUrl}})}}).catch(function(){return{data:[]}})}},{key:"searchRepos",value:function(e){var t=e.search;return this.repos(e).then(function(e){return"string"==typeof e.data?e:{data:e.data.filter(function(e){var n=e.name,r=e.organization_name,o=e.project_name;return"".concat(r,"/").concat(o,"/").concat(n).toLowerCase().includes(t.toLowerCase())})}})}},{key:"branches",value:function(e){var t=e.api_id,n=e.page,r=e.organization_name,o={$top:1e3,filter:"heads"};return n&&(o.continuationToken=n),this.request("/".concat((0,a.lF)(r),"/_apis/git/repositories/").concat((0,a.lF)(t),"/refs"),{root:l,queryParams:o,format:v})}},{key:"addWebhook",value:function(e){var t=this,n=e.api_id,r=e.site,o=e.organization_name,i=e.project_id,c=function(e){var t=e.subscriptions;return!Array.isArray(null==t?void 0:t.value)||!t.value.some(function(e){var t,o,a;return(null==e||null==(t=e.publisherInputs)?void 0:t.projectId)===i&&(null==e||null==(o=e.publisherInputs)?void 0:o.repository)===n&&(null==e||null==(a=e.consumerInputs)?void 0:a.url)===r.deploy_hook})},f=function(e){var c=e.eventType,u={publisherId:"tfs",resourceVersion:"1.0",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:c,publisherInputs:{projectId:i,repository:n},consumerInputs:{url:r.deploy_hook}};return"git.pullrequest.updated"===c&&(u.publisherInputs.notificationType="PushNotification"),t.request("/".concat((0,a.lF)(o),"/_apis/hooks/subscriptions"),{method:"POST",body:JSON.stringify(u),root:l})};return Promise.all(h.map(function(e){return t.request("/".concat((0,a.lF)(o),"/_apis/hooks/subscriptions"),{method:"GET",root:l,queryParams:{publisherId:"tfs",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:e}}).then(function(t){return{eventType:e,subscriptions:null==t?void 0:t.data}})})).then(function(e){return e.filter(c)}).then(function(e){return Promise.all(e.map(f))}).then(function(){return r}).catch(function(e){return"AccessCheckException"===e.typeKey?s(u({},r),{webhooks_inactive:!0}):Promise.reject(e)})}},{key:"dir",value:function(e){var t=e.organization_name,n=e.api_id,r=e.branch,o=e.filepath;return this.request("/".concat((0,a.lF)(t),"/_apis/git/repositories/").concat((0,a.lF)(n),"/items"),{root:l,queryParams:{"versionDescriptor.version":r,scopePath:void 0===o?"":o,recursionLevel:"oneLevel"},format:b})}},{key:"read",value:function(e){var t=e.organization_name,n=e.api_id,r=e.branch,o=e.filepath;return this.request("/".concat((0,a.lF)(t),"/_apis/git/repositories/").concat((0,a.lF)(n),"/items"),{root:l,queryParams:{"versionDescriptor.version":r,path:o,$format:"json",includeContent:!0},format:g})}},{key:"getAuthorizedUrl",value:function(e){if(!("organization_name"in e)||!e.private)return e.repo_url;var t=new URL(e.full_name,l);return t.username=e.organization_name,t.password=this.token,t.toString()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,c,"next",e)}function c(e){O(i,r,o,a,c,"throw",e)}a(void 0)})}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){j(e,t,n[t])})}return e}function P(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}function I(e){return e}function A(e){var t,n,r,o;return{id:e.full_name,api_id:e.full_name,full_name:e.full_name,name:e.name,description:e.description,private:e.is_private,scm:e.scm,default_branch:null==(t=e.mainbranch)?void 0:t.name,language:e.language,updated_at:e.updated_at,repo_url:null==(r=e.links)||null==(n=r.html)?void 0:n.href,owner:null==(o=e.workspace)?void 0:o.slug}}function x(e){return{data:e.data.values.map(A),pagination:e.pagination}}function E(e){return{id:e.slug,api_id:e.slug,login:e.slug,full_name:e.name,avatar:e.links.avatar.href}}function T(e){return{data:e.data.values.map(E),pagination:e.pagination}}function q(e){var t=e.data,n=e.pagination;return{data:t.values.map(function(e){return e.name}),pagination:n}}function D(e){return{login:e.username,full_name:e.username,name:e.display_name,avatar:e.links.avatar.href,id:e.uuid}}var N=function(){var e;function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");j(this,"root",void 0),j(this,"token",void 0),this.token=e,this.root="https://api.bitbucket.org"}return e=[{key:"headers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _({Authorization:"Bearer ".concat(this.token),"Content-Type":"application/json"},e)}},{key:"parseJsonResponse",value:function(e,t){return e.json().then(function(n){if(!e.ok)return Promise.reject(n);var r=function(e){var t=e.page,n=e.next,r=e.previous;if(t&&(n||r))return{current:t,next:t+1,nextUrl:n}}(n);return{data:t(n),pagination:r}})}},{key:"request",value:function(e){var t,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.headers(o.headers||{});return fetch(this.root+e,(t=_({},o),n=n={headers:i},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)).then(function(e){var t,n,i;return(null==(n=(i=e.headers).get)||null==(t=n.call(i,"Content-Type"))?void 0:t.match(/json/))?r.parseJsonResponse(e,o.format||I):e.text().then(function(e){return{data:e}})})}},{key:"user",value:function(){return this.request("/2.0/user",{format:D})}},{key:"repos",value:function(e){var t=e.organization,n=(e.page,e.per_page,e.search),r="/2.0/repositories",o=t?"".concat(r,"/").concat(t,"?pagelen=").concat(100,"&role=admin"):"".concat(r,"?pagelen=").concat(100,"&role=admin");return n&&(o+="&q=".concat((0,a.lF)('name~"'.concat(n,'"')))),this.request(o).then(x)}},{key:"repo",value:function(e){return this.request("/2.0/repositories/".concat(e),{format:A})}},{key:"searchRepos",value:function(e){return this.repos(e)}},{key:"branches",value:function(e){var t=e.api_id,n=e.page;return this.request("/2.0/repositories/".concat(t,"/refs/branches?pagelen=100&page=").concat(void 0===n?1:n)).then(q)}},{key:"organizations",value:function(){return S(function(){var e,t,n,r,o,i,a,c,u,s;return P(this,function(l){switch(l.label){case 0:e=this,t=function(t){return S(function(){return P(this,function(e){return[2,this.request("/2.0/workspaces?page=".concat(t)).then(T)]})}).call(e)},n=1,r=[],o=!1,l.label=1;case 1:if(o)return[3,3];return[4,t(n)];case 2:return u=(c=l.sent()).data,s=c.pagination,(a=r).push.apply(a,function(e){if(Array.isArray(e))return k(e)}(u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||function(e,t){if(e){if("string"==typeof e)return k(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(u)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),(null==s?void 0:s.nextUrl)?n=s.next:(o=!0,i={data:r.reverse(),pagination:s}),[3,1];case 3:return[2,i]}})}).call(this)}},{key:"fetchAndFormatDir",value:function(e){var t=this,n=e.full_name,r=e.branch,o=e.filepath,i=void 0===o?"":o,a=e.page,c=void 0===a?"":a,u=e.data,s=void 0===u?[]:u;return this.request("/2.0/repositories/".concat(n,"/src/").concat(r,"/").concat(i).concat(c?"?page=".concat(c):"")).then(function(e){var o,a={data:e.data.values},c=null==(o=e.pagination)?void 0:o.nextUrl,u=c&&new URLSearchParams(c.split("?")[1]).get("page");return u?t.fetchAndFormatDir({full_name:n,branch:r,filepath:i,page:u,data:s.concat(a.data)}):{data:s.concat(a.data)}})}},{key:"dir",value:function(e){var t=e.full_name,n=e.branch,r=e.filepath;return this.fetchAndFormatDir({full_name:t,branch:n,filepath:void 0===r?"":r,page:"",data:[]})}},{key:"read",value:function(e){var t=e.full_name,n=e.branch,r=e.filepath,o=void 0===r?"":r;return this.request("/2.0/repositories/".concat(t,"/src/").concat(n,"/").concat(o)).then(function(e){return{data:e.data,path:o}})}},{key:"addDeployKey",value:function(e,t){return this.request("/2.0/repositories/".concat(e,"/deploy-keys"),{method:"POST",body:JSON.stringify({label:"Netlify Deploy Key",key:t.public_key})}).then(function(){return t})}},{key:"addWebhook",value:function(e){var t=this,n=e.api_id,r=e.site,o="/2.0/repositories/".concat(n,"/hooks");return this.request(o).then(function(e){if("Forbidden"===e.data)return Promise.reject(Error("We couldn’t set up continuous deployment for this repository. This typically happens when you don’t have admin rights to the repository."));var n=e.data.values.find(function(e){return e.url===r.deploy_hook}),i=["repo:push","pullrequest:created","pullrequest:updated","pullrequest:fulfilled","pullrequest:rejected","pullrequest:comment_created","pullrequest:comment_deleted","pullrequest:comment_updated"];return n&&i.sort().toString()!==n.events.sort().toString()?t.request("".concat(o,"/").concat(n.uuid),{method:"PUT",body:JSON.stringify({description:"Netlify Deploy Hook",url:r.deploy_hook,active:!0,events:i})}).then(function(){return r}):n?r:t.request(o,{method:"POST",body:JSON.stringify({description:"Netlify Deploy Hook",url:r.deploy_hook,active:!0,events:i})}).then(function(){return r})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){R(i,r,o,a,c,"next",e)}function c(e){R(i,r,o,a,c,"throw",e)}a(void 0)})}}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}function F(e){return e}function M(e){var t,n;return{id:e.id,api_id:e.slug,organization_name:e.project.key,full_name:"".concat(e.project.key,"/").concat(e.name),name:e.name,description:e.name,private:!e.public,scm:e.scmId,repo_url:null==(n=e.links)||null==(t=n.html)?void 0:t.href}}function J(e){return{data:e.data.values.map(M),pagination:e.pagination}}function V(e){return{id:e.key,api_id:e.key,login:e.name,full_name:e.name}}function B(e){return{data:e.data.values.map(V),pagination:e.pagination}}function W(e){var t=e.data,n=e.pagination;return{data:t.values.map(function(e){return e.displayId}),pagination:n}}function H(e){return{login:e.values[0].slug,full_name:e.values[0].displayName,name:e.values[0].name}}var G=function(){var e;function t(e,n,r){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");U(this,"root",void 0),U(this,"token",void 0),U(this,"accountId",void 0),this.token=e,this.root=n,this.accountId=r}return e=[{key:"parseJsonResponse",value:function(e,t){return e.json().then(function(n){if(!e.ok)return Promise.reject(n);var r=function(e){var t=e.start,n=e.isLastPage,r=e.limit,o=e.nextPageStart,i=Math.floor(t/r);if(0!==i||!n)return{current:i+1,isLastPage:n,next:i+2,nextPageStart:o}}(n);return{data:t(n),pagination:r}})}},{key:"request",value:function(e,t){var n=this;return fetch("/access-control/bb-api/v1/accounts/".concat(this.accountId,"/bitbucket_self_hosted_config/proxy"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,method:(null==t?void 0:t.method)||"GET",token:this.token,payload:null==t?void 0:t.payload})}).then(function(e){var r,o;return(null==e||null==(o=e.headers)||null==(r=o.get("Content-Type"))?void 0:r.match(/json/))?n.parseJsonResponse(e,(null==t?void 0:t.format)||F):e.text().then(function(e){return{data:e}})})}},{key:"user",value:function(){var e=this;return this.request("plugins/servlet/applinks/whoami").then(function(t){return e.request("users?filter=".concat(t.data),{format:H})})}},{key:"repos",value:function(e){var t,n=e.organization,r=e.page,o=e.per_page,i=void 0===o?25:o,c=e.search,u="repos";return t=(c?"rest/api/latest/".concat(u,"?name=").concat((0,a.lF)(c),"&"):n?"projects/".concat(n,"/").concat(u,"?"):"".concat(u,"?"))+"limit=".concat(i,"&start=").concat(((void 0===r?1:r)-1)*i),this.request(t).then(J)}},{key:"repo",value:function(e){var t=e.organization,n=e.full_name;return this.request("projects/".concat(t,"/repos/").concat(n),{format:M})}},{key:"searchRepos",value:function(e){return this.repos(e)}},{key:"branches",value:function(e){return L(function(e){var t,n,r,o;return z(this,function(i){return t=e.api_id,r=void 0===(n=e.page)?1:n,o=e.organization_name,[2,this.request("projects/".concat(o,"/repos/").concat(t,"/branches?pagelen=100&page=").concat(r)).then(W)]})}).apply(this,arguments)}},{key:"organizations",value:function(){return L(function(){var e,t,n,r,o,i,a,c,u,s;return z(this,function(l){switch(l.label){case 0:e=this,t=function(t){return L(function(){return z(this,function(e){return[2,this.request("projects?limit=".concat(100,"&start=").concat(t)).then(B)]})}).call(e)},n=0,r=[],o=!1,l.label=1;case 1:if(o)return[3,3];return[4,t(n)];case 2:return u=(c=l.sent()).data,s=c.pagination,(a=r).push.apply(a,function(e){if(Array.isArray(e))return C(e)}(u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||function(e,t){if(e){if("string"==typeof e)return C(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}}(u)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),(null==s?void 0:s.nextPageStart)?n=s.nextPageStart:(o=!0,i={data:r,pagination:s}),[3,1];case 3:return[2,i]}})}).call(this)}},{key:"fetchAndFormatDir",value:function(e){var t=this,n=e.organization_name,r=e.api_id,o=e.branch,i=e.filepath,a=void 0===i?"":i,c=e.page,u=void 0===c?"":c,s=e.data,l=void 0===s?[]:s,f="projects/".concat(n,"/repos/").concat(r,"/files/").concat(a).concat(u?"?page=".concat(u):"");return this.request(f).then(function(e){var i,c={data:e.data.values.map(function(e){return{path:e}})};return(null==(i=e.pagination)?void 0:i.nextPageStart)&&u?t.fetchAndFormatDir({organization_name:n,api_id:r,branch:o,filepath:a,page:String(parseInt(u)+1),data:l.concat(c.data)}):{data:l.concat(c.data)}})}},{key:"dir",value:function(e){var t=e.organization_name,n=e.api_id,r=(e.full_name,e.branch),o=e.filepath;return this.fetchAndFormatDir({organization_name:t,api_id:n,branch:r,filepath:void 0===o?"":o,page:"",data:[]})}},{key:"read",value:function(e){var t=e.organization_name,n=e.api_id,r=(e.branch,e.filepath),o=void 0===r?"":r;return this.request("projects/".concat(t,"/repos/").concat(n,"/browse/").concat(o)).then(function(e){return{data:e.data.lines.map(function(e){return e.text}).join(`
`),path:o}})}},{key:"addDeployKey",value:function(e,t,n,r){return this.request("rest/keys/latest/projects/".concat(r,"/repos/").concat(e,"/ssh"),{method:"POST",payload:{key:{text:t.public_key,label:"Netlify Deploy Key"},permission:"REPO_READ"}}).then(function(){return t})}},{key:"addWebhook",value:function(e){var t=this,n=e.api_id,r=e.site,o=e.organization_name,i="projects/".concat(o,"/repos/").concat(n,"/webhooks");return this.request(i).then(function(e){if("Forbidden"===e.data)return Promise.reject(Error("We couldn’t set up continuous deployment for this repository. This typically happens when you don’t have admin rights to the repository."));var n=e.data.values.find(function(e){return e.url===r.deploy_hook}),o=["repo:refs_changed","pr:opened","pr:from_ref_updated","pr:modified","pr:merged","pr:comment:added","pr:comment:edited","pr:comment:deleted"];return n&&o.sort().toString()!==n.events.sort().toString()?t.request("".concat(i,"/").concat(n.uuid),{method:"PUT",payload:{description:"Netlify Deploy Hook",url:r.deploy_hook,active:!0,events:o}}).then(function(){return r}):n?r:t.request(i,{method:"POST",payload:{description:"Netlify Deploy Hook",url:r.deploy_hook,active:!0,events:o}}).then(function(){return r})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),$=n(85342),K=n(20625);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Z(e,t,n[t])})}return e}function Y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function Q(e){return e}function ee(e){return{id:e.id,api_id:e.full_name,full_name:e.full_name,name:e.name,description:e.description,private:e.private,default_branch:e.default_branch,owner_type:e.owner.type,language:e.language,updated_at:e.updated_at,repo_url:e.html_url,owner:e.owner.login,archived:e.archived}}function et(e){return e.map(ee)}function en(e){return et(e.items)}function er(e){return{id:e.id,api_id:e.login,login:e.login,full_name:e.full_name,avatar:e.avatar_url}}function eo(e){return e.map(er)}function ei(e){return{login:e.login,full_name:e.login,name:e.name,avatar:e.avatar_url,id:e.id}}var ea=function(){var e;function t(e,n){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");Z(this,"token",void 0),Z(this,"root",void 0),this.token=e,this.root=(n||"https://api.github.com").replace(/\/$/,"")}return e=[{key:"headers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Headers(X({"Content-Type":"application/json"},e));return this.token&&t.set("Authorization","token ".concat(this.token)),t}},{key:"parseJsonResponse",value:function(e,t){return e.json().then(function(n){if(!e.ok)return Promise.reject(n);var r=(0,K.nA)(e);return{data:t(n),pagination:r}})}},{key:"request",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.headers(n.headers||{});return fetch(this.root+e,Y(X({},n),{headers:r})).then(function(e){var r,o;return(null==(o=e.headers)||null==(r=o.get("Content-Type"))?void 0:r.match(/json/))?t.parseJsonResponse(e,n.format||Q):e.text().then(function(e){return{data:e}})})}},{key:"user",value:function(){return this.request("/user",{format:ei})}},{key:"repos",value:function(e){var t=e.organization,n=e.page,r=e.per_page,o=t?"/orgs/".concat(t,"/repos"):"/user/repos";return o+="?page=".concat(n,"&per_page=").concat(r),this.request(o,{format:et})}},{key:"repo",value:function(e){return this.request("/repos/".concat(e),{format:ee})}},{key:"searchRepos",value:function(e){var t=this,n=e.search,r=e.organization,o="/search/repositories?q=".concat((0,a.lF)(n));return r?(o+="+user:".concat(r,"+fork:true"),this.request(o,{format:en})):this.user().then(function(e){return o+="+user:".concat(e.data.login,"+fork:true"),t.request(o,{format:en})})}},{key:"branches",value:function(e){var t=e.api_id,n=e.page;return this.request("/repos/".concat(t,"/branches?page=").concat(void 0===n?1:n,"&per_page=100")).then(function(e){var t=e.data,n=e.pagination;return{data:t.map(function(e){return e.name}),pagination:n}})}},{key:"organizations",value:function(){return this.request("/user/orgs?page=1&per_page=100",{format:eo})}},{key:"dir",value:function(e){var t=e.full_name,n=e.branch,r=e.filepath,o="/repos/".concat(t,"/contents/").concat(void 0===r?"":r);return n&&(o+="?ref=".concat(n)),this.request(o)}},{key:"read",value:function(e){var t=e.full_name,n=e.branch,r=void 0===n?"":n,o=e.filepath,i=void 0===o?"":o,a="/repos/".concat(t,"/contents/").concat(i);return r&&(a+="?ref=".concat(r)),this.request(a,{headers:{Accept:"application/vnd.github.VERSION.raw"}}).then(function(e){return{data:e.data,path:i}})}},{key:"addDeployKey",value:function(e,t,n){var r={title:"Netlify Deploy Key",key:t.public_key,read_only:n};return this.request("/repos/".concat(e,"/keys"),{method:"POST",body:JSON.stringify(r)}).then(function(){return t})}},{key:"addWebhook",value:function(e){var t=e.api_id,n=e.site,r={name:"web",active:!0,events:["delete","push","pull_request","create","issue_comment","pull_request_review","pull_request_review_comment"],config:{url:n.deploy_hook,content_type:"json"}};return this.request("/repos/".concat(t,"/hooks"),{method:"POST",body:JSON.stringify(r)}).then(function(){return n}).catch(function(e){return e.errors&&e.errors[0]&&e.errors[0].message&&e.errors[0].message.match(/already/)?n:Promise.reject(e)})}},{key:"createRepo",value:function(e,t){var n=this,r={name:e.name,description:e.description,homepage:e.url,private:!!e.private};return this.request("/user/repos",{method:"POST",body:JSON.stringify(r)}).then(function(e){return ee(e.data)}).catch(function(r){var o,i=(null==r||null==(o=r.errors)?void 0:o[0])&&/already exists/.test(r.errors[0].message);if(i&&!t)return n.createRepo(Y(X({},e),{name:"".concat(e.name,"-").concat(crypto.randomUUID().slice(0,5))}),!0);throw new $.A(i?"Repository name already exists on this account":"Repository creation failed")})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eu(e,t,n[t])})}return e}function el(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var ef=function(e){return function(t){return{id:t.id,api_id:t.full_name,full_name:t.full_name,name:t.name,description:t.description,private:t.private,installation_id:e,default_branch:t.default_branch,owner_type:t.owner.type,language:t.language,updated_at:t.updated_at,repo_url:t.html_url,owner:t.owner.login,archived:t.archived}}},ed=function(e){return function(t){return t.repositories.map(ef(e))}},ep=function(e,t){var n=RegExp(e,"i");return function(e){return function(r){return r.repositories.reduce(function(t,r){return n.test(r.full_name)&&t.push(ef(e)(r)),t},t)}}},eh=function(e){var t=e.account;return{id:e.id,api_id:t.login,login:t.login,full_name:t.login,avatar:t.avatar_url,installation_id:e.id,target_type:e.target_type,repository_selection:e.repository_selection}},ey=function(e){return e.installations.map(eh)},ev=function(e,t){var n=e.full_name.toUpperCase(),r=t.full_name.toUpperCase();return n<r?-1:+(n>r)},em=function(){return new Date().getTime()},eb=function e(t,n){var r=this,o=this;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");eu(this,"github",void 0),eu(this,"request",function(e,t){return r.github.request(e,t)}),eu(this,"fetchAllInstallations",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?[]:t,r=e.page;return o.installations(void 0===r?1:r).then(function(e){var t=e.data,r=e.pagination,i=null==r?void 0:r.next;return i?o.fetchAllInstallations({data:n.concat(t),page:i}):{data:n.concat(t)}})}),eu(this,"installations",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o.request("/user/installations?page=".concat(e,"&per_page=100&v=").concat(em()),{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:ey}).catch(function(e){return{data:[],pagination:{}}})}),eu(this,"findInstallation",function(e,t){return r.fetchAllInstallations().then(function(e){return e.data}).then(function(n){return n.find(function(t){return e===t.login})||t&&n.find(function(e){return"Organization"===e.target_type})})}),eu(this,"findInstallationId",function(e){var t=e.login,n=e.installationId;return n?Promise.resolve(n):r.findInstallation(t).then(function(e){return e&&e.id})}),eu(this,"findInstallationRepos",function(e){var t=e.installationId,n=e.page,o=e.per_page,i=e.format;return t?r.request("/user/installations/".concat(t,"/repositories?page=").concat(n,"&per_page=").concat(o,"&v=").concat(em()),{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:i(t)}).catch(function(e){return{data:[],pagination:{}}}):Promise.resolve({data:[],pagination:{}})}),eu(this,"user",function(){return r.github.user().then(function(e){var t=e.data;return r.findInstallation(t.login,!0).then(function(e){return{data:el(es({},t),{installation_id:e&&e.login===t.login&&e.id,installation:e})}})})}),eu(this,"organizations",function(){return r.fetchAllInstallations().then(function(e){return{data:e.data.filter(function(e){return"Organization"===e.target_type}),pagination:{}}})}),eu(this,"repos",function(e){var t=e.organization,n=e.page,o=e.per_page,i=e.installationId,a=e.gitUser,c=e.format,u=void 0===c?ed:c;return r.findInstallationId({login:t||a.get("login"),installationId:i}).then(function(e){return r.findInstallationRepos({installationId:e,page:n,per_page:o,format:u})})}),eu(this,"searchRepos",function(e){var t=e.search,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["search"]);if(!t)return r.repos.apply(r,function(e){if(Array.isArray(e))return ec(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return ec(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var o=[],i=el(es({},n),{per_page:100,format:ep(t,o)});return r.repos(el(es({},i),{page:1})).then(function(e){for(var t=e.pagination,n=[],o=(null==t?void 0:t.last)||1,a=2;a<=o;a++)n.push(r.repos(el(es({},i),{page:a})));return Promise.all(n)}).then(function(e){return{data:o.sort(ev),pagination:{}}})}),eu(this,"repo",function(e){return r.github.repo(e)}),eu(this,"createRepo",function(e){return e.template?r.github.createRepo(e):r.user().then(function(t){var n=t.data,o=n.installation_id;if("all"!==n.repository_selection)throw new $.A("Can't create a repo for the current app installation.");return r.request("/user/repos",{method:"POST",body:JSON.stringify({name:e.name,description:e.description,homepage:e.url})}).then(function(e){return ef(o)(e.data)})})}),eu(this,"dir",function(e){var t=e.full_name,n=e.branch,o=e.filepath;return r.github.dir({full_name:t,branch:n,filepath:o})}),eu(this,"read",function(e){var t=e.full_name,n=e.branch,o=e.filepath;return r.github.read({full_name:t,branch:n,filepath:o})}),eu(this,"branches",function(e){var t=e.api_id,n=e.page;return r.github.branches({api_id:t,page:n})}),eu(this,"addDeployKey",function(e,t,n){return Promise.resolve(t)}),eu(this,"addWebhook",function(e){return Promise.resolve(e.site)}),this.github=new ea(t,n)};function eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ew(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){eg(e,t,n[t])})}return e}function ek(e){return e}function eO(e){return{id:e.id,api_id:e.id,full_name:e.path_with_namespace,name:e.name,description:e.description,default_branch:e.default_branch,private:"private"===e.visibility,updated_at:e.updated_at,repo_url:e.http_url_to_repo}}function eS(e){return e.map(eO)}function ej(e){return{id:String(e.id),api_id:String(e.id),login:e.name,full_name:e.full_name,avatar:e.avatar_url}}function e_(e){return e.map(ej)}function eP(e){return{login:e.username,full_name:e.username,name:e.name,avatar:e.avatar_url,id:e.id}}var eI=function(){var e;function t(e,n){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");eg(this,"root",void 0),eg(this,"token",void 0),this.token=e,this.root=n||"https://gitlab.com/api/v4"}return e=[{key:"headers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ew({"Content-Type":"application/json"},this.token?{Authorization:"Bearer ".concat(this.token)}:{},e)}},{key:"parseJsonResponse",value:function(e,t){return e.json().then(function(n){if(!e.ok)return Promise.reject(n);var r=(0,K.nA)(e);return{data:t(n),pagination:r}})}},{key:"request",value:function(e){var t,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.headers(o.headers||{});return fetch(this.root+e,(t=ew({},o),n=n={headers:i},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t)).then(function(e){var t,n;return(null==e||null==(n=e.headers)||null==(t=n.get("Content-Type"))?void 0:t.match(/json/))?r.parseJsonResponse(e,o.format||ek):e.text().then(function(e){return{data:e}})})}},{key:"user",value:function(){return this.request("/user",{format:eP})}},{key:"repos",value:function(e){var t=this,n=e.organization,r=e.page,o=e.per_page,i=e.search,c=e.scopeCurrentUser,u=n?"/groups/".concat(n,"/projects?"):"/projects?min_access_level=40&";return(u+="page=".concat(r,"&per_page=").concat(o),i&&(u+="&search=".concat((0,a.lF)(i))),(void 0===c||c)&&!n)?this.user().then(function(e){var n="/users/".concat(e.data.login).concat(u);return t.request(n,{format:eS})}):this.request(u,{format:eS})}},{key:"repo",value:function(e){return this.request("/projects/".concat((0,a.lF)(e)),{format:eO})}},{key:"searchRepos",value:function(e){return this.repos(e)}},{key:"branches",value:function(e){var t=e.api_id,n=e.page;return this.request("/projects/".concat((0,a.lF)(t),"/repository/branches?per_page=100&page=").concat(void 0===n?1:n)).then(function(e){var t=e.data,n=e.pagination;return{data:t.map(function(e){return e.name}),pagination:n}})}},{key:"organizations",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.per_page,r=void 0===n?100:n,o=t.prefetchedData,i=void 0===o?[]:o,a=t.page;return this.request("/groups?per_page=".concat(r,"&page=").concat(void 0===a?1:a),{format:e_}).then(function(t){var n=t.data,o=t.pagination,a=null==o?void 0:o.next,c=i.concat(n);return a?e.organizations({per_page:r,prefetchedData:c,page:a}):{data:c,pagination:o}})}},{key:"dir",value:function(e){var t=e.full_name,n=e.branch,r=e.filepath,o=void 0===r?"":r,i="/projects/".concat((0,a.lF)(t),"/repository/tree?per_page=100"),c="",u=[];return n&&u.push("ref=".concat(n)),o&&(u.push("path=".concat(o)),c=o+"/"),u&&(i+="&".concat(u.join("&"))),this.request(i).then(function(e){return{data:e.data.map(function(e){return{path:c+e.name}})}})}},{key:"read",value:function(e){var t,n=e.full_name,r=e.branch,o=e.filepath,i=void 0===o?"":o;return new RegExp(/^.*\.[^\\]+$/).test(i)?(t="/projects/".concat((0,a.lF)(n),"/repository/files"),i&&(t+="/".concat((0,a.lF)(i))),t+="?ref=".concat(r)):t="/projects/".concat((0,a.lF)(n),"/repository/tree?path=").concat(i)+"&ref=".concat(r),this.request(t).then(function(e){if(e.data.length){var t=e.data.find(function(e){return(null==e?void 0:e.type)==="tree"});return{data:[{path:null==t?void 0:t.path,type:"dir"}],path:i}}return{data:window.atob(e.data.content),path:i}})}},{key:"addDeployKey",value:function(e,t,n){var r="/projects/".concat((0,a.lF)(e),"/deploy_keys"),o={title:"Netlify Deploy Key",key:t.public_key,can_push:!n};return this.request(r,{method:"POST",body:JSON.stringify(o)}).then(new Promise(function(e){setTimeout(function(){e(t)},1e4)})).then(function(){return t})}},{key:"addWebhook",value:function(e){var t=this,n=e.api_id,r=e.site,o="/projects/".concat((0,a.lF)(n),"/hooks");return this.request(o,{method:"GET"}).then(function(e){if(Array.isArray(null==e?void 0:e.data)&&e.data.find(function(e){return e.url===r.deploy_hook}))return r;var n={url:r.deploy_hook,push_events:!0,merge_requests_events:!0,note_events:!0,enable_ssl_verification:!0};return t.request(o,{method:"POST",body:JSON.stringify(n)}).then(function(){return r}).catch(function(e){return Promise.reject(e)})})}},{key:"checkErrorForInvalidToken",value:function(e){if("invalid_token"===e.error)return{code:401,message:"Your access token has expired. Please reconnect to GitLab to continue."}}},{key:"createRepo",value:function(e){var t=this,n={name:e.name,description:e.description};return e.private&&(n.visibility="private"),this.request("/projects",{method:"POST",body:JSON.stringify(n)}).then(function(e){return eO(e.data)}).catch(function(e){var n=t.checkErrorForInvalidToken(e);if(n)throw new $.A(n);var r=e.message&&/taken/.test(String(e.message.name))?"Repository name already exists on this account":"Repository creation failed";throw new $.A(r)})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),eA={github:ea,github_app:eb,github_enterprise:eb,gitlab:eI,gitlab_self_hosted:eI,bitbucket:N,bitbucket_self_hosted:G,azure_devops:w};function ex(e){return({"github.com":i.zG.github,"gitlab.com":i.zG.gitlab,"bitbucket.org":i.zG.bitbucket,"dev.azure.com":i.zG.azure_devops})[e]}function eE(e){var t=(0,o.oL)(e),n=(0,o.o7)(e),i=(0,o.Qk)(e),a=(0,r.PR)(e);return eT(t,{accessToken:n,apiEndpoint:i,accountId:null==a?void 0:a.get("id")})}function eT(e,t){if(e){var n=eA[e];if(n){var r=new n(t.accessToken,t.apiEndpoint,t.accountId);return r.provider=e,r}}}function eq(e,t){return({github:"https://github.com/".concat(t),gitlab:"https://gitlab.com/".concat(t),bitbucket:"https://bitbucket.org/".concat(t),azure_devops:void 0})[e]}},70998:(e,t,n)=>{n.d(t,{zd:()=>g,ah:()=>w,_x:()=>b,j8:()=>O,B$:()=>k});var r=n(29383),o=n(92488);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,u,"next",e)}function u(e){a(i,r,o,c,u,"throw",e)}c(void 0)})}}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function l(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}function f(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var d=function(e,t,n){return c(function(){var r,i,a,c;return f(this,function(u){switch(u.label){case 0:return r=null==t?void 0:t.includes("netlify.live"),t?r?((i=new URL(window.location.origin)).pathname="/.netlify/functions/workflow-ui",i.searchParams.set("host",t)):(i=new URL(t)).pathname="ui/integration-ui.json":i=new URL([o.tE,e,n].filter(Boolean).join("/"),window.location.origin),[4,fetch(i)];case 1:if(!(a=u.sent()).ok){if(404===a.status)return[2,null];throw Error("Unable to load Workflow UI config!")}u.label=2;case 2:return u.trys.push([2,4,,5]),[4,a.json()];case 3:return[2,Object.keys(c=u.sent()).length?c:null];case 4:return u.sent(),console.error("Workflow UI Config is not valid JSON"),[2,null];case 5:return[2]}})})()},p=n(35433);function h(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,c,"next",e)}function c(e){h(i,r,o,a,c,"throw",e)}a(void 0)})}}function v(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var m=new Map,b=function(e){return m.get(e)},g=function(e,t){m.set(e,t)},w=function(e){m.delete(e)},k=function(e){return y(function(){return v(this,function(t){return[2,d(e)]})})()},O=function(e){var t=e.surfaceName,n=e.host,a=e.routeSplat,h=void 0===a?"":a,m=e.packageKey,b=e.integrationSlug;return y(function(){var e,a,y,g,w,k,O,S,j,_,P,I;return v(this,function(v){var A,x,E;switch(v.label){case 0:if(a=(0,p.lE)(t,b),document.querySelector(a))return[2];return[4,d(t,n,m)];case 1:return y=v.sent(),[4,(A={surfaceName:t,packageKey:m},c(function(){var e,t,n,a,c,u,s;return f(this,function(f){switch(f.label){case 0:try{e=JSON.parse((0,r._S)("wui-dev-mode")||"{}")}catch(e){}if(!(Array.isArray(t=null==e?void 0:e.packages)&&t.length>0))return[2,null];return n=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,function(e){if(Array.isArray(e))return i(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||l(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),null},[4,fetch(a="".concat(o.V8,"/workflow-ui.json"))];case 1:if(!(c=f.sent()).ok)return[3,3];return[4,c.json()];case 2:u=f.sent(),f.label=3;case 3:if(!u)return[2,n("No local config found at ".concat(a))];if("string"!=typeof u.packageId)return[2,n('Config doesn\'t have a "packageId" at root level',u)];if(!t.includes(u.package))return[2,n("Config loaded locally is for a different package (".concat(u.package,") than what's in dev mode: ").concat(t.join(",")))];if(!Array.isArray(u.surfaces))return[2,n('Config doesn\'t have a "surfaces" array field at root level',u)];return s=null,(null==A?void 0:A.surfaceName)&&u.surfaces.length>0&&u.surfaces.some(function(e){return e.surfaceName===A.surfaceName})&&(s=u),[2,s]}})})())];case 2:return(g=v.sent())&&(y=g),w=new Map,k=y?(E=(x=y).surfaces.map(function(e){var t,n;return s(u({},e),{routes:(t=e.routes,n=w,Object.entries(t).reduce(function(e,t){var r=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(t,2)||l(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1];return e[o]=i.map(function(e){return function e(t,n){var r,o="contents"in t?null==(r=t.contents)?void 0:r.map(function(t){return e(t,n)}):void 0,i=t.id||crypto.randomUUID(),a=u(s(u({},t),{id:i}),o&&{contents:o});return n.set(i,a),a}(e,n)}),e},{}))})}),s(u({},x),{surfaces:E})):void 0,O=null==h?void 0:h.split("/").filter(Boolean),S=null==k?void 0:k.surfaces.find(function(e){return e.surfaceName===t}),_=(null==(j=null==O?void 0:O.reduce(function(e,t,n){var r=e[n]||"";return e.push("".concat(r,"/").concat(t).replace("//","/")),e},["/"]).reverse())?void 0:j.find(function(e){return!!(null==S?void 0:S.routes[e])}))||"",P=null==S?void 0:S.routes[_],I=!!(null==S||null==(e=S.routesRequiringLastSelectedSite)?void 0:e.includes(_)),[2,{config:k,surfaceConfig:S,surfaceRouteConfig:P,matchedRouteKey:_,useDevMode:!!g,elementDirectory:w,requiresLastSelectedSite:I}]}})})()}},72519:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(99895),o=n.n(r),i=n(38900),a=n.n(i),c=n(29383),u={apiKey:"9b0542315c347c80d64e228583ec6dc2",appVersion:"6840612d0e967100081ca097",releaseStage:/^deploy-preview-/.test(window.location.hostname)?"deploy-preview":/--app\.netlify\.app$/.test(window.location.hostname)||/--app\.netlify\.com$/.test(window.location.hostname)?"branch-deploy":(["staging","prod"].includes("prod"),"production"),collectUserIp:!1,enabledReleaseStages:["production","staging","branch-deploy","deploy-preview"],onError:function(e){if(/pbjs\.|MetaMask/.test(e.errors[0].errorMessage)||"ChunkLoadError"===e.errors[0].errorClass)return!1;var t,n=(0,c.Hd)("routePath");n&&(e.context=n),(null==(t=e.request.url)?void 0:t.includes("#"))&&(e.request.url=e.request.url.split("#")[0])}};["development","test"].includes("production")&&(u.enabledBreadcrumbTypes=[]),u.enabledReleaseStages.includes("production")||(u.logger=null);let s={start:function(){var e,t;o().start((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},u),t=t={plugins:[new(a())]},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))}}},73270:(e,t,n)=>{n.d(t,{H:()=>a,b:()=>c});var r=n(54390),o=n(81036),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.includes(e)},a=function(e,t){var n,a;return i(e,"integration-ui"===(0,r.J5)(null!=(n=t.sdkVersion)?n:"")?[o.v.SiteConfiguration,o.v.SiteGeneralConfiguration,o.v.TeamConfiguration]:null!=(a=t.uiSurfaces)?a:[])},c=function(e){return"string"==typeof e&&Object.values(o.v).includes(e)}},73359:(e,t,n)=>{n.d(t,{A6:()=>T,AY:()=>q,Au:()=>c,EX:()=>v,Ev:()=>p,Fz:()=>m,Nr:()=>x,O_:()=>s,Rr:()=>u,W$:()=>f,WH:()=>E,WJ:()=>A,WN:()=>y,gH:()=>d,gR:()=>I,jr:()=>h,mt:()=>l,qr:()=>P,wZ:()=>b});var r=n(6424);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=function(e){return e.A="A",e.AAAA="AAAA",e.ALIAS="ALIAS",e.CAA="CAA",e.CNAME="CNAME",e.SPF="SPF",e.SRV="SRV",e.MX="MX",e.NS="NS",e.TXT="TXT",e}(a||{}),c="INVALID_FQDN",u="^[a-zA-Z0-9-.]+$",s="NETLIFY_ADDRESS_ERROR",l="NETLIFY",f="NETLIFYv6",d="MX",p="SPF",h="TXT",y="SRV",v="CAA",m="CNAME",b="tag",g="value",w="(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9(\\-)]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9](\\.?))$",k="^".concat(w),O="^@$|^(\\*)$|^(\\*\\.)?".concat(w),S="^(\\*)$|^(\\*\\.)?(([a-zA-Z0-9_]|[a-zA-Z0-9_][a-zA-Z0-9_\\-]*[a-zA-Z0-9_])\\.)*([A-Za-z0-9_]|[A-Za-z0-9_][A-Za-z0-9_\\-]*[A-Za-z0-9_](\\.?))$",j={A:"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$",AAAA:"^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$",ALIAS:k,CNAME:S,MX:k,NS:k,SPF:"^(v=spf1).*$",SRV:k},_={CNAME:S,TXT:"^@$|".concat(S),NS:"^@$|".concat(k)};function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;switch(t){case g:return j[e]||"";case b:return"(^issue$)|(^issuewild$)|(^iodef$)";case"hostname":return _[e]||O;default:return""}}function I(e){return e?Promise.all([n.e(1685).then(n.bind(n,16944)),Promise.resolve().then(n.bind(n,13629))]).then(function(e){var t=i(e,2),n=t[0],r=t[1];return[n.default||n,r.default||r]}).then(function(t){var n=i(t,2),o=n[0],a=n[1],c=o.parseDomain(o.fromUrl(e));if(c.type!==r.xG.Listed)return null;var u=c.subDomains,s=c.domain,l=c.topLevelDomains;return s||(u=c.icann.subDomains,s=c.icann.domain,l=c.icann.topLevelDomains),s?{subdomain:a.toASCII(u.join(".")),domain:a.toASCII(s),tld:a.toASCII(l.join("."))}:null}):Promise.resolve(null)}function A(e){return I(e).then(function(e){var t=e||{},n=t.subdomain,r=t.domain,o=t.tld;return r?"www"===n?"".concat(r,".").concat(o):n?null:"www.".concat(r,".").concat(o):null})}function x(e){return I(e).then(function(e){return e?Promise.resolve(e):Promise.reject(c)})}var E=function(e){return({A:"IPv4 address, like 192.0.1.1",AAAA:"IPv6 address, like 2001:cdba:0:0:0:0:3257:9652",ALIAS:"A domain name, like myapp.herokuapp.com",CAA:"The value associated with the tag, like letsencrypt.org",CNAME:"A domain name, like ftp.example.com",SPF:"Text that represents the authorized mail server, like v=spf1 a mx ip4:69.64.153.131 include:_spf.google.com ~all",SRV:"The hostname of the machine providing the service, like bigbox.example.com",MX:"The mail server’s hostname, like mail.example.com",NS:"The name server’s hostname, like ns1.example.com",TXT:"Free form text data"})[e]||""},T=function(e){return e.sort(function(e,t){try{return e.get("type").trim().localeCompare(t.get("type").trim())||e.get("hostname").trim().localeCompare(t.get("hostname").trim())||e.get("priority",0)-t.get("priority",0)||e.get("value").trim().localeCompare(t.get("value").trim())}catch(n){return console.error("Unexpected error sorting records",{r1:e,r2:t}),0}})};function q(e){return new URL(e).hostname.split(".").every(function(e){return e.length<=63})}},73700:(e,t,n)=>{n.d(t,{h:()=>K});var r=n(36870),o=n(86326),i=n(81331),a=n(2957),c=n(13487),u=n(67448);function s(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}var l=u.z.object({id:u.z.number().int().positive(),name:u.z.string(),slug:u.z.string(),version:u.z.string(),visibility:u.z.enum(["private","public"])}),f=n(17959),d=n(90714);function p(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}var h=u.z.union([u.z.object({auth_url:u.z.string()}),u.z.object({code:u.z.number().int(),msg:u.z.string()})]),y=function(e,t){var n,r=e.signal,o=t.extensionId,i=t.extensionSlug,a=t.extensionIdenteerSlug,c=t.redirectUri,u=t.accountId;return(n=function(){var e,t,n,s,l;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(f){switch(f.label){case 0:return e=new URLSearchParams([["redirect_uri",c],["account_id",u]]),t=(0,d.Jm)(i,o,a),[4,fetch("/.netlify/functions/identeer-proxy/auth/".concat(encodeURIComponent(t),"?").concat(e.toString()),{signal:r})];case 1:if(403===(n=f.sent()).status)return[2,null];if(!n.ok)throw Error("Failed to retrieve extension authentication provider metadata");return l=h.parse,[4,n.json()];case 2:if("code"in(s=l.apply(h,[f.sent()]))){if(s.msg.endsWith("not found"))return[2,null];throw Error(s.msg)}return[2,s.auth_url]}})},function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){p(i,r,o,a,c,"next",e)}function c(e){p(i,r,o,a,c,"throw",e)}a(void 0)})})()},v=function(e,t){var n,r;return(0,f.I)((n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},t),r=r={queryFn:function(t){return y(t,e)},queryKey:["EXTENSION_AUTH_PROVIDER_URL",e.extensionId,e.redirectUri]},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))};function m(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}var b=u.z.object({token:u.z.string().min(1)}),g=function(e,t){var n,r=e.signal,o=t.ownerId,i=t.slug;return(n=function(){var e,t;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(n){switch(n.label){case 0:return[4,fetch("/integration-auth",{method:"POST",body:JSON.stringify({integrationSlug:i,ownerId:o}),headers:{"Api-Version":"2","Content-Type":"application/json"},signal:r})];case 1:if(401===(e=n.sent()).status)return console.error("User is not authorized to retrieve extension-specific Netlify token"),[2,{token:"Unauthorized"}];if(!e.ok)throw Error("Failed to retrieve extension-specific Netlify token");return t=b.parse,[4,e.json()];case 2:return[2,t.apply(b,[n.sent()])]}})},function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){m(i,r,o,a,c,"next",e)}function c(e){m(i,r,o,a,c,"throw",e)}a(void 0)})})()},w=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.I)((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},r),n=n={queryFn:function(t){return g(t,e)},queryKey:["EXTENSION_NETLIFY_TOKEN",e.ownerId,e.slug],staleTime:432e5},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))};function k(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}var O=u.z.union([u.z.object({token:u.z.string().min(1).nullable()}),u.z.array(u.z.object({token:u.z.string().min(1),external_id:u.z.string().min(1),id:u.z.string().min(1),account_id:u.z.string()}))]),S=function(e,t){var n,r=e.signal,o=t.id,i=t.slug,a=t.identeerSlug,c=t.accountId;return(n=function(){var e,t,n,u;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(s){switch(s.label){case 0:return e=(0,d.Jm)(i,o,a),[4,fetch("/.netlify/functions/identeer-proxy/connections/".concat(encodeURIComponent(e)),{signal:r})];case 1:if(!(t=s.sent()).ok)return[2,{token:null,tokens:[]}];return u=O.parse,[4,t.json()];case 2:if(Array.isArray(n=u.apply(O,[s.sent()])))return[2,{token:null,tokens:n.filter(function(e){return e.account_id===c}).map(function(e){return{token:e.token,externalId:e.external_id,connectionId:e.id}})}];return[2,{token:n.token,tokens:[]}]}})},function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){k(i,r,o,a,c,"next",e)}function c(e){k(i,r,o,a,c,"throw",e)}a(void 0)})})()},j=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.I)((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},r),n=n={queryFn:function(t){return S(t,e)},queryKey:_(e)},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))},_=function(e){return["EXTENSION_OAUTH_CONNECTION",e.id,e.slug]},P=n(7942),I=n(94958),A=n(77926),x=n(20424),E=n(75025),T=n(27060),q=n(51101),D=n(48932),N=n(61888),C=n(59749),R=n(98780),L=n(1817),U=function(e){var t=e.listener,n=e.source,r=e.target,o=void 0===r?window:r;(0,L.A)(o,"message",function(e){var r;null!==e.source&&e.source===(null==(r=n.current)?void 0:r.contentWindow)&&t(e)})},z=function(e){var t=e.onChange,n=e.ref;U({target:e.target,source:n,listener:function(e){if(null!==e.source){var n=T.GB.safeParse(e.data);if(n.success){var r=n.data,o=r.data;r.type===T.L0&&t(o.dimensions)}}}})};function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function V(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(e){var t,n=e.className,i=e.identeerError,a=e.data,c=e.entrypoint,u=e.initialDimensions,s=e.name,l=e.onRequestTermination,f=e.title,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["className","identeerError","data","entrypoint","initialDimensions","name","onRequestTermination","title"]),p=(0,o.useRef)(null),h=(0,D.jE)(),y=B((0,o.useState)(!1),2),v=y[0],m=y[1],b=(0,R.KP)(),g=(0,R.Rh)(a,c),w=new URL(g).origin,k=B((0,o.useState)({height:null!=(t=null==u?void 0:u.height)?t:400}),2),O=k[0];return z({ref:p,onChange:k[1]}),(0,C.X)(function(){var e,t,n,r,o,i,c,u,s;v&&(null==(e=p.current)?void 0:e.contentWindow)!=null&&(null==(r=p.current)||null==(n=r.contentWindow)||n.postMessage((0,T.wy)({context:V(J({},a.context),{configurationId:null!=(o=a.context.configurationId)?o:null,dataLayerId:null!=(i=a.context.dataLayerId)?i:null,projectId:null!=(c=a.context.projectId)?c:null,siteId:null!=(u=a.context.siteId)?u:null,deployId:null!=(s=null==a||null==(t=a.context)?void 0:t.deployId)?s:null})}),{targetOrigin:"*"}))},[a,p],N.bD),U({listener:function(e){var t,n,r,o,i,c,u=T.GB.safeParse(e.data);if(u.success){var f,d=e.source,p=u.data,y=p.data,v=p.type;switch(v){case T.kB:if(null!==a.context.auth.providerAuthUrl){var b,g=new URL(a.context.auth.providerAuthUrl);(null==y||null==(b=y.additionalAuthURLQueryParams)?void 0:b.audience)&&g.searchParams.set("audience",y.additionalAuthURLQueryParams.audience),window.open(g,"_self")}break;case T.sz:(f=function(){var e,t,n;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(r){switch(r.label){case 0:if(e=a.context.auth.providerToken,t=null,(null==y?void 0:y.connectionID)&&a.context.auth.providerTokens&&a.context.auth.providerTokens.length>0){if(!(n=a.context.auth.providerTokens.find(function(e){return e.connectionId===y.connectionID})))return console.error("Could not find connection with ID ".concat(y.connectionID)),[2];e=n.token,t=n.connectionId}return[4,fetch("/.netlify/functions/extensions-connections",{method:"DELETE",body:JSON.stringify({extensionId:a.extension.id,extensionSlug:a.extension.slug,extensionIdenteerSlug:a.extension.identeerSlug,netlifyToken:a.context.auth.netlifyToken,providerToken:e,siteId:a.context.siteId,teamId:a.context.teamId,connectionId:t}),headers:{"Content-Type":"application/json"}})];case 1:return r.sent(),h.invalidateQueries({queryKey:_({id:a.extension.id,slug:a.extension.slug,identeerSlug:a.extension.identeerSlug,accountId:a.context.teamId})}),[2]}})},function(){var e=this,t=arguments;return new Promise(function(n,r){var o=f.apply(e,t);function i(e){M(o,n,r,i,a,"next",e)}function a(e){M(o,n,r,i,a,"throw",e)}i(void 0)})})();break;case T.a8:d.postMessage((0,T.Cy)({context:V(J({},a.context),{configurationId:null!=(n=a.context.configurationId)?n:null,dataLayerId:null!=(r=a.context.dataLayerId)?r:null,projectId:null!=(o=a.context.projectId)?o:null,siteId:null!=(i=a.context.siteId)?i:null,deployId:null!=(c=null==a||null==(t=a.context)?void 0:t.deployId)?c:null}),extension:a.extension,surface:{name:s}}),{targetOrigin:w}),m(!0);break;case T.L0:break;case T.w:"function"==typeof l&&l();break;default:console.warn("[UI-EXT HOST] - Unknown event received:",{data:y,type:v})}}},source:p}),(0,r.jsxs)("div",V(J({className:(0,q.cn)("tw-flex","tw-flex-col","tw-gap-5",n)},d),{children:[null!==b&&(null==b?void 0:b.slug)===a.extension.slug&&(0,r.jsx)(A.A,{className:"tw-grow",title:"Warning",iconName:"warning-triangle",warning:(0,r.jsxs)("div",{children:["You currently have local extension development enabled. This extension ",(0,r.jsx)("code",{children:b.slug})," is currently loading from ",(0,r.jsx)("code",{children:b.url})," and can take actions on your behalf in production. To modify or stop local development,"," ",(0,r.jsx)(q.N_,{to:"/extension-ui/dev",children:"edit your extension development settings"})]})}),!v&&(0,r.jsx)(E.Z,{}),(0,r.jsx)("iframe",{className:"tw-grow","data-surface-name":s,"data-testid":H({extensionId:a.extension.id,surface:s}),ref:p,sandbox:"allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts",src:"".concat(g).concat(""!==i?"#error=".concat(i):""),style:{height:O.height,margin:"-0.5rem",display:v?void 0:"none"},title:f})]}))},H=function(e){var t=e.extensionId,n=e.surface;return"extension-ui-surface--".concat(n,"--").concat(t.toString())};function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=function(e){var t,n=e.accountId,u=e.userId,s=e.className,l=e.configurationId,f=e.dataLayerId,d=e.error,p=void 0===d?x.U:d,h=e.extensionSlug,y=e.loader,m=void 0===y?E.Z:y,b=e.onRequestTermination,g=e.projectId,k=e.siteId,O=e.surface,S=e.title,_=e.visualEditorWebhookId,T=e.notifyVisualEditor,q=e.deployId;!function(e,t){if(null!=e){var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}}(e,["accountId","userId","className","configurationId","dataLayerId","error","extensionSlug","loader","onRequestTermination","projectId","siteId","surface","title","visualEditorWebhookId","notifyVisualEditor","deployId"]);var D=(0,a.DP)().theme,N=$((0,o.useState)(!1),2),C=N[0],R=N[1],L=$((0,o.useState)(""),2),U=L[0],z=L[1];(0,o.useEffect)(function(){if(!C){R(!0);var e=new URL(window.location.href),t=new URLSearchParams(e.hash.substring(1)),n=t.get("error"),r=t.get("error_message");n&&r&&(z(r),t.delete("error"),t.delete("error_message"),e.hash=t.toString(),I.N.push(e.toString()))}},[z,R,C]);var F=(0,P.bF)({accountId:n,slug:h}),M=w({slug:null!=(ee=null==(B=F.data)?void 0:B.slug)?ee:"",ownerId:n},{enabled:null!=F.data}),J=j({id:null!=(et=null==(H=F.data)?void 0:H.id.toString())?et:"",slug:null!=(en=null==(G=F.data)?void 0:G.slug)?en:"",identeerSlug:null!=(er=null==(K=F.data)?void 0:K.identeerSlug)?er:"",accountId:n},{enabled:null!=F.data}),V=v({extensionId:null!=(eo=null==(Z=F.data)?void 0:Z.id.toString())?eo:"",extensionSlug:null!=(ei=null==(X=F.data)?void 0:X.slug)?ei:"",extensionIdenteerSlug:null!=(ea=null==(Y=F.data)?void 0:Y.identeerSlug)?ea:"",redirectUri:window.location.href,accountId:n},{enabled:null!=F.data});if((null==(Q=M.data)?void 0:Q.token)=="Unauthorized")return(0,r.jsx)(A.A,{className:s,error:"You don’t have the necessary permissions to to view this extension."});if(F.isError||V.isError||M.isError||J.isError){var B,H,G,K,Z,X,Y,Q,ee,et,en,er,eo,ei,ea,ec,eu,es,el=null!=(es=null!=(eu=null!=(ec=F.error)?ec:V.error)?eu:M.error)?es:J.error;return(0,r.jsx)(p,{className:s,error:el})}if(!C||F.isLoading||V.isLoading||M.isLoading||J.isLoading)return(0,r.jsx)(m,{className:s});if(null===F.data)return(0,r.jsx)(p,{className:s,error:"Failed to retrieve extension metadata."});var ef="prod",ed={webhookBaseURL:null,projectId:null,notifyVisualEditor:!0};return O===c.vJ.VisualEditorConfiguration&&(ed.webhookBaseURL=_&&ef?"".concat(i.tN[ef],"/").concat(_,"/content-source/").concat(F.data.slug,"-connector/"):null,ed.projectId=null!=g?g:null,ed.notifyVisualEditor=null==T||T),(0,r.jsx)(W,{className:s,identeerError:U,data:{context:{auth:{netlifyToken:M.data.token,providerAuthUrl:V.data,providerToken:J.data.token,providerTokens:J.data.tokens},user:{id:null!=u?u:null},siteId:null!=k?k:null,teamId:null!=n?n:null,accountId:null!=n?n:null,configurationId:l,dataLayerId:f,projectId:g,deployId:null!=q?q:null,theme:D,visualEditor:ed},extension:{id:F.data.id.toString(),name:F.data.name,slug:F.data.slug,identeerSlug:null!=(t=F.data.identeerSlug)?t:""}},entrypoint:"".concat(F.data.hostSiteUrl,"/ui/index.html"),name:O,onRequestTermination:b,title:"string"==typeof S?S:S(F.data.name)})}},75025:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(36870),o=n(57309),i=n(56674);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){var t,n,c=a({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}(e));return(0,r.jsx)(o.A,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},c),n=n={children:(0,r.jsx)(i.A,{})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t))}},75060:(e,t,n)=>{n.d(t,{Bq:()=>d,D9:()=>I,Ew:()=>P,FV:()=>D,FX:()=>A,H9:()=>q,Jb:()=>i,Jx:()=>F,KP:()=>V,MC:()=>g,MN:()=>v,Nn:()=>U,O7:()=>_,Ox:()=>z,Q2:()=>p,Rs:()=>H,SE:()=>E,UE:()=>k,U_:()=>o,We:()=>C,XA:()=>T,XS:()=>W,Xq:()=>u,Y7:()=>h,ZA:()=>s,cr:()=>x,cs:()=>B,dP:()=>R,f0:()=>f,fq:()=>j,gb:()=>N,gl:()=>l,h1:()=>M,hM:()=>b,hl:()=>a,hw:()=>O,jC:()=>S,k3:()=>c,kT:()=>w,l7:()=>L,qA:()=>J,vK:()=>y,yg:()=>G,zh:()=>m});var r=function(e,t,n){return!!(e&&e.getIn(["user_capabilities",t,n]))},o=function(e){return e&&e.getIn(["user_capabilities","billing"])},i=function(e){return r(e,"account_firewall","u")},a=function(e){return r(e,"account_usage","r")},c=function(e){return r(e,"accounts","r")},u=function(e){return r(e,"accounts","u")},s=function(e){return r(e,"accounts","d")},l=function(e){return r(e,"account_traffic_rules","c")},f=function(e){return r(e,"account_traffic_rules","u")},d=function(e){return r(e,"account_traffic_rules","d")},p=function(e){return r(e,"account_trusted_proxies","u")},h=function(e){return r(e,"billing","r")},y=function(e){return r(e,"billing","u")},v=function(e){return r(e,"builds","r")},m=function(e){return r(e,"connect","c")},b=function(e){return r(e,"connect","r")},g=function(e){return r(e,"connect","u")},w=function(e){return r(e,"connect","d")},k=function(e){return r(e,"create","c")},O=function(e){return r(e,"create","u")},S=function(e){return r(e,"create","d")},j=function(e){return r(e,"deploys","r")},_=function(e){return r(e,"domains","c")},P=function(e){return r(e,"domains","r")},I=function(e){return r(e,"domains","u")},A=function(e){return r(e,"domains","d")},x=function(e){return r(e,"members","c")},E=function(e){return r(e,"members","r")},T=function(e){return r(e,"members","u")},q=function(e){return r(e,"members","d")},D=function(e){return r(e,"reviewers","c")},N=function(e){return r(e,"reviewers","u")},C=function(e){return r(e,"security_kpis","r")},R=function(e){return r(e,"shared_environment_variables","u")},L=function(e){return r(e,"site_firewall","u")},U=function(e){return r(e,"site_waf","u")},z=function(e){return r(e,"site_trusted_proxies","u")},F=function(e){return r(e,"sites","c")},M=function(e){return r(e,"sites","r")},J=function(e){return r(e,"sites","u")},V=function(e){return r(e,"sites","d")},B=function(e){return r(e,"site_traffic_rules","c")},W=function(e){return r(e,"site_traffic_rules","u")},H=function(e){return r(e,"site_traffic_rules","d")},G=function(e){return r(e,"accounts","u")}},81036:(e,t,n)=>{n.d(t,{v:()=>r.vJ});var r=n(27060)},81930:(e,t,n)=>{n.d(t,{G:()=>c});var r=n(11080);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){}var c=function e(t){var n=this,c=t.appId,u=t.onAppInstall,s=t.enterpriseUrl,l=void 0===s?"":s;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");i(this,"appId",void 0),i(this,"onAppInstall",void 0),i(this,"provider",void 0),i(this,"url",void 0),i(this,"messageHandler",function(e){var t=e&&e.data;if(/^installation:ready:/.test(t)){var r,i=(r=t.match(/^installation:ready:(\d+):([\w-]+)$/),function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(r,3)||function(e,t){if(e){if("string"==typeof e)return o(e,3);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(r,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=(i[0],i[1]),c=i[2];n.onAppInstall({installationId:Number(a),login:c}),n.close()}}),i(this,"open",function(){window.addEventListener("message",n.messageHandler,!1),(0,r.D1)({provider:n.provider,url:n.url})}),i(this,"close",function(){n.cleanup()}),i(this,"cleanup",function(){window.removeEventListener("message",n.messageHandler,!1),(0,r.Do)()}),this.appId=c||"netlify",this.onAppInstall=u||a,this.url=l?"".concat(l.replace(/\/$/,""),"/github-apps/netlify/installations/new"):"https://github.com/apps/".concat(this.appId,"/installations/new"),this.provider=l?"github_enterprise":"github_app"}},82364:(e,t,n)=>{n.d(t,{$m:()=>A,$q:()=>b,J7:()=>l,JR:()=>w,Jm:()=>m,Jv:()=>x,O:()=>P,QU:()=>p,QX:()=>S,Te:()=>C,V2:()=>I,_h:()=>j,ay:()=>g,bR:()=>_,fS:()=>E,gD:()=>h,gX:()=>d,jI:()=>q,kY:()=>T,n5:()=>D,qK:()=>s,sK:()=>k,tx:()=>v,ty:()=>N,x3:()=>u,xl:()=>O,xw:()=>c});var r=n(51101),o=n(62981),i=n(45235),a=n(75060),c="all",u="selected",s="none",l=["enforced_strict","enforced_with_fallback"],f="active",d="final_notice",p="hibernating",h="cancelled",y="locked";function v(e,t){return!!(e&&(0,a.qA)(t)&&!b(e))}function m(e,t){return!!(e&&(0,a.KP)(t)&&!b(e))}function b(e){return!!(e&&e.get("public"))}function g(e,t){return(0,a.fq)(t)||b(e)}function w(e,t){return!!t||(0,a.vK)(e)}function k(e){return!!e&&l.includes(e.get("enforce_saml"))}function O(e,t){return!!e}var S=function(e){return!(!e||(0,r.Dv)(e.get("type_slug"))||!(0,r.RR)(e.get("type_slug"))||!(0,a.vK)(e)||(0,o.wu)(e)||(0,o.AB)(e))};function j(e){return!(!e||x(e)||!(0,r.RR)(e.get("type_slug"))||!(0,a.vK)(e)||(0,o.wu)(e)||(0,o.AB)(e))}function _(e){return(0,i.dU)(e)?i.hQ:(0,i.X0)(e)?i.mG:e}function P(e,t){return e===c?"All projects":e===u?0===t?"No projects":t?"".concat(t," ").concat((0,r.td)("project",t)):"Selected projects":e===s?"No projects":""}function I(e,t){var n=e&&e.get("account_slug");return t&&t.find(function(e){return e.get("slug")===n})}function A(e){return e&&e.get("lifecycle_state")===f}function x(e){var t=e&&e.get("lifecycle_state");return t&&t!==f&&t!==y}function E(e){return[d,p,h].includes(e&&e.get("lifecycle_state"))}function T(e){return(e&&e.get("lifecycle_state"))===y}function q(e,t){return e&&(e.getIn(["capabilities",t,"included"])||e.getIn(["site_capabilities",t]))}function D(e){return!!e&&!!e.getIn(["capabilities","self_hosted_git_support","included"])&&(0,a.Xq)(e)}function N(e){return!!(e&&(0,a.MN)(e)&&"all"===e.get("site_access")&&!E(e))}var C=function(e){var t=null==e?void 0:e.getIn(["capabilities","security_kpis","included"]),n=(0,a.We)(e);return t&&n}},86147:(e,t,n)=>{n.d(t,{A:()=>r});let r=new(n(21900)).E({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}})},87504:(e,t,n)=>{n.d(t,{n:()=>d});var r=n(38429),o=n(5226),i=n(96655),a=n(99953);function c(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)})}}function s(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}var l=function(e){var t=e.accountId;return function(e,n){return u(function(){return s(this,function(r){return[2,u(function(){var r,o,c,u;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,(0,i.C)({accountId:t})];case 1:return o=s.sent(),r="Bearer ".concat(o.jwt),[3,3];case 2:return s.sent(),r=void 0,[3,3];case 3:return(c=new URL("/graphql",a.t)).search=new URLSearchParams({operationName:e.name,show_metrics:"false",netlify_account_id:t}).toString(),[4,fetch(c,{method:"POST",headers:{Authorization:r,"Content-Type":"application/json",Accept:"application/json",serviceid:"94103628-541d-4cbd-8273-16850b910ebc"},body:JSON.stringify({query:e.text,doc_id:e.id,variables:n})})];case 4:return[4,s.sent().json()];case 5:if(u=s.sent(),"mutation"===e.operationKind&&u.errors)return[2,{data:null,errors:u.errors}];return[2,u]}})})()]})})()}},f=function(){var e=new URL("/graphql/subscriptions",a.t);e.protocol="wss";var t=new o.SubscriptionClient(e.href,{reconnect:!0});return function(e,n){var o=t.request({query:e.text,operationName:e.name,variables:n});return r.Observable.from(o)}},d=function(e){var t=l({accountId:e.accountId}),n=f();return new r.Environment({network:r.Network.create(t,n),store:new r.Store(new r.RecordSource)})}},89907:(e,t,n)=>{n.d(t,{Q:()=>u,q:()=>c});var r=n(3640);function o(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function c(e){o(a,r,i,c,u,"next",e)}function u(e){o(a,r,i,c,u,"throw",e)}c(void 0)})}}function a(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}function c(e){e.site;var t=e.envVars;return{isExistingEnvVar:function(e){var n;return null!=(n=null==t?void 0:t.some(function(t){return t.key===e}))&&n},getEnvVar:function(e){var n=null==t?void 0:t.find(function(t){return t.key===e});return n?{envVar:n}:null}}}function u(e){var t=e.dispatch,n=e.site,o=e.accountId,c=n.get("id");return{createEnvVars:function(e){return i(function(){return a(this,function(n){return e.length?[2,t((0,r.g8)({accountId:o,siteId:c,envVars:e}))]:[2]})})()},deleteEnvVars:function(e){return i(function(){return a(this,function(n){return e.length&&e.forEach(function(e){t((0,r.mP)({accountId:o,siteId:c,key:e}))}),[2]})})()},updateEnvVars:function(e){return i(function(){return a(this,function(n){return e.length&&e.forEach(function(e){t((0,r.cr)({accountId:o,siteId:c,oldKey:e.key,newKey:e.key,scopes:e.scopes,values:e.values}))}),[2]})})()}}}},92488:(e,t,n)=>{n.d(t,{Gj:()=>s,K1:()=>h,MR:()=>y,QM:()=>v,Um:()=>m,V8:()=>b,Wx:()=>l,Zt:()=>c,_m:()=>u,_o:()=>a,aQ:()=>d,r0:()=>i,sB:()=>f,sU:()=>p,tE:()=>o,tc:()=>g});var r="workflow-ui",o="/".concat(r,"/surfaces"),i="/".concat(r,"/package"),a="site-settings",c="log-drains-settings",u="integrations-settings",s="integration-team-configuration",l="extension-connect-configuration",f="extension-visual-editor-configuration",d="integration-site-configuration",p="extension-site-access-configuration",h="extension-site-notifications-configuration",y="extension-site-build-and-deploy-configuration",v="extension-site-general-configuration",m="extension-top-level-site-configuration",b="http://localhost:35472",g=/https:\/\/integration-preview--[^/]+\.netlify\.live/},93707:(e,t,n)=>{n.d(t,{QZ:()=>c,W9:()=>r.W9,bi:()=>r.bi,c9:()=>r.c9,dC:()=>r.dC,fQ:()=>r.fQ,gM:()=>r.gM,le:()=>r.le,rW:()=>r.rW,wM:()=>r.wM});var r=n(27060);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,t)||a(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}var c=function(e){return""===e.trim()?"":Array.from((0,r.c9)(e).sort(r.gM).reduce(function(e,t){var n,c,u=i((0,r.le)(t),2),s=u[0],l=u[1];return e.set(s,((function(e){if(Array.isArray(e))return o(e)})(n=null!=(c=e.get(s))?c:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||a(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([l]))},new Map)).map(function(e){var t=i(e,2),n=t[0],o=t[1];return"".concat((0,r.dC)(n)," (").concat(o.map(r.fQ).join(", "),")")}).join("; ")}},98780:(e,t,n)=>{n.d(t,{KN:()=>h,KP:()=>p,Rh:()=>f,ob:()=>d,qo:()=>y});var r=n(86326),o=n(67448);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){n(e);return}c.done?t(u):Promise.resolve(u).then(r,o)}var c=o.z.object({url:o.z.string(),slug:o.z.string(),redirect_path:o.z.string().optional()}),u="nf-extension-token",s="nf-extension-dev-config",l={FAILED_TO_PARSE_TOKEN:"[EXT-UI] Failed to parse ".concat(u,"."),UNAUTHORIZED:"[EXT-UI] Auth failed. Make sure you are logged in as the same user in the Netlify CLI and the Netlify App.",FAILED_TO_LOAD_FROM_STORAGE:"[EXT-UI] Failed to load ".concat(s," from local storage.")};function f(e,t){var n=p();return(null==n?void 0:n.url)&&n.slug===e.extension.slug?n.url:t}function d(){var e;return(e=function(){var e,t,n,r,o;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var s=[c,u];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}}(this,function(i){switch(i.label){case 0:if(!(e=new URLSearchParams(window.location.search)).has(u))return[3,6];if(!(t=e.get(u)))return[2];return[4,fetch("/.netlify/functions/ntli-extension-dev-auth-verify",{method:"POST",body:JSON.stringify({token:t})})];case 1:n=i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,n.json()];case 3:return r=i.sent(),[3,5];case 4:return i.sent(),console.error(l.UNAUTHORIZED),[2];case 5:if((o=c.safeParse(null==r?void 0:r.data)).success)return[2,o.data];console.warn(l.FAILED_TO_PARSE_TOKEN,o.error.message),i.label=6;case 6:return[2]}})},function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,u,"next",e)}function u(e){a(i,r,o,c,u,"throw",e)}c(void 0)})})()}function p(){var e,t=(e=(0,r.useState)(null),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,c=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(c)throw r}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],o=t[1];return(0,r.useEffect)(function(){var e=function(){o(function(){try{var e=localStorage.getItem(s);if(!e)return null;var t=c.safeParse(JSON.parse(e));if(t.success)return t.data;console.error(l.FAILED_TO_LOAD_FROM_STORAGE,t.error.message),y()}catch(e){console.error(l.FAILED_TO_LOAD_FROM_STORAGE,e),y()}return null}())};e();var t=function(t){t.key===s&&e()};return window.addEventListener("storage",t),function(){window.removeEventListener("storage",t)}},[]),n}function h(e){localStorage.setItem(s,JSON.stringify(e)),window.dispatchEvent(new StorageEvent("storage",{key:s}))}function y(){localStorage.removeItem(s),window.dispatchEvent(new StorageEvent("storage",{key:s}))}}}]);